{"ast":null,"code":"var _jsxFileName = \"/home/arbinlama/6semProject/Mealbasket/react-frontend/src/pages/MealPlanner.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Grid, Card, CardContent, Typography, Button, Box, Chip, CircularProgress, Alert, Dialog, DialogTitle, DialogContent, DialogActions, TextField, MenuItem, IconButton, useTheme } from '@mui/material';\nimport { Restaurant, CalendarToday, LocalFireDepartment, AttachMoney, AutoAwesome, Add, Edit, Delete, Close } from '@mui/icons-material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { mealPlanAPI } from '../services/api';\nimport { format } from 'date-fns';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MealPlanner = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const theme = useTheme();\n  const [mealPlans, setMealPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [openDialog, setOpenDialog] = useState(false);\n  const [editingPlan, setEditingPlan] = useState(null);\n  const [aiRecommendation, setAiRecommendation] = useState(null);\n  const [formData, setFormData] = useState({\n    planName: '',\n    mealType: 'BREAKFAST',\n    ingredients: '',\n    instructions: ''\n  });\n  const mealTypes = ['BREAKFAST', 'LUNCH', 'DINNER', 'SNACK'];\n  useEffect(() => {\n    fetchMealPlans();\n  }, [selectedDate]);\n  const fetchMealPlans = async () => {\n    if (!user) {\n      setError(\"Please log in to view meal plans\");\n      setLoading(false);\n      return;\n    }\n    try {\n      var _localStorage$getItem, _response$data;\n      setLoading(true);\n      setError(null);\n      console.log(\"Fetching meal plans for date:\", selectedDate);\n      console.log(\"User token:\", ((_localStorage$getItem = localStorage.getItem('token')) === null || _localStorage$getItem === void 0 ? void 0 : _localStorage$getItem.substring(0, 20)) + \"...\"); // partial for security\n\n      const response = await mealPlanAPI.getPlansByDate(selectedDate);\n      console.log(\"API full response:\", response);\n      if ((_response$data = response.data) !== null && _response$data !== void 0 && _response$data.success) {\n        console.log(\"Plans received:\", response.data.data);\n        setMealPlans(response.data.data || []);\n      } else {\n        var _response$data2;\n        const serverMsg = ((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.message) || \"No success flag in response\";\n        console.error(\"API returned unsuccessful:\", serverMsg);\n        setError(`Server responded with error: ${serverMsg}`);\n      }\n    } catch (err) {\n      console.error(\"Fetch meal plans failed:\", err);\n      if (err.response) {\n        var _err$response$data;\n        // Server responded with error status (4xx/5xx)\n        console.error(\"Response data:\", err.response.data);\n        console.error(\"Status:\", err.response.status);\n        setError(((_err$response$data = err.response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || `Server error (${err.response.status})`);\n      } else if (err.request) {\n        // No response received (network/CORS/timeout)\n        console.error(\"No response received - possible CORS or network issue\");\n        setError(\"Cannot reach the server. Check your internet or if backend is running.\");\n      } else {\n        setError(\"Unexpected error: \" + err.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGenerateAIRecommendation = async () => {\n    if (formData.planName.trim() || formData.ingredients.trim() || formData.instructions.trim()) {\n      if (!window.confirm('Generate new AI suggestion? Current fields will be overwritten.')) {\n        return;\n      }\n    }\n    try {\n      var _response$data3;\n      const response = await mealPlanAPI.getAIRecommendation(formData.mealType, selectedDate);\n      if ((_response$data3 = response.data) !== null && _response$data3 !== void 0 && _response$data3.success) {\n        const rec = response.data.data;\n        setAiRecommendation(rec);\n        // Optional: auto-fill form fields from AI response\n        setFormData(prev => ({\n          ...prev,\n          planName: rec.suggestedName || `AI ${formData.mealType} Suggestion`,\n          ingredients: rec.ingredients || prev.ingredients,\n          instructions: rec.instructions || prev.instructions\n        }));\n      }\n    } catch (err) {\n      setError('Failed to generate AI recommendation');\n      console.error('Error generating AI recommendation:', err);\n    }\n  };\n  const isFormValid = () => formData.planName.trim() !== '' && formData.mealType && formData.ingredients.trim() !== '' && formData.instructions.trim() !== '';\n  const handleSaveMealPlan = async () => {\n    if (!isFormValid()) {\n      setError('Please fill in all required fields');\n      return;\n    }\n    try {\n      const planData = {\n        ...formData,\n        planDate: selectedDate,\n        calories: (aiRecommendation === null || aiRecommendation === void 0 ? void 0 : aiRecommendation.calories) || 400,\n        estimatedCost: (aiRecommendation === null || aiRecommendation === void 0 ? void 0 : aiRecommendation.estimatedCost) || 150,\n        // NPR default\n        aiRecommendation: (aiRecommendation === null || aiRecommendation === void 0 ? void 0 : aiRecommendation.aiRecommendation) || '',\n        isRecommended: !!aiRecommendation\n      };\n      if (editingPlan) {\n        await mealPlanAPI.update(editingPlan.id, planData);\n      } else {\n        await mealPlanAPI.create(planData);\n      }\n      setOpenDialog(false);\n      setEditingPlan(null);\n      setAiRecommendation(null);\n      setFormData({\n        planName: '',\n        mealType: 'BREAKFAST',\n        ingredients: '',\n        instructions: ''\n      });\n      fetchMealPlans();\n    } catch (err) {\n      setError('Failed to save meal plan');\n      console.error('Error saving meal plan:', err);\n    }\n  };\n  const handleEdit = plan => {\n    setEditingPlan(plan);\n    setFormData({\n      planName: plan.planName || '',\n      mealType: plan.mealType || 'BREAKFAST',\n      ingredients: plan.ingredients || '',\n      instructions: plan.instructions || ''\n    });\n    setOpenDialog(true);\n  };\n  const handleDelete = async planId => {\n    if (!window.confirm('Are you sure you want to delete this meal plan?')) return;\n    try {\n      await mealPlanAPI.delete(planId);\n      fetchMealPlans();\n    } catch (err) {\n      setError('Failed to delete meal plan');\n      console.error('Error deleting meal plan:', err);\n    }\n  };\n  const handleOpenDialog = () => {\n    setEditingPlan(null);\n    setAiRecommendation(null);\n    setFormData({\n      planName: '',\n      mealType: 'BREAKFAST',\n      ingredients: '',\n      instructions: ''\n    });\n    setOpenDialog(true);\n  };\n  const getMealTypeIcon = mealType => {\n    switch (mealType) {\n      case 'BREAKFAST':\n        return 'üåÖ';\n      case 'LUNCH':\n        return '‚òÄÔ∏è';\n      case 'DINNER':\n        return 'üåô';\n      case 'SNACK':\n        return 'üçø';\n      default:\n        return 'üçΩÔ∏è';\n    }\n  };\n  const getMealTypeColor = mealType => {\n    switch (mealType) {\n      case 'BREAKFAST':\n        return 'warning';\n      case 'LUNCH':\n        return 'info';\n      case 'DINNER':\n        return 'secondary';\n      case 'SNACK':\n        return 'success';\n      default:\n        return 'primary';\n    }\n  };\n  if (loading && mealPlans.length === 0) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        mt: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        size: 60\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        mb: 4,\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h3\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"\\uD83C\\uDF7D\\uFE0F Smart Meal Planner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        children: \"Plan your meals with AI-powered recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        gap: 2,\n        mb: 4,\n        flexWrap: 'wrap',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        type: \"date\",\n        label: \"Select Date\",\n        value: selectedDate,\n        onChange: e => setSelectedDate(e.target.value),\n        InputProps: {\n          startAdornment: /*#__PURE__*/_jsxDEV(CalendarToday, {\n            sx: {\n              mr: 1,\n              color: 'action.active'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this)\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 22\n        }, this),\n        onClick: handleOpenDialog,\n        children: \"Add Meal Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      sx: {\n        mb: 3\n      },\n      onClose: () => setError(null),\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: mealPlans.map(plan => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          sx: {\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            position: 'relative',\n            border: plan.isRecommended ? `2px solid ${theme.palette.success.main}` : 'none'\n          },\n          children: [plan.isRecommended && /*#__PURE__*/_jsxDEV(Chip, {\n            icon: /*#__PURE__*/_jsxDEV(AutoAwesome, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 25\n            }, this),\n            label: \"AI Recommended\",\n            color: \"success\",\n            size: \"small\",\n            sx: {\n              position: 'absolute',\n              top: 10,\n              right: 10,\n              zIndex: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(CardContent, {\n            sx: {\n              flexGrow: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                alignItems: 'center',\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h2\",\n                sx: {\n                  mr: 1\n                },\n                children: getMealTypeIcon(plan.mealType)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"h6\",\n                  component: \"h3\",\n                  children: plan.planName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                  label: plan.mealType,\n                  color: getMealTypeColor(plan.mealType),\n                  size: \"small\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this), plan.aiRecommendation && /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"info\",\n              sx: {\n                mb: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: plan.aiRecommendation\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                gutterBottom: true,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Ingredients:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this), \" \", plan.ingredients || 'Not specified']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                color: \"text.secondary\",\n                gutterBottom: true,\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Instructions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 21\n                }, this), \" \", plan.instructions || 'Not specified']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1,\n                mb: 2\n              },\n              children: [/*#__PURE__*/_jsxDEV(Chip, {\n                icon: /*#__PURE__*/_jsxDEV(LocalFireDepartment, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 27\n                }, this),\n                label: `${plan.calories || 0} cal`,\n                size: \"small\",\n                color: \"warning\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Chip, {\n                icon: /*#__PURE__*/_jsxDEV(AttachMoney, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 27\n                }, this),\n                label: `NPR ${(plan.estimatedCost || 0).toFixed(0)}`,\n                size: \"small\",\n                color: \"success\",\n                variant: \"outlined\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                display: 'flex',\n                gap: 1,\n                mt: 'auto'\n              },\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                size: \"small\",\n                startIcon: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 32\n                }, this),\n                onClick: () => handleEdit(plan),\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                size: \"small\",\n                color: \"error\",\n                startIcon: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 32\n                }, this),\n                onClick: () => handleDelete(plan.id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this)\n      }, plan.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 7\n    }, this), mealPlans.length === 0 && !loading && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        textAlign: 'center',\n        py: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(Restaurant, {\n        sx: {\n          fontSize: 64,\n          color: 'text.secondary',\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"text.secondary\",\n        gutterBottom: true,\n        children: \"No meal plans for this date\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 389,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body2\",\n        color: \"text.secondary\",\n        gutterBottom: true,\n        children: \"Create your first meal plan or generate AI recommendations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        startIcon: /*#__PURE__*/_jsxDEV(Add, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 24\n        }, this),\n        onClick: handleOpenDialog,\n        sx: {\n          mt: 2\n        },\n        children: \"Create Meal Plan\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: openDialog,\n      onClose: () => setOpenDialog(false),\n      maxWidth: \"md\",\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: [editingPlan ? 'Edit Meal Plan' : 'Create Meal Plan', /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: () => setOpenDialog(false),\n          sx: {\n            position: 'absolute',\n            right: 8,\n            top: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(Close, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 2,\n            pt: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Plan Name\",\n            fullWidth: true,\n            value: formData.planName,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              planName: e.target.value\n            })),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            select: true,\n            label: \"Meal Type\",\n            fullWidth: true,\n            value: formData.mealType,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              mealType: e.target.value\n            })),\n            required: true,\n            children: mealTypes.map(type => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: type,\n              children: [getMealTypeIcon(type), \" \", type]\n            }, type, true, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Ingredients\",\n            fullWidth: true,\n            multiline: true,\n            rows: 3,\n            value: formData.ingredients,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              ingredients: e.target.value\n            })),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Instructions\",\n            fullWidth: true,\n            multiline: true,\n            rows: 3,\n            value: formData.instructions,\n            onChange: e => setFormData(prev => ({\n              ...prev,\n              instructions: e.target.value\n            })),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            startIcon: /*#__PURE__*/_jsxDEV(AutoAwesome, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 26\n            }, this),\n            onClick: handleGenerateAIRecommendation,\n            disabled: !formData.mealType,\n            children: \"Generate AI Recommendation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 13\n          }, this), aiRecommendation && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"success\",\n            sx: {\n              mt: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"AI Suggestion:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 19\n              }, this), \" \", aiRecommendation.aiRecommendation]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 474,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Calories:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 19\n              }, this), \" \", aiRecommendation.calories, \" kcal\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Est. Cost:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 19\n              }, this), \" NPR \", (aiRecommendation.estimatedCost || 0).toFixed(0)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 473,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setOpenDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleSaveMealPlan,\n          disabled: !isFormValid(),\n          children: editingPlan ? 'Update' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n};\n_s(MealPlanner, \"0g+ES3yqRFt6hoKgcpsw18nyoQs=\", false, function () {\n  return [useAuth, useTheme];\n});\n_c = MealPlanner;\nexport default MealPlanner;\nvar _c;\n$RefreshReg$(_c, \"MealPlanner\");","map":{"version":3,"names":["React","useState","useEffect","Container","Grid","Card","CardContent","Typography","Button","Box","Chip","CircularProgress","Alert","Dialog","DialogTitle","DialogContent","DialogActions","TextField","MenuItem","IconButton","useTheme","Restaurant","CalendarToday","LocalFireDepartment","AttachMoney","AutoAwesome","Add","Edit","Delete","Close","useAuth","mealPlanAPI","format","jsxDEV","_jsxDEV","MealPlanner","_s","user","theme","mealPlans","setMealPlans","loading","setLoading","error","setError","selectedDate","setSelectedDate","Date","openDialog","setOpenDialog","editingPlan","setEditingPlan","aiRecommendation","setAiRecommendation","formData","setFormData","planName","mealType","ingredients","instructions","mealTypes","fetchMealPlans","_localStorage$getItem","_response$data","console","log","localStorage","getItem","substring","response","getPlansByDate","data","success","_response$data2","serverMsg","message","err","_err$response$data","status","request","handleGenerateAIRecommendation","trim","window","confirm","_response$data3","getAIRecommendation","rec","prev","suggestedName","isFormValid","handleSaveMealPlan","planData","planDate","calories","estimatedCost","isRecommended","update","id","create","handleEdit","plan","handleDelete","planId","delete","handleOpenDialog","getMealTypeIcon","getMealTypeColor","length","sx","display","justifyContent","mt","children","size","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","py","mb","textAlign","variant","component","gutterBottom","color","gap","flexWrap","alignItems","type","label","value","onChange","e","target","InputProps","startAdornment","mr","startIcon","onClick","severity","onClose","container","spacing","map","item","xs","sm","md","height","flexDirection","position","border","palette","main","icon","top","right","zIndex","flexGrow","toFixed","fontSize","open","fullWidth","pt","required","select","multiline","rows","disabled","_c","$RefreshReg$"],"sources":["/home/arbinlama/6semProject/Mealbasket/react-frontend/src/pages/MealPlanner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {\n  Container,\n  Grid,\n  Card,\n  CardContent,\n  Typography,\n  Button,\n  Box,\n  Chip,\n  CircularProgress,\n  Alert,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  MenuItem,\n  IconButton,\n  useTheme,\n} from '@mui/material';\nimport {\n  Restaurant,\n  CalendarToday,\n  LocalFireDepartment,\n  AttachMoney,\n  AutoAwesome,\n  Add,\n  Edit,\n  Delete,\n  Close,\n} from '@mui/icons-material';\nimport { useAuth } from '../contexts/AuthContext';\nimport { mealPlanAPI } from '../services/api';\nimport { format } from 'date-fns';\n\nconst MealPlanner = () => {\n  const { user } = useAuth();\n  const theme = useTheme();\n\n  const [mealPlans, setMealPlans] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [openDialog, setOpenDialog] = useState(false);\n  const [editingPlan, setEditingPlan] = useState(null);\n  const [aiRecommendation, setAiRecommendation] = useState(null);\n\n  const [formData, setFormData] = useState({\n    planName: '',\n    mealType: 'BREAKFAST',\n    ingredients: '',\n    instructions: '',\n  });\n\n  const mealTypes = ['BREAKFAST', 'LUNCH', 'DINNER', 'SNACK'];\n\n  useEffect(() => {\n    fetchMealPlans();\n  }, [selectedDate]);\n\n const fetchMealPlans = async () => {\n  if (!user) {\n    setError(\"Please log in to view meal plans\");\n    setLoading(false);\n    return;\n  }\n\n  try {\n    setLoading(true);\n    setError(null);\n\n    console.log(\"Fetching meal plans for date:\", selectedDate);\n    console.log(\"User token:\", localStorage.getItem('token')?.substring(0, 20) + \"...\"); // partial for security\n\n    const response = await mealPlanAPI.getPlansByDate(selectedDate);\n\n    console.log(\"API full response:\", response);\n\n    if (response.data?.success) {\n      console.log(\"Plans received:\", response.data.data);\n      setMealPlans(response.data.data || []);\n    } else {\n      const serverMsg = response.data?.message || \"No success flag in response\";\n      console.error(\"API returned unsuccessful:\", serverMsg);\n      setError(`Server responded with error: ${serverMsg}`);\n    }\n  } catch (err) {\n    console.error(\"Fetch meal plans failed:\", err);\n    if (err.response) {\n      // Server responded with error status (4xx/5xx)\n      console.error(\"Response data:\", err.response.data);\n      console.error(\"Status:\", err.response.status);\n      setError(\n        err.response.data?.message ||\n        `Server error (${err.response.status})`\n      );\n    } else if (err.request) {\n      // No response received (network/CORS/timeout)\n      console.error(\"No response received - possible CORS or network issue\");\n      setError(\"Cannot reach the server. Check your internet or if backend is running.\");\n    } else {\n      setError(\"Unexpected error: \" + err.message);\n    }\n  } finally {\n    setLoading(false);\n  }\n};\n\n  const handleGenerateAIRecommendation = async () => {\n    if (\n      formData.planName.trim() ||\n      formData.ingredients.trim() ||\n      formData.instructions.trim()\n    ) {\n      if (!window.confirm('Generate new AI suggestion? Current fields will be overwritten.')) {\n        return;\n      }\n    }\n\n    try {\n      const response = await mealPlanAPI.getAIRecommendation(\n        formData.mealType,\n        selectedDate\n      );\n      if (response.data?.success) {\n        const rec = response.data.data;\n        setAiRecommendation(rec);\n        // Optional: auto-fill form fields from AI response\n        setFormData((prev) => ({\n          ...prev,\n          planName: rec.suggestedName || `AI ${formData.mealType} Suggestion`,\n          ingredients: rec.ingredients || prev.ingredients,\n          instructions: rec.instructions || prev.instructions,\n        }));\n      }\n    } catch (err) {\n      setError('Failed to generate AI recommendation');\n      console.error('Error generating AI recommendation:', err);\n    }\n  };\n\n  const isFormValid = () =>\n    formData.planName.trim() !== '' &&\n    formData.mealType &&\n    formData.ingredients.trim() !== '' &&\n    formData.instructions.trim() !== '';\n\n  const handleSaveMealPlan = async () => {\n    if (!isFormValid()) {\n      setError('Please fill in all required fields');\n      return;\n    }\n\n    try {\n      const planData = {\n        ...formData,\n        planDate: selectedDate,\n        calories: aiRecommendation?.calories || 400,\n        estimatedCost: aiRecommendation?.estimatedCost || 150, // NPR default\n        aiRecommendation: aiRecommendation?.aiRecommendation || '',\n        isRecommended: !!aiRecommendation,\n      };\n\n      if (editingPlan) {\n        await mealPlanAPI.update(editingPlan.id, planData);\n      } else {\n        await mealPlanAPI.create(planData);\n      }\n\n      setOpenDialog(false);\n      setEditingPlan(null);\n      setAiRecommendation(null);\n      setFormData({\n        planName: '',\n        mealType: 'BREAKFAST',\n        ingredients: '',\n        instructions: '',\n      });\n      fetchMealPlans();\n    } catch (err) {\n      setError('Failed to save meal plan');\n      console.error('Error saving meal plan:', err);\n    }\n  };\n\n  const handleEdit = (plan) => {\n    setEditingPlan(plan);\n    setFormData({\n      planName: plan.planName || '',\n      mealType: plan.mealType || 'BREAKFAST',\n      ingredients: plan.ingredients || '',\n      instructions: plan.instructions || '',\n    });\n    setOpenDialog(true);\n  };\n\n  const handleDelete = async (planId) => {\n    if (!window.confirm('Are you sure you want to delete this meal plan?')) return;\n\n    try {\n      await mealPlanAPI.delete(planId);\n      fetchMealPlans();\n    } catch (err) {\n      setError('Failed to delete meal plan');\n      console.error('Error deleting meal plan:', err);\n    }\n  };\n\n  const handleOpenDialog = () => {\n    setEditingPlan(null);\n    setAiRecommendation(null);\n    setFormData({\n      planName: '',\n      mealType: 'BREAKFAST',\n      ingredients: '',\n      instructions: '',\n    });\n    setOpenDialog(true);\n  };\n\n  const getMealTypeIcon = (mealType) => {\n    switch (mealType) {\n      case 'BREAKFAST': return 'üåÖ';\n      case 'LUNCH':     return '‚òÄÔ∏è';\n      case 'DINNER':    return 'üåô';\n      case 'SNACK':     return 'üçø';\n      default:          return 'üçΩÔ∏è';\n    }\n  };\n\n  const getMealTypeColor = (mealType) => {\n    switch (mealType) {\n      case 'BREAKFAST': return 'warning';\n      case 'LUNCH':     return 'info';\n      case 'DINNER':    return 'secondary';\n      case 'SNACK':     return 'success';\n      default:          return 'primary';\n    }\n  };\n\n  if (loading && mealPlans.length === 0) {\n    return (\n      <Container sx={{ display: 'flex', justifyContent: 'center', mt: 8 }}>\n        <CircularProgress size={60} />\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n      {/* Header */}\n      <Box sx={{ mb: 4, textAlign: 'center' }}>\n        <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n          üçΩÔ∏è Smart Meal Planner\n        </Typography>\n        <Typography variant=\"h6\" color=\"text.secondary\">\n          Plan your meals with AI-powered recommendations\n        </Typography>\n      </Box>\n\n      {/* Date & Add Button */}\n      <Box sx={{ display: 'flex', gap: 2, mb: 4, flexWrap: 'wrap', alignItems: 'center' }}>\n        <TextField\n          type=\"date\"\n          label=\"Select Date\"\n          value={selectedDate}\n          onChange={(e) => setSelectedDate(e.target.value)}\n          InputProps={{\n            startAdornment: <CalendarToday sx={{ mr: 1, color: 'action.active' }} />,\n          }}\n        />\n        <Button\n          variant=\"contained\"\n          startIcon={<Add />}\n          onClick={handleOpenDialog}\n        >\n          Add Meal Plan\n        </Button>\n      </Box>\n\n      {/* Error */}\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n          {error}\n        </Alert>\n      )}\n\n      {/* Meal Plans Grid */}\n      <Grid container spacing={3}>\n        {mealPlans.map((plan) => (\n          <Grid item xs={12} sm={6} md={4} key={plan.id}>\n            <Card\n              sx={{\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                position: 'relative',\n                border: plan.isRecommended ? `2px solid ${theme.palette.success.main}` : 'none',\n              }}\n            >\n              {plan.isRecommended && (\n                <Chip\n                  icon={<AutoAwesome />}\n                  label=\"AI Recommended\"\n                  color=\"success\"\n                  size=\"small\"\n                  sx={{ position: 'absolute', top: 10, right: 10, zIndex: 1 }}\n                />\n              )}\n\n              <CardContent sx={{ flexGrow: 1 }}>\n                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                  <Typography variant=\"h2\" sx={{ mr: 1 }}>\n                    {getMealTypeIcon(plan.mealType)}\n                  </Typography>\n                  <Box>\n                    <Typography variant=\"h6\" component=\"h3\">\n                      {plan.planName}\n                    </Typography>\n                    <Chip\n                      label={plan.mealType}\n                      color={getMealTypeColor(plan.mealType)}\n                      size=\"small\"\n                    />\n                  </Box>\n                </Box>\n\n                {plan.aiRecommendation && (\n                  <Alert severity=\"info\" sx={{ mb: 2 }}>\n                    <Typography variant=\"body2\">\n                      {plan.aiRecommendation}\n                    </Typography>\n                  </Alert>\n                )}\n\n                <Box sx={{ mb: 2 }}>\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                    <strong>Ingredients:</strong> {plan.ingredients || 'Not specified'}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n                    <strong>Instructions:</strong> {plan.instructions || 'Not specified'}\n                  </Typography>\n                </Box>\n\n                <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n                  <Chip\n                    icon={<LocalFireDepartment />}\n                    label={`${plan.calories || 0} cal`}\n                    size=\"small\"\n                    color=\"warning\"\n                    variant=\"outlined\"\n                  />\n                  <Chip\n                    icon={<AttachMoney />}\n                    label={`NPR ${(plan.estimatedCost || 0).toFixed(0)}`}\n                    size=\"small\"\n                    color=\"success\"\n                    variant=\"outlined\"\n                  />\n                </Box>\n\n                <Box sx={{ display: 'flex', gap: 1, mt: 'auto' }}>\n                  <Button\n                    size=\"small\"\n                    startIcon={<Edit />}\n                    onClick={() => handleEdit(plan)}\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    size=\"small\"\n                    color=\"error\"\n                    startIcon={<Delete />}\n                    onClick={() => handleDelete(plan.id)}\n                  >\n                    Delete\n                  </Button>\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n\n      {mealPlans.length === 0 && !loading && (\n        <Box sx={{ textAlign: 'center', py: 8 }}>\n          <Restaurant sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n            No meal plans for this date\n          </Typography>\n          <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n            Create your first meal plan or generate AI recommendations\n          </Typography>\n          <Button\n            variant=\"contained\"\n            startIcon={<Add />}\n            onClick={handleOpenDialog}\n            sx={{ mt: 2 }}\n          >\n            Create Meal Plan\n          </Button>\n        </Box>\n      )}\n\n      {/* Add/Edit Dialog */}\n      <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          {editingPlan ? 'Edit Meal Plan' : 'Create Meal Plan'}\n          <IconButton\n            onClick={() => setOpenDialog(false)}\n            sx={{ position: 'absolute', right: 8, top: 8 }}\n          >\n            <Close />\n          </IconButton>\n        </DialogTitle>\n\n        <DialogContent>\n          <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, pt: 1 }}>\n            <TextField\n              label=\"Plan Name\"\n              fullWidth\n              value={formData.planName}\n              onChange={(e) => setFormData((prev) => ({ ...prev, planName: e.target.value }))}\n              required\n            />\n\n            <TextField\n              select\n              label=\"Meal Type\"\n              fullWidth\n              value={formData.mealType}\n              onChange={(e) => setFormData((prev) => ({ ...prev, mealType: e.target.value }))}\n              required\n            >\n              {mealTypes.map((type) => (\n                <MenuItem key={type} value={type}>\n                  {getMealTypeIcon(type)} {type}\n                </MenuItem>\n              ))}\n            </TextField>\n\n            <TextField\n              label=\"Ingredients\"\n              fullWidth\n              multiline\n              rows={3}\n              value={formData.ingredients}\n              onChange={(e) => setFormData((prev) => ({ ...prev, ingredients: e.target.value }))}\n              required\n            />\n\n            <TextField\n              label=\"Instructions\"\n              fullWidth\n              multiline\n              rows={3}\n              value={formData.instructions}\n              onChange={(e) => setFormData((prev) => ({ ...prev, instructions: e.target.value }))}\n              required\n            />\n\n            <Button\n              variant=\"outlined\"\n              startIcon={<AutoAwesome />}\n              onClick={handleGenerateAIRecommendation}\n              disabled={!formData.mealType}\n            >\n              Generate AI Recommendation\n            </Button>\n\n            {aiRecommendation && (\n              <Alert severity=\"success\" sx={{ mt: 2 }}>\n                <Typography variant=\"body2\">\n                  <strong>AI Suggestion:</strong> {aiRecommendation.aiRecommendation}\n                </Typography>\n                <Typography variant=\"body2\">\n                  <strong>Calories:</strong> {aiRecommendation.calories} kcal\n                </Typography>\n                <Typography variant=\"body2\">\n                  <strong>Est. Cost:</strong> NPR {(aiRecommendation.estimatedCost || 0).toFixed(0)}\n                </Typography>\n              </Alert>\n            )}\n          </Box>\n        </DialogContent>\n\n        <DialogActions>\n          <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\n          <Button\n            variant=\"contained\"\n            onClick={handleSaveMealPlan}\n            disabled={!isFormValid()}\n          >\n            {editingPlan ? 'Update' : 'Save'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default MealPlanner;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}