{"ast":null,"code":"// Shared Product Service - Manages products across vendor and user dashboards\n\nclass ProductService {\n  constructor() {\n    // Initial products data\n    this.products = [{\n      id: 1,\n      name: 'Classic Burger',\n      vendor: 'Burger Palace',\n      vendorId: 1,\n      price: 12.99,\n      description: 'Juicy beef patty with fresh vegetables and special sauce',\n      rating: 4.5,\n      inStock: true,\n      image: 'https://via.placeholder.com/300x200/FF6B6B/FFFFFF?text=Classic+Burger',\n      ingredients: 'Beef patty, lettuce, tomato, onion, pickles, special sauce, sesame bun',\n      calories: 550,\n      prepTime: '15 mins',\n      category: 'Main Course',\n      createdAt: new Date().toISOString()\n    }, {\n      id: 2,\n      name: 'Pepperoni Pizza',\n      vendor: 'Pizza Express',\n      vendorId: 2,\n      price: 15.99,\n      description: 'Fresh mozzarella, pepperoni, and tomato sauce on thin crust',\n      rating: 4.7,\n      inStock: true,\n      image: 'https://via.placeholder.com/300x200/FF9800/FFFFFF?text=Pepperoni+Pizza',\n      ingredients: 'Fresh mozzarella, pepperoni, tomato sauce, olive oil, thin crust',\n      calories: 280,\n      prepTime: '20 mins',\n      category: 'Main Course',\n      createdAt: new Date().toISOString()\n    }, {\n      id: 3,\n      name: 'Caesar Salad',\n      vendor: 'Green Garden',\n      vendorId: 3,\n      price: 8.99,\n      description: 'Fresh romaine lettuce, parmesan, croutons, and Caesar dressing',\n      rating: 4.2,\n      inStock: true,\n      image: 'https://via.placeholder.com/300x200/4CAF50/FFFFFF?text=Caesar+Salad',\n      ingredients: 'Romaine lettuce, parmesan cheese, croutons, Caesar dressing',\n      calories: 180,\n      prepTime: '10 mins',\n      category: 'Salad',\n      createdAt: new Date().toISOString()\n    }, {\n      id: 4,\n      name: 'Grilled Chicken',\n      vendor: 'Chicken House',\n      vendorId: 4,\n      price: 14.99,\n      description: 'Tender grilled chicken breast with herbs and spices',\n      rating: 4.3,\n      inStock: true,\n      image: 'https://via.placeholder.com/300x200/2196F3/FFFFFF?text=Grilled+Chicken',\n      ingredients: 'Chicken breast, herbs, spices, olive oil, grilled vegetables',\n      calories: 320,\n      prepTime: '25 mins',\n      category: 'Main Course',\n      createdAt: new Date().toISOString()\n    }];\n\n    // Subscribers for real-time updates\n    this.subscribers = [];\n  }\n\n  // Subscribe to product changes\n  subscribe(callback) {\n    this.subscribers.push(callback);\n    return () => {\n      this.subscribers = this.subscribers.filter(sub => sub !== callback);\n    };\n  }\n\n  // Notify all subscribers of changes\n  notify(type, data) {\n    this.subscribers.forEach(callback => {\n      try {\n        callback(type, data);\n      } catch (error) {\n        console.error('Error notifying subscriber:', error);\n      }\n    });\n  }\n\n  // Get all products\n  getAllProducts() {\n    return [...this.products];\n  }\n\n  // Get products by vendor\n  getProductsByVendor(vendorId) {\n    return this.products.filter(p => p.vendorId === vendorId);\n  }\n\n  // Add new product (vendor action)\n  addProduct(product) {\n    const newProduct = {\n      ...product,\n      id: Date.now(),\n      createdAt: new Date().toISOString()\n    };\n    this.products.push(newProduct);\n    this.notify('PRODUCT_ADDED', newProduct);\n    console.log('✅ Product added:', newProduct);\n    return newProduct;\n  }\n\n  // Update product (vendor action)\n  updateProduct(productId, updates) {\n    const index = this.products.findIndex(p => p.id === productId);\n    if (index === -1) return null;\n    const oldProduct = this.products[index];\n    const updatedProduct = {\n      ...oldProduct,\n      ...updates\n    };\n    this.products[index] = updatedProduct;\n    this.notify('PRODUCT_UPDATED', updatedProduct);\n    console.log('✅ Product updated:', updatedProduct);\n    return updatedProduct;\n  }\n\n  // Delete product (vendor action)\n  deleteProduct(productId) {\n    const index = this.products.findIndex(p => p.id === productId);\n    if (index === -1) return null;\n    const deletedProduct = this.products.splice(index, 1)[0];\n    this.notify('PRODUCT_DELETED', deletedProduct);\n    console.log('✅ Product deleted:', deletedProduct);\n    return deletedProduct;\n  }\n\n  // Toggle stock status\n  toggleStock(productId) {\n    const product = this.products.find(p => p.id === productId);\n    if (!product) return null;\n    const updatedProduct = this.updateProduct(productId, {\n      inStock: !product.inStock\n    });\n    return updatedProduct;\n  }\n\n  // Get product statistics\n  getStats() {\n    const totalProducts = this.products.length;\n    const inStock = this.products.filter(p => p.inStock).length;\n    const outOfStock = totalProducts - inStock;\n    const avgPrice = totalProducts > 0 ? (this.products.reduce((sum, p) => sum + p.price, 0) / totalProducts).toFixed(2) : 0;\n    const avgRating = totalProducts > 0 ? (this.products.reduce((sum, p) => sum + p.rating, 0) / totalProducts).toFixed(1) : 0;\n    return {\n      totalProducts,\n      inStock,\n      outOfStock,\n      avgPrice,\n      avgRating\n    };\n  }\n}\n\n// Create singleton instance\nconst productService = new ProductService();\n\n// Export the service\nexport default productService;","map":{"version":3,"names":["ProductService","constructor","products","id","name","vendor","vendorId","price","description","rating","inStock","image","ingredients","calories","prepTime","category","createdAt","Date","toISOString","subscribers","subscribe","callback","push","filter","sub","notify","type","data","forEach","error","console","getAllProducts","getProductsByVendor","p","addProduct","product","newProduct","now","log","updateProduct","productId","updates","index","findIndex","oldProduct","updatedProduct","deleteProduct","deletedProduct","splice","toggleStock","find","getStats","totalProducts","length","outOfStock","avgPrice","reduce","sum","toFixed","avgRating","productService"],"sources":["D:/MealBasketSyatem/react-frontend/src/services/ProductService.js"],"sourcesContent":["// Shared Product Service - Manages products across vendor and user dashboards\n\nclass ProductService {\n  constructor() {\n    // Initial products data\n    this.products = [\n      {\n        id: 1,\n        name: 'Classic Burger',\n        vendor: 'Burger Palace',\n        vendorId: 1,\n        price: 12.99,\n        description: 'Juicy beef patty with fresh vegetables and special sauce',\n        rating: 4.5,\n        inStock: true,\n        image: 'https://via.placeholder.com/300x200/FF6B6B/FFFFFF?text=Classic+Burger',\n        ingredients: 'Beef patty, lettuce, tomato, onion, pickles, special sauce, sesame bun',\n        calories: 550,\n        prepTime: '15 mins',\n        category: 'Main Course',\n        createdAt: new Date().toISOString()\n      },\n      {\n        id: 2,\n        name: 'Pepperoni Pizza',\n        vendor: 'Pizza Express',\n        vendorId: 2,\n        price: 15.99,\n        description: 'Fresh mozzarella, pepperoni, and tomato sauce on thin crust',\n        rating: 4.7,\n        inStock: true,\n        image: 'https://via.placeholder.com/300x200/FF9800/FFFFFF?text=Pepperoni+Pizza',\n        ingredients: 'Fresh mozzarella, pepperoni, tomato sauce, olive oil, thin crust',\n        calories: 280,\n        prepTime: '20 mins',\n        category: 'Main Course',\n        createdAt: new Date().toISOString()\n      },\n      {\n        id: 3,\n        name: 'Caesar Salad',\n        vendor: 'Green Garden',\n        vendorId: 3,\n        price: 8.99,\n        description: 'Fresh romaine lettuce, parmesan, croutons, and Caesar dressing',\n        rating: 4.2,\n        inStock: true,\n        image: 'https://via.placeholder.com/300x200/4CAF50/FFFFFF?text=Caesar+Salad',\n        ingredients: 'Romaine lettuce, parmesan cheese, croutons, Caesar dressing',\n        calories: 180,\n        prepTime: '10 mins',\n        category: 'Salad',\n        createdAt: new Date().toISOString()\n      },\n      {\n        id: 4,\n        name: 'Grilled Chicken',\n        vendor: 'Chicken House',\n        vendorId: 4,\n        price: 14.99,\n        description: 'Tender grilled chicken breast with herbs and spices',\n        rating: 4.3,\n        inStock: true,\n        image: 'https://via.placeholder.com/300x200/2196F3/FFFFFF?text=Grilled+Chicken',\n        ingredients: 'Chicken breast, herbs, spices, olive oil, grilled vegetables',\n        calories: 320,\n        prepTime: '25 mins',\n        category: 'Main Course',\n        createdAt: new Date().toISOString()\n      }\n    ];\n    \n    // Subscribers for real-time updates\n    this.subscribers = [];\n  }\n\n  // Subscribe to product changes\n  subscribe(callback) {\n    this.subscribers.push(callback);\n    return () => {\n      this.subscribers = this.subscribers.filter(sub => sub !== callback);\n    };\n  }\n\n  // Notify all subscribers of changes\n  notify(type, data) {\n    this.subscribers.forEach(callback => {\n      try {\n        callback(type, data);\n      } catch (error) {\n        console.error('Error notifying subscriber:', error);\n      }\n    });\n  }\n\n  // Get all products\n  getAllProducts() {\n    return [...this.products];\n  }\n\n  // Get products by vendor\n  getProductsByVendor(vendorId) {\n    return this.products.filter(p => p.vendorId === vendorId);\n  }\n\n  // Add new product (vendor action)\n  addProduct(product) {\n    const newProduct = {\n      ...product,\n      id: Date.now(),\n      createdAt: new Date().toISOString()\n    };\n    \n    this.products.push(newProduct);\n    this.notify('PRODUCT_ADDED', newProduct);\n    \n    console.log('✅ Product added:', newProduct);\n    return newProduct;\n  }\n\n  // Update product (vendor action)\n  updateProduct(productId, updates) {\n    const index = this.products.findIndex(p => p.id === productId);\n    if (index === -1) return null;\n    \n    const oldProduct = this.products[index];\n    const updatedProduct = { ...oldProduct, ...updates };\n    this.products[index] = updatedProduct;\n    \n    this.notify('PRODUCT_UPDATED', updatedProduct);\n    \n    console.log('✅ Product updated:', updatedProduct);\n    return updatedProduct;\n  }\n\n  // Delete product (vendor action)\n  deleteProduct(productId) {\n    const index = this.products.findIndex(p => p.id === productId);\n    if (index === -1) return null;\n    \n    const deletedProduct = this.products.splice(index, 1)[0];\n    this.notify('PRODUCT_DELETED', deletedProduct);\n    \n    console.log('✅ Product deleted:', deletedProduct);\n    return deletedProduct;\n  }\n\n  // Toggle stock status\n  toggleStock(productId) {\n    const product = this.products.find(p => p.id === productId);\n    if (!product) return null;\n    \n    const updatedProduct = this.updateProduct(productId, {\n      inStock: !product.inStock\n    });\n    \n    return updatedProduct;\n  }\n\n  // Get product statistics\n  getStats() {\n    const totalProducts = this.products.length;\n    const inStock = this.products.filter(p => p.inStock).length;\n    const outOfStock = totalProducts - inStock;\n    const avgPrice = totalProducts > 0 \n      ? (this.products.reduce((sum, p) => sum + p.price, 0) / totalProducts).toFixed(2)\n      : 0;\n    const avgRating = totalProducts > 0\n      ? (this.products.reduce((sum, p) => sum + p.rating, 0) / totalProducts).toFixed(1)\n      : 0;\n\n    return {\n      totalProducts,\n      inStock,\n      outOfStock,\n      avgPrice,\n      avgRating\n    };\n  }\n}\n\n// Create singleton instance\nconst productService = new ProductService();\n\n// Export the service\nexport default productService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}