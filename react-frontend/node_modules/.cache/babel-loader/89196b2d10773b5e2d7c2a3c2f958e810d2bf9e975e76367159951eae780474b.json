{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import {\n//   Container,\n//   Grid,\n//   Card,\n//   CardContent,\n//   Typography,\n//   Button,\n//   Box,\n//   Chip,\n//   CircularProgress,\n//   Alert,\n//   IconButton,\n//   useTheme,\n// } from '@mui/material';\n// import {\n//   ShoppingCart,\n//   Restaurant,\n//   AccessTime,\n//   AttachMoney,\n//   Visibility,\n//   LocalShipping,\n// } from '@mui/icons-material';\n// import { useAuth } from '../contexts/AuthContext';\n// import { orderAPI } from '../services/api';\n// import { format } from 'date-fns';\n\n// const Orders = () => {\n//   const { user } = useAuth();\n//   const theme = useTheme();\n\n//   const [orders, setOrders] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [filterStatus, setFilterStatus] = useState('all');\n\n//   useEffect(() => {\n//     fetchOrders();\n//   }, []);\n\n//   const fetchOrders = async () => {\n//     try {\n//       setLoading(true);\n//       const response = await orderAPI.getUserOrders();\n//       if (response.data.success) {\n//         setOrders(response.data.data || []);\n//       }\n//     } catch (error) {\n//       setError('Failed to load orders');\n//       console.error('Error fetching orders:', error);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const getStatusColor = (status) => {\n//     switch (status) {\n//       case 'PENDING':\n//         return 'warning';\n//       case 'CONFIRMED':\n//         return 'info';\n//       case 'PREPARING':\n//         return 'primary';\n//       case 'READY':\n//         return 'success';\n//       case 'DELIVERED':\n//         return 'success';\n//       case 'CANCELLED':\n//         return 'error';\n//       default:\n//         return 'default';\n//     }\n//   };\n\n//   const getStatusIcon = (status) => {\n//     switch (status) {\n//       case 'PENDING':\n//         return <AccessTime />;\n//       case 'CONFIRMED':\n//         return <Visibility />;\n//       case 'PREPARING':\n//         return <Restaurant />;\n//       case 'READY':\n//       case 'DELIVERED':\n//         return <LocalShipping />;\n//       default:\n//         return <ShoppingCart />;\n//     }\n//   };\n\n//   const filteredOrders = filterStatus === 'all' \n//     ? orders \n//     : orders.filter(order => order.status === filterStatus);\n\n//   if (loading) {\n//     return (\n//       <Container sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n//         <CircularProgress size={60} />\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//       {/* Header */}\n//       <Box sx={{ mb: 4, textAlign: 'center' }}>\n//         <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n//           ðŸ›’ My Orders\n//         </Typography>\n//         <Typography variant=\"h6\" color=\"text.secondary\">\n//           Track and manage your meal orders\n//         </Typography>\n//       </Box>\n\n//       {/* Status Filter */}\n//       <Box sx={{ mb: 4, display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>\n//         {['all', 'PENDING', 'CONFIRMED', 'PREPARING', 'READY', 'DELIVERED', 'CANCELLED'].map((status) => (\n//           <Button\n//             key={status}\n//             variant={filterStatus === status ? 'contained' : 'outlined'}\n//             onClick={() => setFilterStatus(status)}\n//             sx={{ borderRadius: 20 }}\n//           >\n//             {status.charAt(0) + status.slice(1).toLowerCase()}\n//           </Button>\n//         ))}\n//       </Box>\n\n//       {/* Error Alert */}\n//       {error && (\n//         <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n//           {error}\n//         </Alert>\n//       )}\n\n//       {/* Orders List */}\n//       {filteredOrders.length === 0 ? (\n//         <Box sx={{ textAlign: 'center', py: 8 }}>\n//           <ShoppingCart sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n//           <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n//             {filterStatus === 'all' ? 'No orders yet' : `No ${filterStatus.toLowerCase()} orders`}\n//           </Typography>\n//           <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//             {filterStatus === 'all' \n//               ? 'Start ordering delicious meals to see them here!'\n//               : 'Try changing the status filter to see more orders.'\n//             }\n//           </Typography>\n//           <Button\n//             variant=\"contained\"\n//             sx={{ mt: 2 }}\n//             onClick={() => window.location.href = '/products'}\n//           >\n//             Browse Products\n//           </Button>\n//         </Box>\n//       ) : (\n//         <Grid container spacing={3}>\n//           {filteredOrders.map((order) => (\n//             <Grid item xs={12} sm={6} md={4} key={order.id}>\n//               <Card\n//                 sx={{\n//                   height: '100%',\n//                   display: 'flex',\n//                   flexDirection: 'column',\n//                   transition: 'transform 0.2s, box-shadow 0.2s',\n//                   '&:hover': {\n//                     transform: 'translateY(-2px)',\n//                     boxShadow: theme.shadows[6],\n//                   },\n//                 }}\n//               >\n//                 <CardContent sx={{ flexGrow: 1 }}>\n//                   {/* Order Header */}\n//                   <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n//                     <Box>\n//                       <Typography variant=\"h6\" component=\"h3\" gutterBottom>\n//                         Order #{order.id}\n//                       </Typography>\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         {format(new Date(order.orderDate), 'MMM dd, yyyy HH:mm')}\n//                       </Typography>\n//                     </Box>\n//                     <Chip\n//                       icon={getStatusIcon(order.status)}\n//                       label={order.status}\n//                       color={getStatusColor(order.status)}\n//                       size=\"small\"\n//                     />\n//                   </Box>\n\n//                   {/* Order Items */}\n//                   <Box sx={{ mb: 2 }}>\n//                     <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//                       Items ({order.items?.length || 0}):\n//                     </Typography>\n//                     {order.items?.slice(0, 3).map((item, index) => (\n//                       <Box key={index} sx={{ display: 'flex', justifyContent: 'space-between', py: 0.5 }}>\n//                         <Typography variant=\"body2\">\n//                           {item.quantity}x {item.productName}\n//                         </Typography>\n//                         <Typography variant=\"body2\" color=\"primary.main\">\n//                           ${(item.price * item.quantity).toFixed(2)}\n//                         </Typography>\n//                       </Box>\n//                     ))}\n//                     {order.items?.length > 3 && (\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         +{order.items.length - 3} more items\n//                       </Typography>\n//                     )}\n//                   </Box>\n\n//                   {/* Order Details */}\n//                   <Box sx={{ mt: 'auto' }}>\n//                     <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         Subtotal:\n//                       </Typography>\n//                       <Typography variant=\"body2\">\n//                         ${order.subtotal?.toFixed(2) || '0.00'}\n//                       </Typography>\n//                     </Box>\n//                     <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         Delivery:\n//                       </Typography>\n//                       <Typography variant=\"body2\">\n//                         ${order.deliveryFee?.toFixed(2) || '0.00'}\n//                       </Typography>\n//                     </Box>\n//                     <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n//                       <Typography variant=\"h6\" color=\"primary.main\">\n//                         Total:\n//                       </Typography>\n//                       <Typography variant=\"h6\" color=\"primary.main\">\n//                         ${order.totalAmount?.toFixed(2) || '0.00'}\n//                       </Typography>\n//                     </Box>\n\n//                     {/* Action Buttons */}\n//                     <Box sx={{ display: 'flex', gap: 1 }}>\n//                       <Button\n//                         variant=\"outlined\"\n//                         size=\"small\"\n//                         startIcon={<Visibility />}\n//                         onClick={() => console.log('View order details:', order.id)}\n//                       >\n//                         View Details\n//                       </Button>\n//                       {order.status === 'DELIVERED' && (\n//                         <Button\n//                           variant=\"contained\"\n//                           size=\"small\"\n//                           onClick={() => console.log('Reorder:', order.id)}\n//                         >\n//                           Reorder\n//                         </Button>\n//                       )}\n//                     </Box>\n//                   </Box>\n//                 </CardContent>\n//               </Card>\n//             </Grid>\n//           ))}\n//         </Grid>\n//       )}\n//     </Container>\n//   );\n// };\n\n// export default Orders;","map":{"version":3,"names":[],"sources":["/home/arbinlama/6semProject/Mealbasket/react-frontend/src/pages/Orders.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import {\n//   Container,\n//   Grid,\n//   Card,\n//   CardContent,\n//   Typography,\n//   Button,\n//   Box,\n//   Chip,\n//   CircularProgress,\n//   Alert,\n//   IconButton,\n//   useTheme,\n// } from '@mui/material';\n// import {\n//   ShoppingCart,\n//   Restaurant,\n//   AccessTime,\n//   AttachMoney,\n//   Visibility,\n//   LocalShipping,\n// } from '@mui/icons-material';\n// import { useAuth } from '../contexts/AuthContext';\n// import { orderAPI } from '../services/api';\n// import { format } from 'date-fns';\n\n// const Orders = () => {\n//   const { user } = useAuth();\n//   const theme = useTheme();\n  \n//   const [orders, setOrders] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [filterStatus, setFilterStatus] = useState('all');\n\n//   useEffect(() => {\n//     fetchOrders();\n//   }, []);\n\n//   const fetchOrders = async () => {\n//     try {\n//       setLoading(true);\n//       const response = await orderAPI.getUserOrders();\n//       if (response.data.success) {\n//         setOrders(response.data.data || []);\n//       }\n//     } catch (error) {\n//       setError('Failed to load orders');\n//       console.error('Error fetching orders:', error);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const getStatusColor = (status) => {\n//     switch (status) {\n//       case 'PENDING':\n//         return 'warning';\n//       case 'CONFIRMED':\n//         return 'info';\n//       case 'PREPARING':\n//         return 'primary';\n//       case 'READY':\n//         return 'success';\n//       case 'DELIVERED':\n//         return 'success';\n//       case 'CANCELLED':\n//         return 'error';\n//       default:\n//         return 'default';\n//     }\n//   };\n\n//   const getStatusIcon = (status) => {\n//     switch (status) {\n//       case 'PENDING':\n//         return <AccessTime />;\n//       case 'CONFIRMED':\n//         return <Visibility />;\n//       case 'PREPARING':\n//         return <Restaurant />;\n//       case 'READY':\n//       case 'DELIVERED':\n//         return <LocalShipping />;\n//       default:\n//         return <ShoppingCart />;\n//     }\n//   };\n\n//   const filteredOrders = filterStatus === 'all' \n//     ? orders \n//     : orders.filter(order => order.status === filterStatus);\n\n//   if (loading) {\n//     return (\n//       <Container sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n//         <CircularProgress size={60} />\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//       {/* Header */}\n//       <Box sx={{ mb: 4, textAlign: 'center' }}>\n//         <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n//           ðŸ›’ My Orders\n//         </Typography>\n//         <Typography variant=\"h6\" color=\"text.secondary\">\n//           Track and manage your meal orders\n//         </Typography>\n//       </Box>\n\n//       {/* Status Filter */}\n//       <Box sx={{ mb: 4, display: 'flex', gap: 2, justifyContent: 'center', flexWrap: 'wrap' }}>\n//         {['all', 'PENDING', 'CONFIRMED', 'PREPARING', 'READY', 'DELIVERED', 'CANCELLED'].map((status) => (\n//           <Button\n//             key={status}\n//             variant={filterStatus === status ? 'contained' : 'outlined'}\n//             onClick={() => setFilterStatus(status)}\n//             sx={{ borderRadius: 20 }}\n//           >\n//             {status.charAt(0) + status.slice(1).toLowerCase()}\n//           </Button>\n//         ))}\n//       </Box>\n\n//       {/* Error Alert */}\n//       {error && (\n//         <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n//           {error}\n//         </Alert>\n//       )}\n\n//       {/* Orders List */}\n//       {filteredOrders.length === 0 ? (\n//         <Box sx={{ textAlign: 'center', py: 8 }}>\n//           <ShoppingCart sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n//           <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n//             {filterStatus === 'all' ? 'No orders yet' : `No ${filterStatus.toLowerCase()} orders`}\n//           </Typography>\n//           <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//             {filterStatus === 'all' \n//               ? 'Start ordering delicious meals to see them here!'\n//               : 'Try changing the status filter to see more orders.'\n//             }\n//           </Typography>\n//           <Button\n//             variant=\"contained\"\n//             sx={{ mt: 2 }}\n//             onClick={() => window.location.href = '/products'}\n//           >\n//             Browse Products\n//           </Button>\n//         </Box>\n//       ) : (\n//         <Grid container spacing={3}>\n//           {filteredOrders.map((order) => (\n//             <Grid item xs={12} sm={6} md={4} key={order.id}>\n//               <Card\n//                 sx={{\n//                   height: '100%',\n//                   display: 'flex',\n//                   flexDirection: 'column',\n//                   transition: 'transform 0.2s, box-shadow 0.2s',\n//                   '&:hover': {\n//                     transform: 'translateY(-2px)',\n//                     boxShadow: theme.shadows[6],\n//                   },\n//                 }}\n//               >\n//                 <CardContent sx={{ flexGrow: 1 }}>\n//                   {/* Order Header */}\n//                   <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n//                     <Box>\n//                       <Typography variant=\"h6\" component=\"h3\" gutterBottom>\n//                         Order #{order.id}\n//                       </Typography>\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         {format(new Date(order.orderDate), 'MMM dd, yyyy HH:mm')}\n//                       </Typography>\n//                     </Box>\n//                     <Chip\n//                       icon={getStatusIcon(order.status)}\n//                       label={order.status}\n//                       color={getStatusColor(order.status)}\n//                       size=\"small\"\n//                     />\n//                   </Box>\n\n//                   {/* Order Items */}\n//                   <Box sx={{ mb: 2 }}>\n//                     <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//                       Items ({order.items?.length || 0}):\n//                     </Typography>\n//                     {order.items?.slice(0, 3).map((item, index) => (\n//                       <Box key={index} sx={{ display: 'flex', justifyContent: 'space-between', py: 0.5 }}>\n//                         <Typography variant=\"body2\">\n//                           {item.quantity}x {item.productName}\n//                         </Typography>\n//                         <Typography variant=\"body2\" color=\"primary.main\">\n//                           ${(item.price * item.quantity).toFixed(2)}\n//                         </Typography>\n//                       </Box>\n//                     ))}\n//                     {order.items?.length > 3 && (\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         +{order.items.length - 3} more items\n//                       </Typography>\n//                     )}\n//                   </Box>\n\n//                   {/* Order Details */}\n//                   <Box sx={{ mt: 'auto' }}>\n//                     <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         Subtotal:\n//                       </Typography>\n//                       <Typography variant=\"body2\">\n//                         ${order.subtotal?.toFixed(2) || '0.00'}\n//                       </Typography>\n//                     </Box>\n//                     <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\n//                       <Typography variant=\"body2\" color=\"text.secondary\">\n//                         Delivery:\n//                       </Typography>\n//                       <Typography variant=\"body2\">\n//                         ${order.deliveryFee?.toFixed(2) || '0.00'}\n//                       </Typography>\n//                     </Box>\n//                     <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 2 }}>\n//                       <Typography variant=\"h6\" color=\"primary.main\">\n//                         Total:\n//                       </Typography>\n//                       <Typography variant=\"h6\" color=\"primary.main\">\n//                         ${order.totalAmount?.toFixed(2) || '0.00'}\n//                       </Typography>\n//                     </Box>\n\n//                     {/* Action Buttons */}\n//                     <Box sx={{ display: 'flex', gap: 1 }}>\n//                       <Button\n//                         variant=\"outlined\"\n//                         size=\"small\"\n//                         startIcon={<Visibility />}\n//                         onClick={() => console.log('View order details:', order.id)}\n//                       >\n//                         View Details\n//                       </Button>\n//                       {order.status === 'DELIVERED' && (\n//                         <Button\n//                           variant=\"contained\"\n//                           size=\"small\"\n//                           onClick={() => console.log('Reorder:', order.id)}\n//                         >\n//                           Reorder\n//                         </Button>\n//                       )}\n//                     </Box>\n//                   </Box>\n//                 </CardContent>\n//               </Card>\n//             </Grid>\n//           ))}\n//         </Grid>\n//       )}\n//     </Container>\n//   );\n// };\n\n// export default Orders;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}