{"ast":null,"code":"// Vendor Service - Handles vendor-specific product operations\n// This service will be ready for backend JWT authentication integration\n\nclass VendorService {\n  constructor() {\n    this.baseURL = 'http://localhost:8081'; // Backend API URL\n    this.currentVendorId = null;\n  }\n\n  // Set current vendor ID (will come from JWT token in backend)\n  setCurrentVendor(vendorId) {\n    this.currentVendorId = vendorId;\n  }\n\n  // Get current vendor ID (will be extracted from JWT token in backend)\n  getCurrentVendorId() {\n    if (!this.currentVendorId) {\n      // For now, get from localStorage (will be replaced with JWT parsing)\n      const user = localStorage.getItem('user');\n      if (user) {\n        try {\n          const parsedUser = JSON.parse(user);\n          this.currentVendorId = parsedUser.id;\n          console.log('VendorService: Set current vendor ID to:', this.currentVendorId);\n        } catch (err) {\n          console.error('VendorService: Error parsing user data:', err);\n        }\n      }\n    }\n    return this.currentVendorId;\n  }\n\n  // Get vendor's own products only\n  async getVendorProducts() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Loading products for vendor ${vendorId}`);\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n\n      // Clear Restaurant One products from localStorage\n      if (allVendorProducts['vendor_1']) {\n        console.log('VendorService: Removing Restaurant One products from localStorage');\n        delete allVendorProducts['vendor_1'];\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      let vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n\n      // Add sample products if vendor has no products (for testing)\n      if (vendorProducts.length === 0) {\n        console.log(`VendorService: No products found for vendor ${vendorId}, adding sample products`);\n        vendorProducts = this.getSampleProducts(vendorId);\n\n        // Save sample products to localStorage\n        allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      console.log(`VendorService: Found ${vendorProducts.length} products for vendor ${vendorId}:`, vendorProducts);\n\n      // Strict filtering - ensure products belong to this vendor only\n      const filteredProducts = vendorProducts.filter(product => product.vendorId === vendorId);\n      console.log(`VendorService: Filtered to ${filteredProducts.length} products for vendor ${vendorId}:`, filteredProducts);\n      return filteredProducts;\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor products:', error);\n      throw error;\n    }\n  }\n\n  // Get sample products for testing\n  getSampleProducts(vendorId) {\n    const sampleProducts = {\n      2: [\n      // Vendor Two products only\n      {\n        id: Date.now() + 4,\n        name: 'Pepperoni Pizza',\n        vendor: 'Restaurant Two',\n        vendorId: 2,\n        price: 12.99,\n        description: 'Classic pepperoni with mozzarella cheese',\n        category: 'Pizza',\n        stock: 15,\n        inStock: true,\n        rating: 4.5,\n        image: 'https://via.placeholder.com/300x200?text=Pepperoni+Pizza',\n        prepTime: '20 mins',\n        calories: 285,\n        ingredients: 'Pepperoni, Mozzarella, Tomato Sauce, Dough',\n        createdAt: new Date().toISOString()\n      }, {\n        id: Date.now() + 5,\n        name: 'Caesar Salad',\n        vendor: 'Restaurant Two',\n        vendorId: 2,\n        price: 8.99,\n        description: 'Fresh romaine lettuce with caesar dressing',\n        category: 'Salad',\n        stock: 20,\n        inStock: true,\n        rating: 4.2,\n        image: 'https://via.placeholder.com/300x200?text=Caesar+Salad',\n        prepTime: '10 mins',\n        calories: 180,\n        ingredients: 'Romaine Lettuce, Caesar Dressing, Croutons, Parmesan',\n        createdAt: new Date().toISOString()\n      }],\n      3: [\n      // Vendor Three products only\n      {\n        id: Date.now() + 6,\n        name: 'Chicken Burger',\n        vendor: 'Restaurant Three',\n        vendorId: 3,\n        price: 10.99,\n        description: 'Grilled chicken patty with fresh vegetables',\n        category: 'Burger',\n        stock: 12,\n        inStock: true,\n        rating: 4.7,\n        image: 'https://via.placeholder.com/300x200?text=Chicken+Burger',\n        prepTime: '15 mins',\n        calories: 320,\n        ingredients: 'Chicken Patty, Lettuce, Tomato, Onion, Bun, Sauce',\n        createdAt: new Date().toISOString()\n      }]\n    };\n    return sampleProducts[vendorId] || [];\n  }\n\n  // Add product for current vendor only\n  async addProduct(productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Adding product for vendor ${vendorId}:`, productData);\n\n      // Create new product with proper structure\n      const newProduct = {\n        id: Date.now() + Math.random(),\n        // Ensure unique ID\n        ...productData,\n        vendorId: vendorId,\n        createdAt: new Date().toISOString(),\n        inStock: productData.stock > 0 // Set inStock based on stock quantity\n      };\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      if (!allVendorProducts[`vendor_${vendorId}`]) {\n        allVendorProducts[`vendor_${vendorId}`] = [];\n      }\n      allVendorProducts[`vendor_${vendorId}`].push(newProduct);\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`VendorService: Successfully added product ${newProduct.id} for vendor ${vendorId}`);\n\n      // Notify admin dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n\n      // Notify user dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n      return newProduct;\n    } catch (error) {\n      console.error('VendorService: Error adding product:', error);\n      throw error;\n    }\n  }\n\n  // Update product for current vendor only\n  async updateProduct(productId, productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Updating product ${productId} for vendor ${vendorId}:`, productData);\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n\n      // Update product\n      const updatedProduct = {\n        ...vendorProducts[productIndex],\n        ...productData,\n        updatedAt: new Date().toISOString(),\n        inStock: productData.stock !== undefined ? productData.stock > 0 : vendorProducts[productIndex].inStock\n      };\n      vendorProducts[productIndex] = updatedProduct;\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`VendorService: Successfully updated product ${productId} for vendor ${vendorId}`);\n\n      // Notify admin dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n\n      // Notify user dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n      return updatedProduct;\n    } catch (error) {\n      console.error('VendorService: Error updating product:', error);\n      throw error;\n    }\n  }\n\n  // Delete product for current vendor only\n  async deleteProduct(productId) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Deleting product ${productId} for vendor ${vendorId}`);\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n      const deletedProduct = vendorProducts[productIndex];\n\n      // Remove product\n      vendorProducts.splice(productIndex, 1);\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`VendorService: Successfully deleted product ${productId} for vendor ${vendorId}`);\n\n      // Notify admin dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n\n      // Notify user dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n      return deletedProduct;\n    } catch (error) {\n      console.error('VendorService: Error deleting product:', error);\n      throw error;\n    }\n  }\n\n  // Get vendor profile\n  async getVendorProfile() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    console.log(`VendorService: Successfully updated product ${productId} for vendor ${vendorId}`);\n\n    // Notify admin dashboard about product update\n    window.postMessage({\n      type: 'PRODUCT_UPDATED',\n      product: updatedProduct,\n      vendorId: vendorId\n    }, '*');\n\n    // Notify user dashboard about product update\n    window.postMessage({\n      type: 'PRODUCT_UPDATED',\n      product: updatedProduct,\n      vendorId: vendorId\n    }, '*');\n    return updatedProduct;\n\n    // Future API call with JWT:\n    // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n    //   method: 'PUT',\n    //   headers: {\n    //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n    //     'Content-Type': 'application/json'\n    //   },\n    //   body: JSON.stringify(productData)\n    // });\n    // if (!response.ok) throw new Error('Failed to update product');\n    // return await response.json();\n  }\n  catch(error) {\n    console.error('VendorService: Error updating product:', error);\n    throw error;\n  }\n\n  // Delete product for current vendor only\n  async deleteProduct(productId) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Deleting product ${productId} for vendor ${vendorId}`);\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n      const deletedProduct = vendorProducts[productIndex];\n\n      // Remove product\n      vendorProducts.splice(productIndex, 1);\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`VendorService: Successfully deleted product ${productId} for vendor ${vendorId}`);\n\n      // Notify admin dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n\n      // Notify user dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n      return deletedProduct;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n      //   method: 'DELETE',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to delete product');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error deleting product:', error);\n      throw error;\n    }\n  }\n\n  // Get vendor profile\n  async getVendorProfile() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const storedProfile = localStorage.getItem(`vendor_${vendorId}_profile`);\n      if (storedProfile) {\n        return JSON.parse(storedProfile);\n      }\n\n      // Return default profile for new vendor (starts with zero metrics)\n      const defaultProfile = {\n        id: vendorId,\n        name: `Vendor ${vendorId}`,\n        email: `vendor${vendorId}@test.com`,\n        rating: 0.0,\n        // New vendor starts with 0 rating\n        totalRatings: 0,\n        // New vendor starts with 0 ratings\n        totalOrders: 0,\n        // New vendor starts with 0 orders\n        revenue: 0.0,\n        // New vendor starts with $0 revenue\n        totalProducts: 0 // New vendor starts with 0 products\n      };\n      console.log(`VendorService: Creating new vendor profile for vendor ${vendorId}:`, defaultProfile);\n      localStorage.setItem(`vendor_${vendorId}_profile`, JSON.stringify(defaultProfile));\n      return defaultProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to fetch vendor profile');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor profile:', error);\n      throw error;\n    }\n  }\n\n  // Update vendor profile\n  async updateVendorProfile(profileData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const currentProfile = await this.getVendorProfile();\n      const updatedProfile = {\n        ...currentProfile,\n        ...profileData,\n        updatedAt: new Date().toISOString()\n      };\n      localStorage.setItem(`vendor_${vendorId}_profile`, JSON.stringify(updatedProfile));\n      return updatedProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   method: 'PUT',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(profileData)\n      // });\n      // if (!response.ok) throw new Error('Failed to update vendor profile');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error updating vendor profile:', error);\n      throw error;\n    }\n  }\n}\n\n// Create and export singleton instance\nconst vendorService = new VendorService();\nexport default vendorService;","map":{"version":3,"names":["VendorService","constructor","baseURL","currentVendorId","setCurrentVendor","vendorId","getCurrentVendorId","user","localStorage","getItem","parsedUser","JSON","parse","id","console","log","err","error","getVendorProducts","Error","allVendorProducts","setItem","stringify","vendorProducts","length","getSampleProducts","filteredProducts","filter","product","sampleProducts","Date","now","name","vendor","price","description","category","stock","inStock","rating","image","prepTime","calories","ingredients","createdAt","toISOString","addProduct","productData","newProduct","Math","random","push","window","postMessage","type","updateProduct","productId","productIndex","findIndex","p","updatedProduct","updatedAt","undefined","deleteProduct","deletedProduct","splice","getVendorProfile","catch","storedProfile","defaultProfile","email","totalRatings","totalOrders","revenue","totalProducts","updateVendorProfile","profileData","currentProfile","updatedProfile","vendorService"],"sources":["D:/MealBasketSyatem/react-frontend/src/services/vendorService.js"],"sourcesContent":["// Vendor Service - Handles vendor-specific product operations\n// This service will be ready for backend JWT authentication integration\n\nclass VendorService {\n  constructor() {\n    this.baseURL = 'http://localhost:8081'; // Backend API URL\n    this.currentVendorId = null;\n  }\n\n  // Set current vendor ID (will come from JWT token in backend)\n  setCurrentVendor(vendorId) {\n    this.currentVendorId = vendorId;\n  }\n\n  // Get current vendor ID (will be extracted from JWT token in backend)\n  getCurrentVendorId() {\n    if (!this.currentVendorId) {\n      // For now, get from localStorage (will be replaced with JWT parsing)\n      const user = localStorage.getItem('user');\n      if (user) {\n        try {\n          const parsedUser = JSON.parse(user);\n          this.currentVendorId = parsedUser.id;\n          console.log('VendorService: Set current vendor ID to:', this.currentVendorId);\n        } catch (err) {\n          console.error('VendorService: Error parsing user data:', err);\n        }\n      }\n    }\n    return this.currentVendorId;\n  }\n\n  // Get vendor's own products only\n  async getVendorProducts() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Loading products for vendor ${vendorId}`);\n      \n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      \n      // Clear Restaurant One products from localStorage\n      if (allVendorProducts['vendor_1']) {\n        console.log('VendorService: Removing Restaurant One products from localStorage');\n        delete allVendorProducts['vendor_1'];\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      \n      let vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      // Add sample products if vendor has no products (for testing)\n      if (vendorProducts.length === 0) {\n        console.log(`VendorService: No products found for vendor ${vendorId}, adding sample products`);\n        vendorProducts = this.getSampleProducts(vendorId);\n        \n        // Save sample products to localStorage\n        allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      \n      console.log(`VendorService: Found ${vendorProducts.length} products for vendor ${vendorId}:`, vendorProducts);\n      \n      // Strict filtering - ensure products belong to this vendor only\n      const filteredProducts = vendorProducts.filter(product => \n        product.vendorId === vendorId\n      );\n      \n      console.log(`VendorService: Filtered to ${filteredProducts.length} products for vendor ${vendorId}:`, filteredProducts);\n      return filteredProducts;\n\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor products:', error);\n      throw error;\n    }\n  }\n\n  // Get sample products for testing\n  getSampleProducts(vendorId) {\n    const sampleProducts = {\n      2: [ // Vendor Two products only\n        {\n          id: Date.now() + 4,\n          name: 'Pepperoni Pizza',\n          vendor: 'Restaurant Two',\n          vendorId: 2,\n          price: 12.99,\n          description: 'Classic pepperoni with mozzarella cheese',\n          category: 'Pizza',\n          stock: 15,\n          inStock: true,\n          rating: 4.5,\n          image: 'https://via.placeholder.com/300x200?text=Pepperoni+Pizza',\n          prepTime: '20 mins',\n          calories: 285,\n          ingredients: 'Pepperoni, Mozzarella, Tomato Sauce, Dough',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: Date.now() + 5,\n          name: 'Caesar Salad',\n          vendor: 'Restaurant Two',\n          vendorId: 2,\n          price: 8.99,\n          description: 'Fresh romaine lettuce with caesar dressing',\n          category: 'Salad',\n          stock: 20,\n          inStock: true,\n          rating: 4.2,\n          image: 'https://via.placeholder.com/300x200?text=Caesar+Salad',\n          prepTime: '10 mins',\n          calories: 180,\n          ingredients: 'Romaine Lettuce, Caesar Dressing, Croutons, Parmesan',\n          createdAt: new Date().toISOString()\n        }\n      ],\n      3: [ // Vendor Three products only\n        {\n          id: Date.now() + 6,\n          name: 'Chicken Burger',\n          vendor: 'Restaurant Three',\n          vendorId: 3,\n          price: 10.99,\n          description: 'Grilled chicken patty with fresh vegetables',\n          category: 'Burger',\n          stock: 12,\n          inStock: true,\n          rating: 4.7,\n          image: 'https://via.placeholder.com/300x200?text=Chicken+Burger',\n          prepTime: '15 mins',\n          calories: 320,\n          ingredients: 'Chicken Patty, Lettuce, Tomato, Onion, Bun, Sauce',\n          createdAt: new Date().toISOString()\n        }\n      ]\n    };\n    \n    return sampleProducts[vendorId] || [];\n  }\n\n  // Add product for current vendor only\n  async addProduct(productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Adding product for vendor ${vendorId}:`, productData);\n      \n      // Create new product with proper structure\n      const newProduct = {\n        id: Date.now() + Math.random(), // Ensure unique ID\n        ...productData,\n        vendorId: vendorId,\n        createdAt: new Date().toISOString(),\n        inStock: productData.stock > 0 // Set inStock based on stock quantity\n      };\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      if (!allVendorProducts[`vendor_${vendorId}`]) {\n        allVendorProducts[`vendor_${vendorId}`] = [];\n      }\n      \n      allVendorProducts[`vendor_${vendorId}`].push(newProduct);\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n      console.log(`VendorService: Successfully added product ${newProduct.id} for vendor ${vendorId}`);\n      \n      // Notify admin dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      // Notify user dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      return newProduct;\n\n    } catch (error) {\n      console.error('VendorService: Error adding product:', error);\n      throw error;\n    }\n  }\n\n  // Update product for current vendor only\n  async updateProduct(productId, productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Updating product ${productId} for vendor ${vendorId}:`, productData);\n      \n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n      \n      // Update product\n      const updatedProduct = {\n        ...vendorProducts[productIndex],\n        ...productData,\n        updatedAt: new Date().toISOString(),\n        inStock: productData.stock !== undefined ? productData.stock > 0 : vendorProducts[productIndex].inStock\n      };\n      \n      vendorProducts[productIndex] = updatedProduct;\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n      console.log(`VendorService: Successfully updated product ${productId} for vendor ${vendorId}`);\n      \n      // Notify admin dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      // Notify user dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      return updatedProduct;\n\n    } catch (error) {\n      console.error('VendorService: Error updating product:', error);\n      throw error;\n    }\n  }\n\n  // Delete product for current vendor only\n  async deleteProduct(productId) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Deleting product ${productId} for vendor ${vendorId}`);\n      \n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n      \n      const deletedProduct = vendorProducts[productIndex];\n      \n      // Remove product\n      vendorProducts.splice(productIndex, 1);\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n      console.log(`VendorService: Successfully deleted product ${productId} for vendor ${vendorId}`);\n      \n      // Notify admin dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      // Notify user dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      return deletedProduct;\n\n    } catch (error) {\n      console.error('VendorService: Error deleting product:', error);\n      throw error;\n    }\n  }\n\n  // Get vendor profile\n  async getVendorProfile() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    \n    console.log(`VendorService: Successfully updated product ${productId} for vendor ${vendorId}`);\n    \n    // Notify admin dashboard about product update\n    window.postMessage({\n      type: 'PRODUCT_UPDATED',\n      product: updatedProduct,\n      vendorId: vendorId\n    }, '*');\n    \n    // Notify user dashboard about product update\n    window.postMessage({\n      type: 'PRODUCT_UPDATED',\n      product: updatedProduct,\n      vendorId: vendorId\n    }, '*');\n    \n    return updatedProduct;\n\n    // Future API call with JWT:\n    // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n    //   method: 'PUT',\n    //   headers: {\n    //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n    //     'Content-Type': 'application/json'\n    //   },\n    //   body: JSON.stringify(productData)\n    // });\n    // if (!response.ok) throw new Error('Failed to update product');\n    // return await response.json();\n\n  } catch (error) {\n    console.error('VendorService: Error updating product:', error);\n    throw error;\n  }\n\n  // Delete product for current vendor only\n  async deleteProduct(productId) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Deleting product ${productId} for vendor ${vendorId}`);\n      \n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n      \n      const deletedProduct = vendorProducts[productIndex];\n      \n      // Remove product\n      vendorProducts.splice(productIndex, 1);\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n      console.log(`VendorService: Successfully deleted product ${productId} for vendor ${vendorId}`);\n      \n      // Notify admin dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      // Notify user dashboard about product deletion\n      window.postMessage({\n        type: 'PRODUCT_DELETED',\n        product: deletedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      return deletedProduct;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n      //   method: 'DELETE',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to delete product');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error deleting product:', error);\n      throw error;\n    }\n  }\n\n  // Get vendor profile\n  async getVendorProfile() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const storedProfile = localStorage.getItem(`vendor_${vendorId}_profile`);\n      if (storedProfile) {\n        return JSON.parse(storedProfile);\n      }\n\n      // Return default profile for new vendor (starts with zero metrics)\n      const defaultProfile = {\n        id: vendorId,\n        name: `Vendor ${vendorId}`,\n        email: `vendor${vendorId}@test.com`,\n        rating: 0.0,           // New vendor starts with 0 rating\n        totalRatings: 0,        // New vendor starts with 0 ratings\n        totalOrders: 0,         // New vendor starts with 0 orders\n        revenue: 0.0,          // New vendor starts with $0 revenue\n        totalProducts: 0        // New vendor starts with 0 products\n      };\n\n      console.log(`VendorService: Creating new vendor profile for vendor ${vendorId}:`, defaultProfile);\n      localStorage.setItem(`vendor_${vendorId}_profile`, JSON.stringify(defaultProfile));\n      return defaultProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to fetch vendor profile');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor profile:', error);\n      throw error;\n    }\n  }\n\n  // Update vendor profile\n  async updateVendorProfile(profileData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const currentProfile = await this.getVendorProfile();\n      const updatedProfile = {\n        ...currentProfile,\n        ...profileData,\n        updatedAt: new Date().toISOString()\n      };\n\n      localStorage.setItem(`vendor_${vendorId}_profile`, JSON.stringify(updatedProfile));\n      return updatedProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   method: 'PUT',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(profileData)\n      // });\n      // if (!response.ok) throw new Error('Failed to update vendor profile');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error updating vendor profile:', error);\n      throw error;\n    }\n  }\n}\n\n// Create and export singleton instance\nconst vendorService = new VendorService();\nexport default vendorService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}