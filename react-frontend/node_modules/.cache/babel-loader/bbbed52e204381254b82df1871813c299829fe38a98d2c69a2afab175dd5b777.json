{"ast":null,"code":"// import React, { useState } from 'react';\n// import { useNavigate, Link } from 'react-router-dom';\n// import {\n//   Container,\n//   Paper,\n//   TextField,\n//   Button,\n//   Typography,\n//   Box,\n//   Alert,\n//   CircularProgress,\n//   Divider,\n//   useTheme,\n// } from '@mui/material';\n// import {\n//   Email,\n//   Lock,\n// } from '@mui/icons-material';\n// import { useAuth } from '../contexts/AuthContext';\n\n// const Login = () => {\n//   const navigate = useNavigate();\n//   const theme = useTheme();\n//   const { login, loading, error, clearError } = useAuth();\n\n//   const [formData, setFormData] = useState({\n//     email: '',\n//     password: '',\n//   });\n\n//   const [formErrors, setFormErrors] = useState({});\n\n//   // Simple validation function\n//   const validateForm = () => {\n//     const errors = {};\n\n//     if (!formData.email) {\n//       errors.email = 'Email is required';\n//     } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n//       errors.email = 'Email is invalid';\n//     }\n\n//     if (!formData.password) {\n//       errors.password = 'Password is required';\n//     } else if (formData.password.length < 6) {\n//       errors.password = 'Password must be at least 6 characters';\n//     }\n\n//     setFormErrors(errors);\n//     return Object.keys(errors).length === 0;\n//   };\n\n//   // Handle input changes\n//   const handleChange = (e) => {\n//     const { name, value } = e.target;\n//     setFormData(prev => ({\n//       ...prev,\n//       [name]: value,\n//     }));\n\n//     // Clear errors when user starts typing\n//     if (formErrors[name]) {\n//       setFormErrors(prev => ({\n//         ...prev,\n//         [name]: '',\n//       }));\n//     }\n\n//     // Clear authentication error when user starts typing\n//     if (error) {\n//       clearError();\n//     }\n//   };\n\n//   // Manual login function - NO AUTO-ANYTHING\n//   const handleManualLogin = async () => {\n//     console.log('Manual login button clicked');\n\n//     if (!validateForm()) {\n//       console.log('Validation failed');\n//       return;\n//     }\n\n//     console.log('Starting manual login with:', formData.email);\n\n//     try {\n//       const result = await login(formData);\n\n//       if (result.success) {\n//         console.log('Login successful, redirecting based on role');\n\n//         // Simple alert and redirect\n//         alert(`Login successful! Welcome ${result.user?.name || 'User'}!`);\n\n//         // Reset form\n//         setFormData({\n//           email: '',\n//           password: ''\n//         });\n//         setFormErrors({});\n\n//         // Manual redirect based on role\n//         if (result.user?.role === 'ADMIN') {\n//           navigate('/admin/dashboard');\n//         } else if (result.user?.role === 'VENDOR') {\n//           navigate('/vendor/dashboard');\n//         } else {\n//           navigate('/meal-planner');\n//         }\n//       } else {\n//         console.log('Login failed:', result.error);\n//         alert(`Login failed: ${result.error}`);\n//       }\n//     } catch (error) {\n//       console.error('Login error:', error);\n//       alert('Login failed. Please try again.');\n//     }\n//   };\n\n//   return (\n//     <Container component=\"main\" maxWidth=\"sm\">\n//       <Box\n//         sx={{\n//           minHeight: '100vh',\n//           display: 'flex',\n//           flexDirection: 'column',\n//           justifyContent: 'center',\n//           py: 4,\n//         }}\n//       >\n//         <Paper\n//           elevation={10}\n//           sx={{\n//             p: 4,\n//             display: 'flex',\n//             flexDirection: 'column',\n//             alignItems: 'center',\n//             borderRadius: 3,\n//           }}\n//         >\n//           {/* Logo and Title */}\n//           <Box sx={{ textAlign: 'center', mb: 3 }}>\n//             <Typography variant=\"h3\" color=\"primary.main\" fontWeight=\"bold\">\n//               üçΩÔ∏è MealBasket\n//             </Typography>\n//             <Typography variant=\"h5\" color=\"text.secondary\" sx={{ mt: 1 }}>\n//               Sign in to your account\n//             </Typography>\n//           </Box>\n\n//           {/* Error Alert */}\n//           {error && (\n//             <Alert severity=\"error\" sx={{ width: '100%', mb: 2 }}>\n//               {error}\n//             </Alert>\n//           )}\n\n//           {/* Login Form - NO onSubmit, NO auto-anything */}\n//           <Box sx={{ width: '100%' }}>\n//             <TextField\n//               margin=\"normal\"\n//               required\n//               fullWidth\n//               id=\"email\"\n//               label=\"Email Address\"\n//               name=\"email\"\n//               autoComplete=\"email\"\n//               autoFocus\n//               value={formData.email}\n//               onChange={handleChange}\n//               error={!!formErrors.email}\n//               helperText={formErrors.email}\n//               InputProps={{\n//                 startAdornment: <Email sx={{ mr: 1, color: 'action.active' }} />,\n//               }}\n//             />\n\n//             <TextField\n//               margin=\"normal\"\n//               required\n//               fullWidth\n//               name=\"password\"\n//               label=\"Password\"\n//               type=\"password\"\n//               id=\"password\"\n//               autoComplete=\"current-password\"\n//               value={formData.password}\n//               onChange={handleChange}\n//               error={!!formErrors.password}\n//               helperText={formErrors.password}\n//               InputProps={{\n//                 startAdornment: <Lock sx={{ mr: 1, color: 'action.active' }} />,\n//               }}\n//             />\n\n//             {/* MANUAL LOGIN BUTTON - NO AUTO-CLICK */}\n//             <Button\n//               type=\"button\"\n//               fullWidth\n//               variant=\"contained\"\n//               size=\"large\"\n//               disabled={loading}\n//               onClick={handleManualLogin}\n//               sx={{ mt: 3, mb: 2, py: 1.5 }}\n//             >\n//               {loading ? (\n//                 <CircularProgress size={24} color=\"inherit\" />\n//               ) : (\n//                 'üîë Sign In'\n//               )}\n//             </Button>\n\n//             <Box sx={{ textAlign: 'center' }}>\n//               <Link to=\"/forgot-password\" style={{ textDecoration: 'none' }}>\n//                 <Typography variant=\"body2\" color=\"primary.main\">\n//                   Forgot your password?\n//                 </Typography>\n//               </Link>\n//             </Box>\n//           </Box>\n\n//           <Divider sx={{ width: '100%', my: 3 }}>\n//             <Typography variant=\"body2\" color=\"text.secondary\">\n//               OR\n//             </Typography>\n//           </Divider>\n\n//           {/* Register Link */}\n//           <Box sx={{ textAlign: 'center', width: '100%' }}>\n//             <Typography variant=\"body2\" color=\"text.secondary\">\n//               Don't have an account?{' '}\n//               <Link to=\"/register\" style={{ color: theme.palette.primary.main, fontWeight: 'bold' }}>\n//                 Sign Up\n//               </Link>\n//             </Typography>\n//           </Box>\n\n//           {/* Demo Account Info */}\n//           <Alert\n//             severity=\"info\"\n//             sx={{ mt: 3, width: '100%' }}\n//             title=\"Demo Account\"\n//           >\n//             <Typography variant=\"body2\">\n//               <strong>Demo User:</strong> user@example.com / password123<br />\n//               <strong>Demo Admin:</strong> admin@example.com / admin123\n//             </Typography>\n//           </Alert>\n//         </Paper>\n//       </Box>\n//     </Container>\n//   );\n// };\n\n// export default Login;","map":{"version":3,"names":[],"sources":["/home/arbinlama/6semProject/Mealbasket1/react-frontend/src/pages/Login.js"],"sourcesContent":["// import React, { useState } from 'react';\n// import { useNavigate, Link } from 'react-router-dom';\n// import {\n//   Container,\n//   Paper,\n//   TextField,\n//   Button,\n//   Typography,\n//   Box,\n//   Alert,\n//   CircularProgress,\n//   Divider,\n//   useTheme,\n// } from '@mui/material';\n// import {\n//   Email,\n//   Lock,\n// } from '@mui/icons-material';\n// import { useAuth } from '../contexts/AuthContext';\n\n// const Login = () => {\n//   const navigate = useNavigate();\n//   const theme = useTheme();\n//   const { login, loading, error, clearError } = useAuth();\n  \n//   const [formData, setFormData] = useState({\n//     email: '',\n//     password: '',\n//   });\n\n//   const [formErrors, setFormErrors] = useState({});\n\n//   // Simple validation function\n//   const validateForm = () => {\n//     const errors = {};\n    \n//     if (!formData.email) {\n//       errors.email = 'Email is required';\n//     } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n//       errors.email = 'Email is invalid';\n//     }\n    \n//     if (!formData.password) {\n//       errors.password = 'Password is required';\n//     } else if (formData.password.length < 6) {\n//       errors.password = 'Password must be at least 6 characters';\n//     }\n    \n//     setFormErrors(errors);\n//     return Object.keys(errors).length === 0;\n//   };\n\n//   // Handle input changes\n//   const handleChange = (e) => {\n//     const { name, value } = e.target;\n//     setFormData(prev => ({\n//       ...prev,\n//       [name]: value,\n//     }));\n    \n//     // Clear errors when user starts typing\n//     if (formErrors[name]) {\n//       setFormErrors(prev => ({\n//         ...prev,\n//         [name]: '',\n//       }));\n//     }\n    \n//     // Clear authentication error when user starts typing\n//     if (error) {\n//       clearError();\n//     }\n//   };\n\n//   // Manual login function - NO AUTO-ANYTHING\n//   const handleManualLogin = async () => {\n//     console.log('Manual login button clicked');\n    \n//     if (!validateForm()) {\n//       console.log('Validation failed');\n//       return;\n//     }\n\n//     console.log('Starting manual login with:', formData.email);\n    \n//     try {\n//       const result = await login(formData);\n      \n//       if (result.success) {\n//         console.log('Login successful, redirecting based on role');\n        \n//         // Simple alert and redirect\n//         alert(`Login successful! Welcome ${result.user?.name || 'User'}!`);\n        \n//         // Reset form\n//         setFormData({\n//           email: '',\n//           password: ''\n//         });\n//         setFormErrors({});\n        \n//         // Manual redirect based on role\n//         if (result.user?.role === 'ADMIN') {\n//           navigate('/admin/dashboard');\n//         } else if (result.user?.role === 'VENDOR') {\n//           navigate('/vendor/dashboard');\n//         } else {\n//           navigate('/meal-planner');\n//         }\n//       } else {\n//         console.log('Login failed:', result.error);\n//         alert(`Login failed: ${result.error}`);\n//       }\n//     } catch (error) {\n//       console.error('Login error:', error);\n//       alert('Login failed. Please try again.');\n//     }\n//   };\n\n//   return (\n//     <Container component=\"main\" maxWidth=\"sm\">\n//       <Box\n//         sx={{\n//           minHeight: '100vh',\n//           display: 'flex',\n//           flexDirection: 'column',\n//           justifyContent: 'center',\n//           py: 4,\n//         }}\n//       >\n//         <Paper\n//           elevation={10}\n//           sx={{\n//             p: 4,\n//             display: 'flex',\n//             flexDirection: 'column',\n//             alignItems: 'center',\n//             borderRadius: 3,\n//           }}\n//         >\n//           {/* Logo and Title */}\n//           <Box sx={{ textAlign: 'center', mb: 3 }}>\n//             <Typography variant=\"h3\" color=\"primary.main\" fontWeight=\"bold\">\n//               üçΩÔ∏è MealBasket\n//             </Typography>\n//             <Typography variant=\"h5\" color=\"text.secondary\" sx={{ mt: 1 }}>\n//               Sign in to your account\n//             </Typography>\n//           </Box>\n\n//           {/* Error Alert */}\n//           {error && (\n//             <Alert severity=\"error\" sx={{ width: '100%', mb: 2 }}>\n//               {error}\n//             </Alert>\n//           )}\n\n//           {/* Login Form - NO onSubmit, NO auto-anything */}\n//           <Box sx={{ width: '100%' }}>\n//             <TextField\n//               margin=\"normal\"\n//               required\n//               fullWidth\n//               id=\"email\"\n//               label=\"Email Address\"\n//               name=\"email\"\n//               autoComplete=\"email\"\n//               autoFocus\n//               value={formData.email}\n//               onChange={handleChange}\n//               error={!!formErrors.email}\n//               helperText={formErrors.email}\n//               InputProps={{\n//                 startAdornment: <Email sx={{ mr: 1, color: 'action.active' }} />,\n//               }}\n//             />\n\n//             <TextField\n//               margin=\"normal\"\n//               required\n//               fullWidth\n//               name=\"password\"\n//               label=\"Password\"\n//               type=\"password\"\n//               id=\"password\"\n//               autoComplete=\"current-password\"\n//               value={formData.password}\n//               onChange={handleChange}\n//               error={!!formErrors.password}\n//               helperText={formErrors.password}\n//               InputProps={{\n//                 startAdornment: <Lock sx={{ mr: 1, color: 'action.active' }} />,\n//               }}\n//             />\n\n//             {/* MANUAL LOGIN BUTTON - NO AUTO-CLICK */}\n//             <Button\n//               type=\"button\"\n//               fullWidth\n//               variant=\"contained\"\n//               size=\"large\"\n//               disabled={loading}\n//               onClick={handleManualLogin}\n//               sx={{ mt: 3, mb: 2, py: 1.5 }}\n//             >\n//               {loading ? (\n//                 <CircularProgress size={24} color=\"inherit\" />\n//               ) : (\n//                 'üîë Sign In'\n//               )}\n//             </Button>\n\n//             <Box sx={{ textAlign: 'center' }}>\n//               <Link to=\"/forgot-password\" style={{ textDecoration: 'none' }}>\n//                 <Typography variant=\"body2\" color=\"primary.main\">\n//                   Forgot your password?\n//                 </Typography>\n//               </Link>\n//             </Box>\n//           </Box>\n\n//           <Divider sx={{ width: '100%', my: 3 }}>\n//             <Typography variant=\"body2\" color=\"text.secondary\">\n//               OR\n//             </Typography>\n//           </Divider>\n\n//           {/* Register Link */}\n//           <Box sx={{ textAlign: 'center', width: '100%' }}>\n//             <Typography variant=\"body2\" color=\"text.secondary\">\n//               Don't have an account?{' '}\n//               <Link to=\"/register\" style={{ color: theme.palette.primary.main, fontWeight: 'bold' }}>\n//                 Sign Up\n//               </Link>\n//             </Typography>\n//           </Box>\n\n//           {/* Demo Account Info */}\n//           <Alert\n//             severity=\"info\"\n//             sx={{ mt: 3, width: '100%' }}\n//             title=\"Demo Account\"\n//           >\n//             <Typography variant=\"body2\">\n//               <strong>Demo User:</strong> user@example.com / password123<br />\n//               <strong>Demo Admin:</strong> admin@example.com / admin123\n//             </Typography>\n//           </Alert>\n//         </Paper>\n//       </Box>\n//     </Container>\n//   );\n// };\n\n// export default Login;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}