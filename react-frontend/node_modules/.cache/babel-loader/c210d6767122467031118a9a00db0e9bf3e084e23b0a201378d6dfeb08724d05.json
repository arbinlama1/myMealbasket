{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import {\n//   Container,\n//   Grid,\n//   Card,\n//   CardContent,\n//   Typography,\n//   Button,\n//   Box,\n//   Chip,\n//   CircularProgress,\n//   Alert,\n//   Dialog,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   TextField,\n//   MenuItem,\n//   IconButton,\n//   useTheme,\n// } from '@mui/material';\n// import {\n//   Restaurant,\n//   CalendarToday,\n//   LocalFireDepartment,\n//   AttachMoney,\n//   AutoAwesome,\n//   Add,\n//   Edit,\n//   Delete,\n//   Close,\n// } from '@mui/icons-material';\n// import { useAuth } from '../contexts/AuthContext';\n// import { mealPlanAPI } from '../services/api';\n// import { format } from 'date-fns';\n\n// const MealPlanner = () => {\n//   const { user } = useAuth();\n//   const theme = useTheme();\n\n//   const [mealPlans, setMealPlans] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n//   const [openDialog, setOpenDialog] = useState(false);\n//   const [editingPlan, setEditingPlan] = useState(null);\n//   const [aiRecommendation, setAiRecommendation] = useState(null);\n\n//   const [formData, setFormData] = useState({\n//     planName: '',\n//     mealType: 'BREAKFAST',\n//     ingredients: '',\n//     instructions: '',\n//   });\n\n//   const mealTypes = ['BREAKFAST', 'LUNCH', 'DINNER', 'SNACK'];\n\n//   useEffect(() => {\n//     fetchMealPlans();\n//   }, [selectedDate]);\n\n//   const fetchMealPlans = async () => {\n//     if (!user) return;\n//     try {\n//       setLoading(true);\n//       const response = await mealPlanAPI.getPlansByDate(selectedDate);\n//       if (response.data?.success) {\n//         setMealPlans(response.data.data || []);\n//       } else {\n//         setError('Failed to load meal plans');\n//       }\n//     } catch (err) {\n//       setError('Failed to load meal plans');\n//       console.error('Error fetching meal plans:', err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleGenerateAIRecommendation = async () => {\n//     if (\n//       formData.planName.trim() ||\n//       formData.ingredients.trim() ||\n//       formData.instructions.trim()\n//     ) {\n//       if (!window.confirm('Generate new AI suggestion? Current fields will be overwritten.')) {\n//         return;\n//       }\n//     }\n\n//     try {\n//       const response = await mealPlanAPI.getAIRecommendation(\n//         formData.mealType,\n//         selectedDate\n//       );\n//       if (response.data?.success) {\n//         const rec = response.data.data;\n//         setAiRecommendation(rec);\n//         // Optional: auto-fill form fields from AI response\n//         setFormData((prev) => ({\n//           ...prev,\n//           planName: rec.suggestedName || `AI ${formData.mealType} Suggestion`,\n//           ingredients: rec.ingredients || prev.ingredients,\n//           instructions: rec.instructions || prev.instructions,\n//         }));\n//       }\n//     } catch (err) {\n//       setError('Failed to generate AI recommendation');\n//       console.error('Error generating AI recommendation:', err);\n//     }\n//   };\n\n//   const isFormValid = () =>\n//     formData.planName.trim() !== '' &&\n//     formData.mealType &&\n//     formData.ingredients.trim() !== '' &&\n//     formData.instructions.trim() !== '';\n\n//   const handleSaveMealPlan = async () => {\n//     if (!isFormValid()) {\n//       setError('Please fill in all required fields');\n//       return;\n//     }\n\n//     try {\n//       const planData = {\n//         ...formData,\n//         planDate: selectedDate,\n//         calories: aiRecommendation?.calories || 400,\n//         estimatedCost: aiRecommendation?.estimatedCost || 150, // NPR default\n//         aiRecommendation: aiRecommendation?.aiRecommendation || '',\n//         isRecommended: !!aiRecommendation,\n//       };\n\n//       if (editingPlan) {\n//         await mealPlanAPI.update(editingPlan.id, planData);\n//       } else {\n//         await mealPlanAPI.create(planData);\n//       }\n\n//       setOpenDialog(false);\n//       setEditingPlan(null);\n//       setAiRecommendation(null);\n//       setFormData({\n//         planName: '',\n//         mealType: 'BREAKFAST',\n//         ingredients: '',\n//         instructions: '',\n//       });\n//       fetchMealPlans();\n//     } catch (err) {\n//       setError('Failed to save meal plan');\n//       console.error('Error saving meal plan:', err);\n//     }\n//   };\n\n//   const handleEdit = (plan) => {\n//     setEditingPlan(plan);\n//     setFormData({\n//       planName: plan.planName || '',\n//       mealType: plan.mealType || 'BREAKFAST',\n//       ingredients: plan.ingredients || '',\n//       instructions: plan.instructions || '',\n//     });\n//     setOpenDialog(true);\n//   };\n\n//   const handleDelete = async (planId) => {\n//     if (!window.confirm('Are you sure you want to delete this meal plan?')) return;\n\n//     try {\n//       await mealPlanAPI.delete(planId);\n//       fetchMealPlans();\n//     } catch (err) {\n//       setError('Failed to delete meal plan');\n//       console.error('Error deleting meal plan:', err);\n//     }\n//   };\n\n//   const handleOpenDialog = () => {\n//     setEditingPlan(null);\n//     setAiRecommendation(null);\n//     setFormData({\n//       planName: '',\n//       mealType: 'BREAKFAST',\n//       ingredients: '',\n//       instructions: '',\n//     });\n//     setOpenDialog(true);\n//   };\n\n//   const getMealTypeIcon = (mealType) => {\n//     switch (mealType) {\n//       case 'BREAKFAST': return 'üåÖ';\n//       case 'LUNCH':     return '‚òÄÔ∏è';\n//       case 'DINNER':    return 'üåô';\n//       case 'SNACK':     return 'üçø';\n//       default:          return 'üçΩÔ∏è';\n//     }\n//   };\n\n//   const getMealTypeColor = (mealType) => {\n//     switch (mealType) {\n//       case 'BREAKFAST': return 'warning';\n//       case 'LUNCH':     return 'info';\n//       case 'DINNER':    return 'secondary';\n//       case 'SNACK':     return 'success';\n//       default:          return 'primary';\n//     }\n//   };\n\n//   if (loading && mealPlans.length === 0) {\n//     return (\n//       <Container sx={{ display: 'flex', justifyContent: 'center', mt: 8 }}>\n//         <CircularProgress size={60} />\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//       {/* Header */}\n//       <Box sx={{ mb: 4, textAlign: 'center' }}>\n//         <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n//           üçΩÔ∏è Smart Meal Planner\n//         </Typography>\n//         <Typography variant=\"h6\" color=\"text.secondary\">\n//           Plan your meals with AI-powered recommendations\n//         </Typography>\n//       </Box>\n\n//       {/* Date & Add Button */}\n//       <Box sx={{ display: 'flex', gap: 2, mb: 4, flexWrap: 'wrap', alignItems: 'center' }}>\n//         <TextField\n//           type=\"date\"\n//           label=\"Select Date\"\n//           value={selectedDate}\n//           onChange={(e) => setSelectedDate(e.target.value)}\n//           InputProps={{\n//             startAdornment: <CalendarToday sx={{ mr: 1, color: 'action.active' }} />,\n//           }}\n//         />\n//         <Button\n//           variant=\"contained\"\n//           startIcon={<Add />}\n//           onClick={handleOpenDialog}\n//         >\n//           Add Meal Plan\n//         </Button>\n//       </Box>\n\n//       {/* Error */}\n//       {error && (\n//         <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n//           {error}\n//         </Alert>\n//       )}\n\n//       {/* Meal Plans Grid */}\n//       <Grid container spacing={3}>\n//         {mealPlans.map((plan) => (\n//           <Grid item xs={12} sm={6} md={4} key={plan.id}>\n//             <Card\n//               sx={{\n//                 height: '100%',\n//                 display: 'flex',\n//                 flexDirection: 'column',\n//                 position: 'relative',\n//                 border: plan.isRecommended ? `2px solid ${theme.palette.success.main}` : 'none',\n//               }}\n//             >\n//               {plan.isRecommended && (\n//                 <Chip\n//                   icon={<AutoAwesome />}\n//                   label=\"AI Recommended\"\n//                   color=\"success\"\n//                   size=\"small\"\n//                   sx={{ position: 'absolute', top: 10, right: 10, zIndex: 1 }}\n//                 />\n//               )}\n\n//               <CardContent sx={{ flexGrow: 1 }}>\n//                 <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n//                   <Typography variant=\"h2\" sx={{ mr: 1 }}>\n//                     {getMealTypeIcon(plan.mealType)}\n//                   </Typography>\n//                   <Box>\n//                     <Typography variant=\"h6\" component=\"h3\">\n//                       {plan.planName}\n//                     </Typography>\n//                     <Chip\n//                       label={plan.mealType}\n//                       color={getMealTypeColor(plan.mealType)}\n//                       size=\"small\"\n//                     />\n//                   </Box>\n//                 </Box>\n\n//                 {plan.aiRecommendation && (\n//                   <Alert severity=\"info\" sx={{ mb: 2 }}>\n//                     <Typography variant=\"body2\">\n//                       {plan.aiRecommendation}\n//                     </Typography>\n//                   </Alert>\n//                 )}\n\n//                 <Box sx={{ mb: 2 }}>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//                     <strong>Ingredients:</strong> {plan.ingredients || 'Not specified'}\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//                     <strong>Instructions:</strong> {plan.instructions || 'Not specified'}\n//                   </Typography>\n//                 </Box>\n\n//                 <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n//                   <Chip\n//                     icon={<LocalFireDepartment />}\n//                     label={`${plan.calories || 0} cal`}\n//                     size=\"small\"\n//                     color=\"warning\"\n//                     variant=\"outlined\"\n//                   />\n//                   <Chip\n//                     icon={<AttachMoney />}\n//                     label={`NPR ${(plan.estimatedCost || 0).toFixed(0)}`}\n//                     size=\"small\"\n//                     color=\"success\"\n//                     variant=\"outlined\"\n//                   />\n//                 </Box>\n\n//                 <Box sx={{ display: 'flex', gap: 1, mt: 'auto' }}>\n//                   <Button\n//                     size=\"small\"\n//                     startIcon={<Edit />}\n//                     onClick={() => handleEdit(plan)}\n//                   >\n//                     Edit\n//                   </Button>\n//                   <Button\n//                     size=\"small\"\n//                     color=\"error\"\n//                     startIcon={<Delete />}\n//                     onClick={() => handleDelete(plan.id)}\n//                   >\n//                     Delete\n//                   </Button>\n//                 </Box>\n//               </CardContent>\n//             </Card>\n//           </Grid>\n//         ))}\n//       </Grid>\n\n//       {mealPlans.length === 0 && !loading && (\n//         <Box sx={{ textAlign: 'center', py: 8 }}>\n//           <Restaurant sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n//           <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n//             No meal plans for this date\n//           </Typography>\n//           <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//             Create your first meal plan or generate AI recommendations\n//           </Typography>\n//           <Button\n//             variant=\"contained\"\n//             startIcon={<Add />}\n//             onClick={handleOpenDialog}\n//             sx={{ mt: 2 }}\n//           >\n//             Create Meal Plan\n//           </Button>\n//         </Box>\n//       )}\n\n//       {/* Add/Edit Dialog */}\n//       <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\n//         <DialogTitle>\n//           {editingPlan ? 'Edit Meal Plan' : 'Create Meal Plan'}\n//           <IconButton\n//             onClick={() => setOpenDialog(false)}\n//             sx={{ position: 'absolute', right: 8, top: 8 }}\n//           >\n//             <Close />\n//           </IconButton>\n//         </DialogTitle>\n\n//         <DialogContent>\n//           <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, pt: 1 }}>\n//             <TextField\n//               label=\"Plan Name\"\n//               fullWidth\n//               value={formData.planName}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, planName: e.target.value }))}\n//               required\n//             />\n\n//             <TextField\n//               select\n//               label=\"Meal Type\"\n//               fullWidth\n//               value={formData.mealType}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, mealType: e.target.value }))}\n//               required\n//             >\n//               {mealTypes.map((type) => (\n//                 <MenuItem key={type} value={type}>\n//                   {getMealTypeIcon(type)} {type}\n//                 </MenuItem>\n//               ))}\n//             </TextField>\n\n//             <TextField\n//               label=\"Ingredients\"\n//               fullWidth\n//               multiline\n//               rows={3}\n//               value={formData.ingredients}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, ingredients: e.target.value }))}\n//               required\n//             />\n\n//             <TextField\n//               label=\"Instructions\"\n//               fullWidth\n//               multiline\n//               rows={3}\n//               value={formData.instructions}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, instructions: e.target.value }))}\n//               required\n//             />\n\n//             <Button\n//               variant=\"outlined\"\n//               startIcon={<AutoAwesome />}\n//               onClick={handleGenerateAIRecommendation}\n//               disabled={!formData.mealType}\n//             >\n//               Generate AI Recommendation\n//             </Button>\n\n//             {aiRecommendation && (\n//               <Alert severity=\"success\" sx={{ mt: 2 }}>\n//                 <Typography variant=\"body2\">\n//                   <strong>AI Suggestion:</strong> {aiRecommendation.aiRecommendation}\n//                 </Typography>\n//                 <Typography variant=\"body2\">\n//                   <strong>Calories:</strong> {aiRecommendation.calories} kcal\n//                 </Typography>\n//                 <Typography variant=\"body2\">\n//                   <strong>Est. Cost:</strong> NPR {(aiRecommendation.estimatedCost || 0).toFixed(0)}\n//                 </Typography>\n//               </Alert>\n//             )}\n//           </Box>\n//         </DialogContent>\n\n//         <DialogActions>\n//           <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\n//           <Button\n//             variant=\"contained\"\n//             onClick={handleSaveMealPlan}\n//             disabled={!isFormValid()}\n//           >\n//             {editingPlan ? 'Update' : 'Save'}\n//           </Button>\n//         </DialogActions>\n//       </Dialog>\n//     </Container>\n//   );\n// };\n\n// export default MealPlanner;","map":{"version":3,"names":[],"sources":["/home/arbinlama/6semProject/Mealbasket/react-frontend/src/pages/MealPlanner.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import {\n//   Container,\n//   Grid,\n//   Card,\n//   CardContent,\n//   Typography,\n//   Button,\n//   Box,\n//   Chip,\n//   CircularProgress,\n//   Alert,\n//   Dialog,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   TextField,\n//   MenuItem,\n//   IconButton,\n//   useTheme,\n// } from '@mui/material';\n// import {\n//   Restaurant,\n//   CalendarToday,\n//   LocalFireDepartment,\n//   AttachMoney,\n//   AutoAwesome,\n//   Add,\n//   Edit,\n//   Delete,\n//   Close,\n// } from '@mui/icons-material';\n// import { useAuth } from '../contexts/AuthContext';\n// import { mealPlanAPI } from '../services/api';\n// import { format } from 'date-fns';\n\n// const MealPlanner = () => {\n//   const { user } = useAuth();\n//   const theme = useTheme();\n\n//   const [mealPlans, setMealPlans] = useState([]);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState(null);\n//   const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n//   const [openDialog, setOpenDialog] = useState(false);\n//   const [editingPlan, setEditingPlan] = useState(null);\n//   const [aiRecommendation, setAiRecommendation] = useState(null);\n\n//   const [formData, setFormData] = useState({\n//     planName: '',\n//     mealType: 'BREAKFAST',\n//     ingredients: '',\n//     instructions: '',\n//   });\n\n//   const mealTypes = ['BREAKFAST', 'LUNCH', 'DINNER', 'SNACK'];\n\n//   useEffect(() => {\n//     fetchMealPlans();\n//   }, [selectedDate]);\n\n//   const fetchMealPlans = async () => {\n//     if (!user) return;\n//     try {\n//       setLoading(true);\n//       const response = await mealPlanAPI.getPlansByDate(selectedDate);\n//       if (response.data?.success) {\n//         setMealPlans(response.data.data || []);\n//       } else {\n//         setError('Failed to load meal plans');\n//       }\n//     } catch (err) {\n//       setError('Failed to load meal plans');\n//       console.error('Error fetching meal plans:', err);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const handleGenerateAIRecommendation = async () => {\n//     if (\n//       formData.planName.trim() ||\n//       formData.ingredients.trim() ||\n//       formData.instructions.trim()\n//     ) {\n//       if (!window.confirm('Generate new AI suggestion? Current fields will be overwritten.')) {\n//         return;\n//       }\n//     }\n\n//     try {\n//       const response = await mealPlanAPI.getAIRecommendation(\n//         formData.mealType,\n//         selectedDate\n//       );\n//       if (response.data?.success) {\n//         const rec = response.data.data;\n//         setAiRecommendation(rec);\n//         // Optional: auto-fill form fields from AI response\n//         setFormData((prev) => ({\n//           ...prev,\n//           planName: rec.suggestedName || `AI ${formData.mealType} Suggestion`,\n//           ingredients: rec.ingredients || prev.ingredients,\n//           instructions: rec.instructions || prev.instructions,\n//         }));\n//       }\n//     } catch (err) {\n//       setError('Failed to generate AI recommendation');\n//       console.error('Error generating AI recommendation:', err);\n//     }\n//   };\n\n//   const isFormValid = () =>\n//     formData.planName.trim() !== '' &&\n//     formData.mealType &&\n//     formData.ingredients.trim() !== '' &&\n//     formData.instructions.trim() !== '';\n\n//   const handleSaveMealPlan = async () => {\n//     if (!isFormValid()) {\n//       setError('Please fill in all required fields');\n//       return;\n//     }\n\n//     try {\n//       const planData = {\n//         ...formData,\n//         planDate: selectedDate,\n//         calories: aiRecommendation?.calories || 400,\n//         estimatedCost: aiRecommendation?.estimatedCost || 150, // NPR default\n//         aiRecommendation: aiRecommendation?.aiRecommendation || '',\n//         isRecommended: !!aiRecommendation,\n//       };\n\n//       if (editingPlan) {\n//         await mealPlanAPI.update(editingPlan.id, planData);\n//       } else {\n//         await mealPlanAPI.create(planData);\n//       }\n\n//       setOpenDialog(false);\n//       setEditingPlan(null);\n//       setAiRecommendation(null);\n//       setFormData({\n//         planName: '',\n//         mealType: 'BREAKFAST',\n//         ingredients: '',\n//         instructions: '',\n//       });\n//       fetchMealPlans();\n//     } catch (err) {\n//       setError('Failed to save meal plan');\n//       console.error('Error saving meal plan:', err);\n//     }\n//   };\n\n//   const handleEdit = (plan) => {\n//     setEditingPlan(plan);\n//     setFormData({\n//       planName: plan.planName || '',\n//       mealType: plan.mealType || 'BREAKFAST',\n//       ingredients: plan.ingredients || '',\n//       instructions: plan.instructions || '',\n//     });\n//     setOpenDialog(true);\n//   };\n\n//   const handleDelete = async (planId) => {\n//     if (!window.confirm('Are you sure you want to delete this meal plan?')) return;\n\n//     try {\n//       await mealPlanAPI.delete(planId);\n//       fetchMealPlans();\n//     } catch (err) {\n//       setError('Failed to delete meal plan');\n//       console.error('Error deleting meal plan:', err);\n//     }\n//   };\n\n//   const handleOpenDialog = () => {\n//     setEditingPlan(null);\n//     setAiRecommendation(null);\n//     setFormData({\n//       planName: '',\n//       mealType: 'BREAKFAST',\n//       ingredients: '',\n//       instructions: '',\n//     });\n//     setOpenDialog(true);\n//   };\n\n//   const getMealTypeIcon = (mealType) => {\n//     switch (mealType) {\n//       case 'BREAKFAST': return 'üåÖ';\n//       case 'LUNCH':     return '‚òÄÔ∏è';\n//       case 'DINNER':    return 'üåô';\n//       case 'SNACK':     return 'üçø';\n//       default:          return 'üçΩÔ∏è';\n//     }\n//   };\n\n//   const getMealTypeColor = (mealType) => {\n//     switch (mealType) {\n//       case 'BREAKFAST': return 'warning';\n//       case 'LUNCH':     return 'info';\n//       case 'DINNER':    return 'secondary';\n//       case 'SNACK':     return 'success';\n//       default:          return 'primary';\n//     }\n//   };\n\n//   if (loading && mealPlans.length === 0) {\n//     return (\n//       <Container sx={{ display: 'flex', justifyContent: 'center', mt: 8 }}>\n//         <CircularProgress size={60} />\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//       {/* Header */}\n//       <Box sx={{ mb: 4, textAlign: 'center' }}>\n//         <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n//           üçΩÔ∏è Smart Meal Planner\n//         </Typography>\n//         <Typography variant=\"h6\" color=\"text.secondary\">\n//           Plan your meals with AI-powered recommendations\n//         </Typography>\n//       </Box>\n\n//       {/* Date & Add Button */}\n//       <Box sx={{ display: 'flex', gap: 2, mb: 4, flexWrap: 'wrap', alignItems: 'center' }}>\n//         <TextField\n//           type=\"date\"\n//           label=\"Select Date\"\n//           value={selectedDate}\n//           onChange={(e) => setSelectedDate(e.target.value)}\n//           InputProps={{\n//             startAdornment: <CalendarToday sx={{ mr: 1, color: 'action.active' }} />,\n//           }}\n//         />\n//         <Button\n//           variant=\"contained\"\n//           startIcon={<Add />}\n//           onClick={handleOpenDialog}\n//         >\n//           Add Meal Plan\n//         </Button>\n//       </Box>\n\n//       {/* Error */}\n//       {error && (\n//         <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n//           {error}\n//         </Alert>\n//       )}\n\n//       {/* Meal Plans Grid */}\n//       <Grid container spacing={3}>\n//         {mealPlans.map((plan) => (\n//           <Grid item xs={12} sm={6} md={4} key={plan.id}>\n//             <Card\n//               sx={{\n//                 height: '100%',\n//                 display: 'flex',\n//                 flexDirection: 'column',\n//                 position: 'relative',\n//                 border: plan.isRecommended ? `2px solid ${theme.palette.success.main}` : 'none',\n//               }}\n//             >\n//               {plan.isRecommended && (\n//                 <Chip\n//                   icon={<AutoAwesome />}\n//                   label=\"AI Recommended\"\n//                   color=\"success\"\n//                   size=\"small\"\n//                   sx={{ position: 'absolute', top: 10, right: 10, zIndex: 1 }}\n//                 />\n//               )}\n\n//               <CardContent sx={{ flexGrow: 1 }}>\n//                 <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n//                   <Typography variant=\"h2\" sx={{ mr: 1 }}>\n//                     {getMealTypeIcon(plan.mealType)}\n//                   </Typography>\n//                   <Box>\n//                     <Typography variant=\"h6\" component=\"h3\">\n//                       {plan.planName}\n//                     </Typography>\n//                     <Chip\n//                       label={plan.mealType}\n//                       color={getMealTypeColor(plan.mealType)}\n//                       size=\"small\"\n//                     />\n//                   </Box>\n//                 </Box>\n\n//                 {plan.aiRecommendation && (\n//                   <Alert severity=\"info\" sx={{ mb: 2 }}>\n//                     <Typography variant=\"body2\">\n//                       {plan.aiRecommendation}\n//                     </Typography>\n//                   </Alert>\n//                 )}\n\n//                 <Box sx={{ mb: 2 }}>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//                     <strong>Ingredients:</strong> {plan.ingredients || 'Not specified'}\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//                     <strong>Instructions:</strong> {plan.instructions || 'Not specified'}\n//                   </Typography>\n//                 </Box>\n\n//                 <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\n//                   <Chip\n//                     icon={<LocalFireDepartment />}\n//                     label={`${plan.calories || 0} cal`}\n//                     size=\"small\"\n//                     color=\"warning\"\n//                     variant=\"outlined\"\n//                   />\n//                   <Chip\n//                     icon={<AttachMoney />}\n//                     label={`NPR ${(plan.estimatedCost || 0).toFixed(0)}`}\n//                     size=\"small\"\n//                     color=\"success\"\n//                     variant=\"outlined\"\n//                   />\n//                 </Box>\n\n//                 <Box sx={{ display: 'flex', gap: 1, mt: 'auto' }}>\n//                   <Button\n//                     size=\"small\"\n//                     startIcon={<Edit />}\n//                     onClick={() => handleEdit(plan)}\n//                   >\n//                     Edit\n//                   </Button>\n//                   <Button\n//                     size=\"small\"\n//                     color=\"error\"\n//                     startIcon={<Delete />}\n//                     onClick={() => handleDelete(plan.id)}\n//                   >\n//                     Delete\n//                   </Button>\n//                 </Box>\n//               </CardContent>\n//             </Card>\n//           </Grid>\n//         ))}\n//       </Grid>\n\n//       {mealPlans.length === 0 && !loading && (\n//         <Box sx={{ textAlign: 'center', py: 8 }}>\n//           <Restaurant sx={{ fontSize: 64, color: 'text.secondary', mb: 2 }} />\n//           <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n//             No meal plans for this date\n//           </Typography>\n//           <Typography variant=\"body2\" color=\"text.secondary\" gutterBottom>\n//             Create your first meal plan or generate AI recommendations\n//           </Typography>\n//           <Button\n//             variant=\"contained\"\n//             startIcon={<Add />}\n//             onClick={handleOpenDialog}\n//             sx={{ mt: 2 }}\n//           >\n//             Create Meal Plan\n//           </Button>\n//         </Box>\n//       )}\n\n//       {/* Add/Edit Dialog */}\n//       <Dialog open={openDialog} onClose={() => setOpenDialog(false)} maxWidth=\"md\" fullWidth>\n//         <DialogTitle>\n//           {editingPlan ? 'Edit Meal Plan' : 'Create Meal Plan'}\n//           <IconButton\n//             onClick={() => setOpenDialog(false)}\n//             sx={{ position: 'absolute', right: 8, top: 8 }}\n//           >\n//             <Close />\n//           </IconButton>\n//         </DialogTitle>\n\n//         <DialogContent>\n//           <Box sx={{ display: 'flex', flexDirection: 'column', gap: 2, pt: 1 }}>\n//             <TextField\n//               label=\"Plan Name\"\n//               fullWidth\n//               value={formData.planName}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, planName: e.target.value }))}\n//               required\n//             />\n\n//             <TextField\n//               select\n//               label=\"Meal Type\"\n//               fullWidth\n//               value={formData.mealType}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, mealType: e.target.value }))}\n//               required\n//             >\n//               {mealTypes.map((type) => (\n//                 <MenuItem key={type} value={type}>\n//                   {getMealTypeIcon(type)} {type}\n//                 </MenuItem>\n//               ))}\n//             </TextField>\n\n//             <TextField\n//               label=\"Ingredients\"\n//               fullWidth\n//               multiline\n//               rows={3}\n//               value={formData.ingredients}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, ingredients: e.target.value }))}\n//               required\n//             />\n\n//             <TextField\n//               label=\"Instructions\"\n//               fullWidth\n//               multiline\n//               rows={3}\n//               value={formData.instructions}\n//               onChange={(e) => setFormData((prev) => ({ ...prev, instructions: e.target.value }))}\n//               required\n//             />\n\n//             <Button\n//               variant=\"outlined\"\n//               startIcon={<AutoAwesome />}\n//               onClick={handleGenerateAIRecommendation}\n//               disabled={!formData.mealType}\n//             >\n//               Generate AI Recommendation\n//             </Button>\n\n//             {aiRecommendation && (\n//               <Alert severity=\"success\" sx={{ mt: 2 }}>\n//                 <Typography variant=\"body2\">\n//                   <strong>AI Suggestion:</strong> {aiRecommendation.aiRecommendation}\n//                 </Typography>\n//                 <Typography variant=\"body2\">\n//                   <strong>Calories:</strong> {aiRecommendation.calories} kcal\n//                 </Typography>\n//                 <Typography variant=\"body2\">\n//                   <strong>Est. Cost:</strong> NPR {(aiRecommendation.estimatedCost || 0).toFixed(0)}\n//                 </Typography>\n//               </Alert>\n//             )}\n//           </Box>\n//         </DialogContent>\n\n//         <DialogActions>\n//           <Button onClick={() => setOpenDialog(false)}>Cancel</Button>\n//           <Button\n//             variant=\"contained\"\n//             onClick={handleSaveMealPlan}\n//             disabled={!isFormValid()}\n//           >\n//             {editingPlan ? 'Update' : 'Save'}\n//           </Button>\n//         </DialogActions>\n//       </Dialog>\n//     </Container>\n//   );\n// };\n\n// export default MealPlanner;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}