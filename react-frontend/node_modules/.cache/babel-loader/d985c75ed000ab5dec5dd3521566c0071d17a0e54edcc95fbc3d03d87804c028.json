{"ast":null,"code":"// Admin Service for backend API integration\nclass AdminService {\n  constructor() {\n    this.baseURL = 'http://localhost:8081/api/admin';\n  }\n\n  // Get authentication headers\n  getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  }\n\n  // Get all users and vendors from backend\n  async getAllUsers() {\n    try {\n      console.log('AdminService: Fetching all users from backend...');\n      const response = await fetch(`${this.baseURL}/users`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched users:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching users:', error);\n      throw error;\n    }\n  }\n\n  // Get all vendors specifically\n  async getAllVendors() {\n    try {\n      console.log('AdminService: Fetching all vendors from backend...');\n      const response = await fetch(`${this.baseURL}/vendors`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched vendors:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching vendors:', error);\n      throw error;\n    }\n  }\n\n  // Get dashboard statistics\n  async getDashboardStats() {\n    try {\n      console.log('AdminService: Fetching dashboard stats from backend...');\n      const response = await fetch(`${this.baseURL}/stats`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched stats:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching stats:', error);\n      throw error;\n    }\n  }\n\n  // Get all products from all vendors\n  async getAllProducts() {\n    try {\n      console.log('AdminService: Fetching all products from backend...');\n      const response = await fetch(`${this.baseURL}/products`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched products:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching products:', error);\n      throw error;\n    }\n  }\n\n  // Delete a user\n  async deleteUser(userId) {\n    try {\n      console.log('AdminService: Deleting user:', userId);\n      const response = await fetch(`${this.baseURL}/users/${userId}`, {\n        method: 'DELETE',\n        headers: this.getAuthHeaders()\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('AdminService: Successfully deleted user:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error deleting user:', error);\n      throw error;\n    }\n  }\n\n  // Update user role\n  async updateUserRole(userId, newRole) {\n    try {\n      console.log('AdminService: Updating user role:', userId, newRole);\n      const response = await fetch(`${this.baseURL}/users/${userId}/role`, {\n        method: 'PUT',\n        headers: this.getAuthHeaders(),\n        body: JSON.stringify({\n          role: newRole\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log('AdminService: Successfully updated user role:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error updating user role:', error);\n      throw error;\n    }\n  }\n\n  // Fallback to localStorage if backend is not available\n  async getUsersFromFallback() {\n    console.log('AdminService: Using localStorage fallback for users...');\n    const allUsers = JSON.parse(localStorage.getItem('allUsers') || '[]');\n    return allUsers;\n  }\n}\nexport default new AdminService();","map":{"version":3,"names":["AdminService","constructor","baseURL","getAuthHeaders","token","localStorage","getItem","getAllUsers","console","log","response","fetch","method","headers","ok","Error","status","data","json","error","getAllVendors","getDashboardStats","getAllProducts","deleteUser","userId","updateUserRole","newRole","body","JSON","stringify","role","getUsersFromFallback","allUsers","parse"],"sources":["D:/MealBasketSyatem/react-frontend/src/services/adminService.js"],"sourcesContent":["// Admin Service for backend API integration\nclass AdminService {\n  constructor() {\n    this.baseURL = 'http://localhost:8081/api/admin';\n  }\n\n  // Get authentication headers\n  getAuthHeaders() {\n    const token = localStorage.getItem('token');\n    return {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    };\n  }\n\n  // Get all users and vendors from backend\n  async getAllUsers() {\n    try {\n      console.log('AdminService: Fetching all users from backend...');\n      const response = await fetch(`${this.baseURL}/users`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched users:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching users:', error);\n      throw error;\n    }\n  }\n\n  // Get all vendors specifically\n  async getAllVendors() {\n    try {\n      console.log('AdminService: Fetching all vendors from backend...');\n      const response = await fetch(`${this.baseURL}/vendors`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched vendors:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching vendors:', error);\n      throw error;\n    }\n  }\n\n  // Get dashboard statistics\n  async getDashboardStats() {\n    try {\n      console.log('AdminService: Fetching dashboard stats from backend...');\n      const response = await fetch(`${this.baseURL}/stats`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched stats:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching stats:', error);\n      throw error;\n    }\n  }\n\n  // Get all products from all vendors\n  async getAllProducts() {\n    try {\n      console.log('AdminService: Fetching all products from backend...');\n      const response = await fetch(`${this.baseURL}/products`, {\n        method: 'GET',\n        headers: this.getAuthHeaders()\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('AdminService: Successfully fetched products:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error fetching products:', error);\n      throw error;\n    }\n  }\n\n  // Delete a user\n  async deleteUser(userId) {\n    try {\n      console.log('AdminService: Deleting user:', userId);\n      const response = await fetch(`${this.baseURL}/users/${userId}`, {\n        method: 'DELETE',\n        headers: this.getAuthHeaders()\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('AdminService: Successfully deleted user:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error deleting user:', error);\n      throw error;\n    }\n  }\n\n  // Update user role\n  async updateUserRole(userId, newRole) {\n    try {\n      console.log('AdminService: Updating user role:', userId, newRole);\n      const response = await fetch(`${this.baseURL}/users/${userId}/role`, {\n        method: 'PUT',\n        headers: this.getAuthHeaders(),\n        body: JSON.stringify({ role: newRole })\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      console.log('AdminService: Successfully updated user role:', data);\n      return data;\n    } catch (error) {\n      console.error('AdminService: Error updating user role:', error);\n      throw error;\n    }\n  }\n\n  // Fallback to localStorage if backend is not available\n  async getUsersFromFallback() {\n    console.log('AdminService: Using localStorage fallback for users...');\n    const allUsers = JSON.parse(localStorage.getItem('allUsers') || '[]');\n    return allUsers;\n  }\n}\n\nexport default new AdminService();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}