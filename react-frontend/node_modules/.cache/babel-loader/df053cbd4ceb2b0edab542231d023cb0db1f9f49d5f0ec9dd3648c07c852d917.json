{"ast":null,"code":"// Vendor Service - Handles vendor-specific product operations\n// This service will be ready for backend JWT authentication integration\n\nclass VendorService {\n  constructor() {\n    this.baseURL = 'http://localhost:8081'; // Backend API URL\n    this.currentVendorId = null;\n  }\n\n  // Set current vendor ID (will come from JWT token in backend)\n  setCurrentVendor(vendorId) {\n    this.currentVendorId = vendorId;\n  }\n\n  // Get current vendor ID (will be extracted from JWT token in backend)\n  getCurrentVendorId() {\n    if (!this.currentVendorId) {\n      // For now, get from localStorage (will be replaced with JWT parsing)\n      const user = localStorage.getItem('user');\n      if (user) {\n        try {\n          const parsedUser = JSON.parse(user);\n          this.currentVendorId = parsedUser.id;\n          console.log('VendorService: Set current vendor ID to:', this.currentVendorId);\n        } catch (err) {\n          console.error('VendorService: Error parsing user data:', err);\n        }\n      }\n    }\n    return this.currentVendorId;\n  }\n\n  // Get vendor's own products only\n  async getVendorProducts() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Loading products for vendor ${vendorId}`);\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n\n      // Clear Restaurant One products from localStorage\n      if (allVendorProducts['vendor_1']) {\n        console.log('VendorService: Removing Restaurant One products from localStorage');\n        delete allVendorProducts['vendor_1'];\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      let vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n\n      // Add sample products if vendor has no products (for testing)\n      if (vendorProducts.length === 0) {\n        console.log(`VendorService: No products found for vendor ${vendorId}, adding sample products`);\n        vendorProducts = this.getSampleProducts(vendorId);\n\n        // Save sample products to localStorage\n        allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      console.log(`VendorService: Found ${vendorProducts.length} products for vendor ${vendorId}:`, vendorProducts);\n\n      // Strict filtering - ensure products belong to this vendor only\n      const filteredProducts = vendorProducts.filter(product => product.vendorId === vendorId);\n      console.log(`VendorService: Filtered to ${filteredProducts.length} products for vendor ${vendorId}:`, filteredProducts);\n      return filteredProducts;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products`, {\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to fetch products');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor products:', error);\n      throw error;\n    }\n  }\n\n  // Get sample products for testing\n  getSampleProducts(vendorId) {\n    const sampleProducts = {\n      2: [\n      // Vendor Two products only\n      {\n        id: Date.now() + 4,\n        name: 'Pepperoni Pizza',\n        vendor: 'Restaurant Two',\n        vendorId: 2,\n        price: 15.99,\n        category: 'Main Course',\n        description: 'Fresh mozzarella, pepperoni, and tomato sauce on thin crust',\n        rating: 4.7,\n        totalRatings: 18,\n        orders: 24,\n        stock: 15,\n        inStock: true,\n        image: 'https://via.placeholder.com/300x200/FF9800/FFFFFF?text=Pepperoni+Pizza',\n        ingredients: 'Mozzarella, pepperoni, tomato sauce, thin crust',\n        calories: 680,\n        prepTime: '20 mins',\n        createdAt: new Date().toISOString()\n      }, {\n        id: Date.now() + 5,\n        name: 'Margherita Pizza',\n        vendor: 'Restaurant Two',\n        vendorId: 2,\n        price: 13.99,\n        category: 'Main Course',\n        description: 'Classic margherita with fresh basil and mozzarella',\n        rating: 4.4,\n        totalRatings: 14,\n        orders: 19,\n        stock: 8,\n        inStock: true,\n        image: 'https://via.placeholder.com/300x200/FF9800/FFFFFF?text=Margherita+Pizza',\n        ingredients: 'Mozzarella, basil, tomato sauce, olive oil',\n        calories: 620,\n        prepTime: '18 mins',\n        createdAt: new Date().toISOString()\n      }]\n    };\n    return sampleProducts[vendorId] || [];\n  }\n\n  // Add product for current vendor only\n  async addProduct(productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Adding product for vendor ${vendorId}:`, productData);\n\n      // Create new product with proper structure\n      const newProduct = {\n        id: Date.now() + Math.random(),\n        // Ensure unique ID\n        ...productData,\n        vendorId: vendorId,\n        createdAt: new Date().toISOString(),\n        inStock: productData.stock > 0 // Set inStock based on stock quantity\n      };\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      if (!allVendorProducts[`vendor_${vendorId}`]) {\n        allVendorProducts[`vendor_${vendorId}`] = [];\n      }\n      allVendorProducts[`vendor_${vendorId}`].push(newProduct);\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`VendorService: Successfully added product ${newProduct.id} for vendor ${vendorId}`);\n\n      // Notify admin dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n\n      // Notify user dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n      return newProduct;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products`, {\n      //   method: 'POST',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(productData)\n      // });\n      // if (!response.ok) throw new Error('Failed to add product');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error adding product:', error);\n      throw error;\n    }\n  }\n\n  // Update product for current vendor only\n  async updateProduct(productId, productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      console.log(`VendorService: Updating product ${productId} for vendor ${vendorId}:`, productData);\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n\n      // Update product\n      const updatedProduct = {\n        ...vendorProducts[productIndex],\n        ...productData,\n        updatedAt: new Date().toISOString(),\n        inStock: productData.stock !== undefined ? productData.stock > 0 : vendorProducts[productIndex].inStock\n      };\n      vendorProducts[productIndex] = updatedProduct;\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`VendorService: Successfully updated product ${productId} for vendor ${vendorId}`);\n\n      // Notify admin dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n\n      // Notify user dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n      return updatedProduct;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n      //   method: 'PUT',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(productData)\n      // });\n      // if (!response.ok) throw new Error('Failed to update product');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error updating product:', error);\n      throw error;\n    }\n  }\n\n  // Delete product for current vendor only\n  async deleteProduct(productId) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found or not owned by vendor');\n      }\n\n      // Verify product belongs to this vendor\n      const product = vendorProducts[productIndex];\n      if (product.vendorId !== vendorId) {\n        throw new Error('Unauthorized: Product does not belong to this vendor');\n      }\n\n      // Remove product\n      vendorProducts.splice(productIndex, 1);\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      console.log(`Product deleted for vendor ${vendorId}:`, product);\n      return product;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n      //   method: 'DELETE',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to delete product');\n      // return await response.json();\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      throw error;\n    }\n  }\n\n  // Get vendor profile data\n  async getVendorProfile() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const storedProfile = localStorage.getItem(`vendor_${vendorId}_profile`);\n      if (storedProfile) {\n        return JSON.parse(storedProfile);\n      }\n\n      // Return default profile for new vendor (starts with zero metrics)\n      const defaultProfile = {\n        id: vendorId,\n        name: `Vendor ${vendorId}`,\n        email: `vendor${vendorId}@test.com`,\n        rating: 0.0,\n        // New vendor starts with 0 rating\n        totalRatings: 0,\n        // New vendor starts with 0 ratings\n        totalOrders: 0,\n        // New vendor starts with 0 orders\n        revenue: 0.0,\n        // New vendor starts with $0 revenue\n        totalProducts: 0 // New vendor starts with 0 products\n      };\n      console.log(`VendorService: Creating new vendor profile for vendor ${vendorId}:`, defaultProfile);\n      return defaultProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to fetch vendor profile');\n      // return await response.json();\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor profile:', error);\n      throw error;\n    }\n  }\n\n  // Update vendor profile\n  async updateVendorProfile(profileData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const updatedProfile = {\n        id: vendorId,\n        ...profileData\n      };\n      localStorage.setItem(`vendor_${vendorId}_profile`, JSON.stringify(updatedProfile));\n      console.log(`Vendor profile updated for ${vendorId}:`, updatedProfile);\n      return updatedProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   method: 'PUT',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(profileData)\n      // });\n      // if (!response.ok) throw new Error('Failed to update vendor profile');\n      // return await response.json();\n    } catch (error) {\n      console.error('Error updating vendor profile:', error);\n      throw error;\n    }\n  }\n}\n\n// Create singleton instance\nconst vendorService = new VendorService();\nexport default vendorService;","map":{"version":3,"names":["VendorService","constructor","baseURL","currentVendorId","setCurrentVendor","vendorId","getCurrentVendorId","user","localStorage","getItem","parsedUser","JSON","parse","id","console","log","err","error","getVendorProducts","Error","allVendorProducts","setItem","stringify","vendorProducts","length","getSampleProducts","filteredProducts","filter","product","sampleProducts","Date","now","name","vendor","price","category","description","rating","totalRatings","orders","stock","inStock","image","ingredients","calories","prepTime","createdAt","toISOString","addProduct","productData","newProduct","Math","random","push","window","postMessage","type","updateProduct","productId","productIndex","findIndex","p","updatedProduct","updatedAt","undefined","deleteProduct","splice","getVendorProfile","storedProfile","defaultProfile","email","totalOrders","revenue","totalProducts","updateVendorProfile","profileData","updatedProfile","vendorService"],"sources":["D:/MealBasketSyatem/react-frontend/src/services/vendorService.js"],"sourcesContent":["// Vendor Service - Handles vendor-specific product operations\n// This service will be ready for backend JWT authentication integration\n\nclass VendorService {\n  constructor() {\n    this.baseURL = 'http://localhost:8081'; // Backend API URL\n    this.currentVendorId = null;\n  }\n\n  // Set current vendor ID (will come from JWT token in backend)\n  setCurrentVendor(vendorId) {\n    this.currentVendorId = vendorId;\n  }\n\n  // Get current vendor ID (will be extracted from JWT token in backend)\n  getCurrentVendorId() {\n    if (!this.currentVendorId) {\n      // For now, get from localStorage (will be replaced with JWT parsing)\n      const user = localStorage.getItem('user');\n      if (user) {\n        try {\n          const parsedUser = JSON.parse(user);\n          this.currentVendorId = parsedUser.id;\n          console.log('VendorService: Set current vendor ID to:', this.currentVendorId);\n        } catch (err) {\n          console.error('VendorService: Error parsing user data:', err);\n        }\n      }\n    }\n    return this.currentVendorId;\n  }\n\n  // Get vendor's own products only\n  async getVendorProducts() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Loading products for vendor ${vendorId}`);\n      \n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      \n      // Clear Restaurant One products from localStorage\n      if (allVendorProducts['vendor_1']) {\n        console.log('VendorService: Removing Restaurant One products from localStorage');\n        delete allVendorProducts['vendor_1'];\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      \n      let vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      // Add sample products if vendor has no products (for testing)\n      if (vendorProducts.length === 0) {\n        console.log(`VendorService: No products found for vendor ${vendorId}, adding sample products`);\n        vendorProducts = this.getSampleProducts(vendorId);\n        \n        // Save sample products to localStorage\n        allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n        localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      }\n      \n      console.log(`VendorService: Found ${vendorProducts.length} products for vendor ${vendorId}:`, vendorProducts);\n      \n      // Strict filtering - ensure products belong to this vendor only\n      const filteredProducts = vendorProducts.filter(product => \n        product.vendorId === vendorId\n      );\n      \n      console.log(`VendorService: Filtered to ${filteredProducts.length} products for vendor ${vendorId}:`, filteredProducts);\n      return filteredProducts;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products`, {\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to fetch products');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor products:', error);\n      throw error;\n    }\n  }\n\n  // Get sample products for testing\n  getSampleProducts(vendorId) {\n    const sampleProducts = {\n      2: [ // Vendor Two products only\n        {\n          id: Date.now() + 4,\n          name: 'Pepperoni Pizza',\n          vendor: 'Restaurant Two',\n          vendorId: 2,\n          price: 15.99,\n          category: 'Main Course',\n          description: 'Fresh mozzarella, pepperoni, and tomato sauce on thin crust',\n          rating: 4.7,\n          totalRatings: 18,\n          orders: 24,\n          stock: 15,\n          inStock: true,\n          image: 'https://via.placeholder.com/300x200/FF9800/FFFFFF?text=Pepperoni+Pizza',\n          ingredients: 'Mozzarella, pepperoni, tomato sauce, thin crust',\n          calories: 680,\n          prepTime: '20 mins',\n          createdAt: new Date().toISOString()\n        },\n        {\n          id: Date.now() + 5,\n          name: 'Margherita Pizza',\n          vendor: 'Restaurant Two',\n          vendorId: 2,\n          price: 13.99,\n          category: 'Main Course',\n          description: 'Classic margherita with fresh basil and mozzarella',\n          rating: 4.4,\n          totalRatings: 14,\n          orders: 19,\n          stock: 8,\n          inStock: true,\n          image: 'https://via.placeholder.com/300x200/FF9800/FFFFFF?text=Margherita+Pizza',\n          ingredients: 'Mozzarella, basil, tomato sauce, olive oil',\n          calories: 620,\n          prepTime: '18 mins',\n          createdAt: new Date().toISOString()\n        }\n      ]\n    };\n    \n    return sampleProducts[vendorId] || [];\n  }\n\n  // Add product for current vendor only\n  async addProduct(productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Adding product for vendor ${vendorId}:`, productData);\n      \n      // Create new product with proper structure\n      const newProduct = {\n        id: Date.now() + Math.random(), // Ensure unique ID\n        ...productData,\n        vendorId: vendorId,\n        createdAt: new Date().toISOString(),\n        inStock: productData.stock > 0 // Set inStock based on stock quantity\n      };\n\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      if (!allVendorProducts[`vendor_${vendorId}`]) {\n        allVendorProducts[`vendor_${vendorId}`] = [];\n      }\n      \n      allVendorProducts[`vendor_${vendorId}`].push(newProduct);\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n      console.log(`VendorService: Successfully added product ${newProduct.id} for vendor ${vendorId}`);\n      \n      // Notify admin dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      // Notify user dashboard about new product\n      window.postMessage({\n        type: 'PRODUCT_ADDED',\n        product: newProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      return newProduct;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products`, {\n      //   method: 'POST',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(productData)\n      // });\n      // if (!response.ok) throw new Error('Failed to add product');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error adding product:', error);\n      throw error;\n    }\n  }\n\n  // Update product for current vendor only\n  async updateProduct(productId, productData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      console.log(`VendorService: Updating product ${productId} for vendor ${vendorId}:`, productData);\n      \n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found');\n      }\n      \n      // Update product\n      const updatedProduct = {\n        ...vendorProducts[productIndex],\n        ...productData,\n        updatedAt: new Date().toISOString(),\n        inStock: productData.stock !== undefined ? productData.stock > 0 : vendorProducts[productIndex].inStock\n      };\n      \n      vendorProducts[productIndex] = updatedProduct;\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n      console.log(`VendorService: Successfully updated product ${productId} for vendor ${vendorId}`);\n      \n      // Notify admin dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      // Notify user dashboard about product update\n      window.postMessage({\n        type: 'PRODUCT_UPDATED',\n        product: updatedProduct,\n        vendorId: vendorId\n      }, '*');\n      \n      return updatedProduct;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n      //   method: 'PUT',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(productData)\n      // });\n      // if (!response.ok) throw new Error('Failed to update product');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error updating product:', error);\n      throw error;\n    }\n  }\n\n  // Delete product for current vendor only\n  async deleteProduct(productId) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n      const vendorProducts = allVendorProducts[`vendor_${vendorId}`] || [];\n      \n      const productIndex = vendorProducts.findIndex(p => p.id === productId);\n      if (productIndex === -1) {\n        throw new Error('Product not found or not owned by vendor');\n      }\n\n      // Verify product belongs to this vendor\n      const product = vendorProducts[productIndex];\n      if (product.vendorId !== vendorId) {\n        throw new Error('Unauthorized: Product does not belong to this vendor');\n      }\n\n      // Remove product\n      vendorProducts.splice(productIndex, 1);\n      allVendorProducts[`vendor_${vendorId}`] = vendorProducts;\n      localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n\n      console.log(`Product deleted for vendor ${vendorId}:`, product);\n      return product;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/products/${productId}`, {\n      //   method: 'DELETE',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to delete product');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('Error deleting product:', error);\n      throw error;\n    }\n  }\n\n  // Get vendor profile data\n  async getVendorProfile() {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const storedProfile = localStorage.getItem(`vendor_${vendorId}_profile`);\n      if (storedProfile) {\n        return JSON.parse(storedProfile);\n      }\n\n      // Return default profile for new vendor (starts with zero metrics)\n      const defaultProfile = {\n        id: vendorId,\n        name: `Vendor ${vendorId}`,\n        email: `vendor${vendorId}@test.com`,\n        rating: 0.0,           // New vendor starts with 0 rating\n        totalRatings: 0,        // New vendor starts with 0 ratings\n        totalOrders: 0,         // New vendor starts with 0 orders\n        revenue: 0.0,          // New vendor starts with $0 revenue\n        totalProducts: 0        // New vendor starts with 0 products\n      };\n\n      console.log(`VendorService: Creating new vendor profile for vendor ${vendorId}:`, defaultProfile);\n      return defaultProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   }\n      // });\n      // if (!response.ok) throw new Error('Failed to fetch vendor profile');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('VendorService: Error fetching vendor profile:', error);\n      throw error;\n    }\n  }\n\n  // Update vendor profile\n  async updateVendorProfile(profileData) {\n    const vendorId = this.getCurrentVendorId();\n    if (!vendorId) {\n      throw new Error('Vendor not authenticated');\n    }\n\n    try {\n      // For now, use localStorage (will be replaced with API call)\n      const updatedProfile = {\n        id: vendorId,\n        ...profileData\n      };\n      \n      localStorage.setItem(`vendor_${vendorId}_profile`, JSON.stringify(updatedProfile));\n      \n      console.log(`Vendor profile updated for ${vendorId}:`, updatedProfile);\n      return updatedProfile;\n\n      // Future API call with JWT:\n      // const response = await fetch(`${this.baseURL}/api/vendor/profile`, {\n      //   method: 'PUT',\n      //   headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('token')}`,\n      //     'Content-Type': 'application/json'\n      //   },\n      //   body: JSON.stringify(profileData)\n      // });\n      // if (!response.ok) throw new Error('Failed to update vendor profile');\n      // return await response.json();\n\n    } catch (error) {\n      console.error('Error updating vendor profile:', error);\n      throw error;\n    }\n  }\n}\n\n// Create singleton instance\nconst vendorService = new VendorService();\n\nexport default vendorService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}