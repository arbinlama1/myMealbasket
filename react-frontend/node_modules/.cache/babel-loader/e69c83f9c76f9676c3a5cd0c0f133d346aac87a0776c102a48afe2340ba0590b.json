{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import vendorService from '../services/vendorService';\n// import {\n//   Container,\n//   Paper,\n//   Typography,\n//   Box,\n//   Grid,\n//   Card,\n//   CardContent,\n//   Button,\n//   Avatar,\n//   List,\n//   ListItem,\n//   ListItemText,\n//   ListItemIcon,\n//   Divider,\n//   Alert,\n//   CircularProgress,\n//   Dialog,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   TextField,\n//   FormControl,\n//   InputLabel,\n//   Select,\n//   Tabs,\n//   Tab,\n//   Table,\n//   TableBody,\n//   TableCell,\n//   TableContainer,\n//   TableHead,\n//   TableRow,\n//   Chip,\n//   AppBar,\n//   Toolbar,\n//   IconButton,\n//   Menu,\n//   MenuItem,\n//   LinearProgress,\n// } from '@mui/material';\n// import {\n//   Person,\n//   ShoppingCart,\n//   Restaurant,\n//   Assessment,\n//   Favorite,\n//   History,\n//   LocalOffer,\n//   TrendingUp,\n//   AttachMoney,\n//   Logout,\n//   Add,\n//   Edit,\n//   Delete,\n//   Visibility,\n//   CheckCircle,\n//   Pending,\n//   Cancel,\n//   ArrowBack,\n//   Home,\n//   AccountCircle,\n//   Store,\n// } from '@mui/icons-material';\n\n// const SimpleVendorDashboard = () => {\n//   const [vendorData, setVendorData] = useState({\n//     id: 1,\n//     name: 'Vendor One',\n//     email: 'vendor1@test.com',\n//     rating: 0.0,\n//     totalRatings: 0,\n//     totalOrders: 0,\n//     revenue: 0.0\n//   });\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [currentView, setCurrentView] = useState('dashboard'); // dashboard, products, orders, analytics, promotions\n//   const [anchorEl, setAnchorEl] = useState(null);\n\n//   // Start with empty products - each vendor starts fresh\n//   const [products, setProducts] = useState([]);\n//   const [vendorId] = useState(vendorData.id); // This vendor's ID\n//   const [selectedCategory, setSelectedCategory] = useState('All'); // Category filter state\n\n//   // Dialog states\n//   const [productDialogOpen, setProductDialogOpen] = useState(false);\n//   const [orderDialogOpen, setOrderDialogOpen] = useState(false);\n//   const [analyticsDialogOpen, setAnalyticsDialogOpen] = useState(false);\n//   const [promotionDialogOpen, setPromotionDialogOpen] = useState(false);\n//   const [activeTab, setActiveTab] = useState(0);\n\n//   // Initialize products from service and subscribe to updates\n//   useEffect(() => {\n//     const loadVendorData = async () => {\n//       try {\n//         console.log('Loading vendor data...');\n\n//         // Get current vendor from localStorage (logged-in user)\n//         const user = localStorage.getItem('user');\n//         if (user) {\n//           try {\n//             const parsedUser = JSON.parse(user);\n//             console.log('Logged in user:', parsedUser);\n\n//             // Check if user is a vendor\n//             if (parsedUser.role !== 'VENDOR') {\n//               setError('Access denied. Vendor account required.');\n//               setLoading(false);\n//               setTimeout(() => {\n//                 window.location.href = '/login';\n//               }, 2000);\n//               return;\n//             }\n\n//             // Set the current vendor for the service\n//             vendorService.setCurrentVendor(parsedUser.id);\n\n//             // Load vendor data from database only\n//             try {\n//               // Load vendor's products from database\n//               const vendorProducts = await vendorService.getVendorProducts();\n//               setProducts(vendorProducts);\n\n//               // Load vendor profile from database\n//               const vendorProfile = await vendorService.getVendorProfile();\n\n//               // Use the vendor profile data\n//               setVendorData(vendorProfile);\n\n//               console.log('Vendor data loaded from database:', { vendorProfile, products: vendorProducts });\n//             } catch (backendError) {\n//               console.error('Vendor not found in database, creating vendor account:', backendError);\n\n//               // Create vendor in database from localStorage user data\n//               try {\n//                 const createVendorResponse = await fetch('http://localhost:8081/api/auth/register/vendor', {\n//                   method: 'POST',\n//                   headers: {\n//                     'Content-Type': 'application/json',\n//                     'Authorization': `Bearer ${localStorage.getItem('token')}`\n//                   },\n//                   body: JSON.stringify({\n//                     name: parsedUser.name,\n//                     email: parsedUser.email,\n//                     password: 'vendor123', // Default password\n//                     shopName: parsedUser.shopName || parsedUser.name + \"'s Shop\",\n//                     businessType: parsedUser.businessType || 'General',\n//                     phone: parsedUser.phone || 'Not provided',\n//                     address: parsedUser.address || 'Not provided'\n//                   })\n//                 });\n\n//                 if (createVendorResponse.ok) {\n//                   console.log('Vendor created in database successfully');\n\n//                   // Now try to load the vendor data again\n//                   try {\n//                     const vendorProducts = await vendorService.getVendorProducts();\n//                     setProducts(vendorProducts);\n\n//                     const vendorProfile = await vendorService.getVendorProfile();\n//                     setVendorData(vendorProfile);\n\n//                     console.log('Vendor data loaded after creation:', { vendorProfile, products: vendorProducts });\n//                   } catch (retryError) {\n//                     console.error('Still failed to load vendor after creation:', retryError);\n//                     setError('Failed to setup vendor account. Please try logging out and back in.');\n//                     setLoading(false);\n//                     return;\n//                   }\n//                 } else {\n//                   const errorData = await createVendorResponse.json().catch(() => ({}));\n//                   console.error('Failed to create vendor:', errorData);\n//                   setError('Failed to create vendor account. Please register again.');\n//                   setLoading(false);\n//                   setTimeout(() => {\n//                     window.location.href = '/login';\n//                   }, 3000);\n//                   return;\n//                 }\n//               } catch (createError) {\n//                 console.error('Error creating vendor:', createError);\n//                 setError('Failed to create vendor account. Please try again.');\n//                 setLoading(false);\n//                 return;\n//               }\n//             }\n\n//             setLoading(false);\n\n//           } catch (err) {\n//             console.error('Error parsing user data:', err);\n//             setError('Invalid user data. Please login again.');\n//             setLoading(false);\n//             setTimeout(() => {\n//               window.location.href = '/login';\n//             }, 2000);\n//           }\n//         } else {\n//           setError('No user found. Please login again.');\n//           setLoading(false);\n//           // Redirect to login after 2 seconds\n//           setTimeout(() => {\n//             window.location.href = '/login';\n//           }, 2000);\n//         }\n\n//       } catch (error) {\n//         console.error('Error loading vendor data:', error);\n//         setError('Failed to load vendor dashboard. Please refresh the page.');\n//         setLoading(false);\n//       }\n//     };\n\n//     loadVendorData();\n\n//     // Listen for delete messages from user dashboard (only for this vendor)\n//     const handleMessage = (event) => {\n//       if (event.data && event.data.type === 'PRODUCT_DELETED' && event.data.vendorId === vendorData.id) {\n//         console.log('Vendor Dashboard received delete message:', event.data);\n//         // Update local state - only if it's this vendor's product\n//         setProducts(prev => prev.filter(p => p.id !== event.data.product.id));\n\n//         // Update vendor profile\n//         const updatedVendorData = {\n//           ...vendorData,\n//           totalProducts: Math.max(0, (vendorData.totalProducts || 0) - 1)\n//         };\n//         setVendorData(updatedVendorData);\n//         localStorage.setItem(`vendor_${vendorData.id}_profile`, JSON.stringify(updatedVendorData));\n//       }\n//     };\n\n//     window.addEventListener('message', handleMessage);\n\n//     return () => {\n//       window.removeEventListener('message', handleMessage);\n//     };\n//   }, []);\n\n//   // Sample data\n//   const [orders, setOrders] = useState([\n//     { id: 1234, customer: 'John Doe', items: 'Product A, Product B', total: 15.99, status: 'Pending', time: '2 mins ago' },\n//     { id: 1233, customer: 'Jane Smith', items: 'Product C, Product D', total: 22.50, status: 'Preparing', time: '5 mins ago' },\n//     { id: 1232, customer: 'Bob Johnson', items: 'Product E, Product F', total: 8.75, status: 'Ready', time: '8 mins ago' },\n//     { id: 1231, customer: 'Alice Brown', items: 'Product G, Product H', total: 18.25, status: 'Delivered', time: '12 mins ago' },\n//   ]);\n\n//   const [newProduct, setNewProduct] = useState({\n//     name: '',\n//     price: '',\n//     category: 'Clothing',\n//     description: '',\n//     image: '',\n//     photoFile: null,\n//     stock: 0,\n//     inStock: false\n//   });\n//   const [showAddProductForm, setShowAddProductForm] = useState(false);\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     localStorage.removeItem('user');\n//     window.location.href = '/login';\n//   };\n\n//   // Navigation Functions\n//   const handleBackToDashboard = () => {\n//     setCurrentView('dashboard');\n//   };\n\n//   const handleMenuOpen = (event) => {\n//     setAnchorEl(event.currentTarget);\n//   };\n\n//   const handleMenuClose = () => {\n//     setAnchorEl(null);\n//   };\n\n//   const getViewTitle = () => {\n//     switch(currentView) {\n//       case 'dashboard': return 'Vendor Dashboard';\n//       case 'products': return 'Product Management';\n//       case 'orders': return 'Order Management';\n//       case 'analytics': return 'Analytics';\n//       case 'promotions': return 'Promotions';\n//       default: return 'Vendor Dashboard';\n//     }\n//   };\n\n//   // Product Management Functions using vendor service with strict isolation (NPR currency)\n//   const handleAddProduct = () => {\n//     setShowAddProductForm(true);\n//   };\n\n//   const handleSaveProduct = async () => {\n//     if (!newProduct.name || !newProduct.price || !newProduct.category || !newProduct.description) {\n//       alert('Please fill in all required fields');\n//       return;\n//     }\n\n//     try {\n//       console.log('=== Starting Product Save ===');\n//       console.log('Form data:', newProduct);\n\n//       // Check if user is logged in\n//       const userStr = localStorage.getItem('user');\n//       const token = localStorage.getItem('token');\n\n//       console.log('User in localStorage:', userStr);\n//       console.log('Token in localStorage:', token);\n\n//       if (!userStr) {\n//         alert('No user found. Please login again.');\n//         window.location.href = '/login';\n//         return;\n//       }\n\n//       const user = JSON.parse(userStr);\n//       console.log('Parsed user:', user);\n\n//       if (user.role !== 'VENDOR') {\n//         alert('Access denied. Vendor account required.');\n//         return;\n//       }\n\n//       const vendorId = user.id;\n//       console.log('Vendor ID:', vendorId);\n\n//       if (!vendorId) {\n//         alert('Invalid vendor ID. Please login again.');\n//         return;\n//       }\n\n//       let productImage = newProduct.image;\n\n//       // If vendor uploaded a photo, use it\n//       if (newProduct.photoFile) {\n//         console.log('Uploading photo...');\n//         productImage = await handlePhotoUpload(newProduct.photoFile);\n//         console.log('Photo uploaded:', productImage);\n//       }\n\n//       const productData = {\n//         name: newProduct.name,\n//         price: parseFloat(newProduct.price),\n//         description: newProduct.description,\n//         category: newProduct.category,\n//         image: productImage\n//       };\n\n//       console.log('Product data to save:', productData);\n\n//       // Save to database\n//       console.log('Calling vendorService.addProduct...');\n//       const savedProduct = await vendorService.addProduct(productData);\n//       console.log('Product saved successfully:', savedProduct);\n\n//       // Update local state\n//       setProducts([...products, savedProduct]);\n\n//       // Update vendor profile - increment product count\n//       const updatedVendorData = {\n//         ...vendorData,\n//         totalProducts: (vendorData.totalProducts || 0) + 1\n//       };\n//       setVendorData(updatedVendorData);\n\n//       // Reset form\n//       setNewProduct({\n//         name: '',\n//         price: '',\n//         category: 'Clothing',\n//         description: '',\n//         image: '',\n//         photoFile: null,\n//         stock: 0,\n//         inStock: false\n//       });\n//       setShowAddProductForm(false);\n\n//       alert(`Product \"${savedProduct.name}\" added successfully! Price: NPR ${savedProduct.price}`);\n\n//     } catch (error) {\n//       console.error('=== Product Save Error ===');\n//       console.error('Error:', error);\n//       console.error('Error message:', error.message);\n//       console.error('Error stack:', error.stack);\n\n//       // Provide specific error messages\n//       if (error.message.includes('401') || error.message.includes('UNAUTHORIZED')) {\n//         alert('Authentication error. Please login again.');\n//         setTimeout(() => {\n//           window.location.href = '/login';\n//         }, 2000);\n//       } else if (error.message.includes('403') || error.message.includes('FORBIDDEN')) {\n//         alert('You do not have permission to add products. Please login as a vendor.');\n//       } else if (error.message.includes('404') || error.message.includes('NOT_FOUND')) {\n//         alert('Vendor account not found. Please register again.');\n//       } else if (error.message.includes('500') || error.message.includes('INTERNAL_SERVER_ERROR')) {\n//         alert('Server error. Please check if the backend is running and try again.');\n//       } else if (error.message.includes('Failed to fetch')) {\n//         alert('Cannot connect to server. Please check if the backend is running on port 8081.');\n//       } else {\n//         alert(`Failed to add product: ${error.message}`);\n//       }\n//     }\n//   };\n\n//   // Handle photo upload\n//   const handlePhotoUpload = async (file) => {\n//     return new Promise((resolve, reject) => {\n//       if (!file) {\n//         resolve('');\n//         return;\n//       }\n\n//       const reader = new FileReader();\n//       reader.onload = (e) => {\n//         const dataUrl = e.target.result;\n//         resolve(dataUrl);\n//       };\n//       reader.onerror = () => {\n//         reject(new Error('Failed to read photo'));\n//       };\n//       reader.readAsDataURL(file);\n//     });\n//   };\n\n//   const handlePhotoChange = (event) => {\n//     const file = event.target.files[0];\n//     if (file) {\n//       // Check file type\n//       if (!file.type.startsWith('image/')) {\n//         alert('Please select an image file (JPEG, PNG, etc.)');\n//         return;\n//       }\n\n//       // Check file size (max 5MB)\n//       if (file.size > 5 * 1024 * 1024) {\n//         alert('Photo size must be less than 5MB');\n//         return;\n//       }\n\n//       setNewProduct({\n//         ...newProduct,\n//         photoFile: file,\n//         image: URL.createObjectURL(file)  // Preview immediately\n//       });\n//     }\n//   };\n\n//   const handleEditProduct = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n\n//     const newName = prompt('Update product name:', product.name);\n//     const newPrice = prompt('Update price:', product.price);\n//     const newCategory = prompt('Update category:', product.category);\n//     const newDescription = prompt('Update description:', product.description || '');\n\n//     if (newName && newPrice && newCategory) {\n//       try {\n//         const productData = {\n//           name: newName,\n//           price: parseFloat(newPrice),\n//           description: newDescription,\n//           category: newCategory\n//         };\n\n//         // Update product using vendor service (ensures vendor ownership)\n//         const updatedProduct = await vendorService.updateProduct(productId, productData);\n\n//         // Update local state\n//         setProducts(products.map(p => \n//           p.id === productId ? updatedProduct : p\n//         ));\n\n//         // Notify user dashboard\n//         window.postMessage({\n//           type: 'PRODUCT_UPDATED',\n//           product: updatedProduct,\n//           vendorId: vendorData.id\n//         }, '*');\n\n//         alert(`Product \"${newName}\" updated successfully!`);\n\n//       } catch (error) {\n//         console.error('Error updating product:', error);\n//         alert(`Failed to update product: ${error.message}`);\n//       }\n//     } else {\n//       alert('Please fill in all required fields');\n//     }\n//   };\n\n//   const handleDeleteProduct = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n\n//     if (confirm(`Are you sure you want to delete \"${product.name}\"?`)) {\n//       try {\n//         // Delete product using vendor service (ensures vendor ownership)\n//         const deletedProduct = await vendorService.deleteProduct(productId);\n\n//         // Update local state\n//         setProducts(products.filter(p => p.id !== productId));\n\n//         // Update vendor profile\n//         const updatedVendorData = {\n//           ...vendorData,\n//           totalProducts: Math.max(0, (vendorData.totalProducts || 0) - 1)\n//         };\n//         setVendorData(updatedVendorData);\n//         await vendorService.updateVendorProfile(updatedVendorData);\n\n//         // Notify user dashboard\n//         window.postMessage({\n//           type: 'PRODUCT_DELETED',\n//           product: deletedProduct,\n//           vendorId: vendorData.id\n//         }, '*');\n\n//         alert(`Product \"${product.name}\" deleted successfully!`);\n\n//       } catch (error) {\n//         console.error('Error deleting product:', error);\n//         alert(`Failed to delete product: ${error.message}`);\n//       }\n//     }\n//   };\n\n//   const handleToggleProductStatus = async (productId) => {\n//     try {\n//       const product = products.find(p => p.id === productId);\n//       if (!product) return;\n\n//       const updatedProduct = {\n//         ...product,\n//         inStock: !product.inStock\n//       };\n\n//       // Update product using vendor service\n//       const result = await vendorService.updateProduct(productId, { inStock: updatedProduct.inStock });\n\n//       // Update local state\n//       setProducts(products.map(p => \n//         p.id === productId ? result : p\n//       ));\n\n//       // Notify user dashboard\n//       window.postMessage({\n//         type: 'PRODUCT_UPDATED',\n//         product: result,\n//         vendorId: vendorData.id\n//       }, '*');\n\n//       alert(`Product \"${result.name}\" is now ${result.inStock ? 'Available' : 'Unavailable'}!`);\n\n//     } catch (error) {\n//       console.error('Error toggling product status:', error);\n//       alert(`Failed to update product status: ${error.message}`);\n//     }\n//   };\n\n//   // Simulate product sale to update vendor metrics (NPR currency)\n//   const handleSimulateSale = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n\n//     const quantity = prompt('Enter quantity sold:', '1');\n//     if (!quantity || isNaN(quantity) || parseInt(quantity) <= 0) {\n//       alert('Please enter a valid quantity');\n//       return;\n//     }\n\n//     const saleQuantity = parseInt(quantity);\n//     const totalSale = product.price * saleQuantity;\n\n//     try {\n//       // Update product orders\n//       const updatedProduct = {\n//         ...product,\n//         orders: (product.orders || 0) + saleQuantity,\n//         stock: Math.max(0, (product.stock || 0) - saleQuantity)\n//       };\n\n//       await vendorService.updateProduct(productId, { \n//         orders: updatedProduct.orders,\n//         stock: updatedProduct.stock\n//       });\n\n//       // Update vendor profile\n//       const updatedVendorData = {\n//         ...vendorData,\n//         totalOrders: (vendorData.totalOrders || 0) + saleQuantity,\n//         revenue: (vendorData.revenue || 0) + totalSale\n//       };\n\n//       await vendorService.updateVendorProfile(updatedVendorData);\n\n//       // Update local state\n//       setProducts(products.map(p => p.id === productId ? updatedProduct : p));\n//       setVendorData(updatedVendorData);\n\n//       alert(`Sale recorded: ${saleQuantity} x \"${product.name}\" = NPR ${totalSale.toFixed(2)}\\n` +\n//             `Total Orders: ${updatedVendorData.totalOrders}\\n` +\n//             `Total Revenue: NPR ${updatedVendorData.revenue.toFixed(2)}`);\n\n//     } catch (error) {\n//       console.error('Error recording sale:', error);\n//       alert(`Failed to record sale: ${error.message}`);\n//     }\n//   };\n\n//   // Add stock to product\n//   const handleAddStock = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n\n//     const quantity = prompt('Enter quantity to add:', '10');\n//     if (!quantity || isNaN(quantity) || parseInt(quantity) <= 0) {\n//       alert('Please enter a valid quantity');\n//       return;\n//     }\n\n//     const addQuantity = parseInt(quantity);\n\n//     try {\n//       // Update product stock\n//       const updatedProduct = {\n//         ...product,\n//         stock: (product.stock || 0) + addQuantity,\n//         inStock: true  // Product becomes available when stock is added\n//       };\n\n//       await vendorService.updateProduct(productId, { \n//         stock: updatedProduct.stock,\n//         inStock: updatedProduct.inStock\n//       });\n\n//       // Update local state\n//       setProducts(products.map(p => p.id === productId ? updatedProduct : p));\n\n//       alert(`Stock added: ${addQuantity} units to \"${product.name}\"\\n` +\n//             `New stock: ${updatedProduct.stock} units\\n` +\n//             `Status: Available`);\n\n//     } catch (error) {\n//       console.error('Error adding stock:', error);\n//       alert(`Failed to add stock: ${error.message}`);\n//     }\n//   };\n\n//   const handleClearAllProducts = () => {\n//     if (confirm('Are you sure you want to delete ALL products? This will clear everything!')) {\n//       // Clear local state\n//       setProducts([]);\n\n//       // Clear vendor-specific localStorage\n//       const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n//       allVendorProducts[`vendor_${vendorData.id}`] = [];\n//       localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n\n//       // Notify user dashboard\n//       window.postMessage({\n//         type: 'VENDOR_PRODUCTS_DELETED',\n//         vendorId: vendorData.id\n//       }, '*');\n\n//       alert('All products deleted! User dashboard updated.');\n//     }\n//   };\n\n//   const handleProductManagement = () => {\n//     if (products.length === 0) {\n//       alert('No products available. Add a product first!');\n//       return;\n//     }\n\n//     const productOptions = products.map((product, index) => \n//       `${index + 1}. ${product.name} - NPR ${product.price} - ${product.inStock ? 'In Stock' : 'Out of Stock'}`\n//     ).join('\\n');\n\n//     const choice = prompt(`Select a product to manage:\\n\\n${productOptions}\\n\\nEnter product number (1-${products.length}):`);\n\n//     if (choice) {\n//       const index = parseInt(choice) - 1;\n//       if (index >= 0 && index < products.length) {\n//         const selectedProduct = products[index];\n//         const action = prompt(`Manage \"${selectedProduct.name}\":\\n\\n1. Update Product\\n2. Delete Product\\n3. Toggle Status\\n\\nEnter action number (1-3):`);\n\n//         switch (action) {\n//           case '1':\n//             handleEditProduct(selectedProduct.id);\n//             break;\n//           case '2':\n//             handleDeleteProduct(selectedProduct.id);\n//             break;\n//           case '3':\n//             handleToggleProductStatus(selectedProduct.id);\n//             break;\n//           default:\n//             alert('Invalid action. Please try again.');\n//         }\n//       } else {\n//         alert('Invalid selection. Please try again.');\n//       }\n//     }\n//   };\n\n//   const handleViewProducts = () => {\n//     setCurrentView('products');\n//   };\n\n//   // Order Management Functions\n//   const handleUpdateOrderStatus = (orderId, newStatus) => {\n//     setOrders(orders.map(o => \n//       o.id === orderId \n//         ? { ...o, status: newStatus }\n//         : o\n//     ));\n//     alert(`Order #${orderId} status updated to ${newStatus}!`);\n//   };\n\n//   const handleViewOrderDetails = (order) => {\n//     alert(`Order Details:\\n\\nOrder ID: #${order.id}\\nCustomer: ${order.customer}\\nItems: ${order.items}\\nTotal: NPR ${order.total}\\nStatus: ${order.status}\\nTime: ${order.time}`);\n//   };\n\n//   const handleViewOrders = () => {\n//     setCurrentView('orders');\n//   };\n\n//   // Analytics Functions\n//   const handleViewAnalytics = () => {\n//     setCurrentView('analytics');\n//   };\n\n//   // Promotion Functions\n//   const handleCreatePromotion = () => {\n//     alert('üéâ Promotion Created!\\n\\nPromotion: 20% OFF on selected items\\nValid: Next 7 days\\nCode: SAVE20\\nStatus: Active');\n//     setPromotionDialogOpen(false);\n//   };\n\n//   const handleViewPromotions = () => {\n//     setCurrentView('promotions');\n//   };\n\n//   if (loading) {\n//     return (\n//       <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//         <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\n//           <CircularProgress size={60} />\n//         </Box>\n//       </Container>\n//     );\n//   }\n\n//   if (error) {\n//     return (\n//       <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//         <Alert severity=\"error\">{error}</Alert>\n//         <Button\n//           variant=\"contained\"\n//           onClick={() => window.location.href = '/login'}\n//           sx={{ mt: 2 }}\n//         >\n//           Go to Login\n//         </Button>\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Box sx={{ flexGrow: 1 }}>\n//       {/* <AppBar position=\"static\" sx={{ mb: 3 }}>\n//         <Toolbar>\n//           {currentView !== 'dashboard' && (\n//             <IconButton\n//               edge=\"start\"\n//               color=\"inherit\"\n//               onClick={handleBackToDashboard}\n//               sx={{ mr: 2 }}\n//             >\n//               <ArrowBack />\n//             </IconButton>\n//           )}\n\n//           <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n//             {getViewTitle()}\n//           </Typography>\n\n//           <IconButton\n//             edge=\"end\"\n//             color=\"inherit\"\n//             onClick={handleMenuOpen}\n//           >\n//             <AccountCircle />\n//           </IconButton>\n\n//           <Menu\n//             anchorEl={anchorEl}\n//             open={Boolean(anchorEl)}\n//             onClose={handleMenuClose}\n//           >\n//             <MenuItem onClick={handleMenuClose}>\n//               <ListItemIcon><Store /></ListItemIcon>\n//               <ListItemText>{vendorData?.name || 'Vendor'}</ListItemText>\n//             </MenuItem>\n//             <MenuItem onClick={() => { handleMenuClose(); handleLogout(); }}>\n//               <ListItemIcon><Logout /></ListItemIcon>\n//               <ListItemText>Logout</ListItemText>\n//             </MenuItem>\n//           </Menu>\n//         </Toolbar>\n//       </AppBar> */}\n\n//       <Container maxWidth=\"lg\" sx={{ py: 2, mt:5 }}>\n//         {/* Dashboard View */}\n//         {currentView === 'dashboard' && (\n//           <>\n//             {/* Header */}\n//             <Box sx={{ mb: 4, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n//               <Box sx={{ display: 'flex', alignItems: 'center' }}>\n//                 <Avatar sx={{ bgcolor: 'primary.main', mr: 2 }}>\n//                   <Store />\n//                 </Avatar>\n//                 <Box>\n//                   <Typography variant=\"h6\" color=\"text.secondary\">\n//                     Welcome, {vendorData?.name || 'Vendor'}!\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Manage your business efficiently\n//                   </Typography>\n//                 </Box>\n//               </Box>\n//             </Box>\n\n//             {/* Vendor Stats Cards */}\n//             <Grid container spacing={3} sx={{ mb: 4 }}>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'primary.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {products.length}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     Total Products\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'success.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {products.filter(p => (p.stock || 0) > 0).length}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     In Stock\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'warning.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {products.filter(p => (p.stock || 0) > 0 && (p.stock || 0) <= 5).length}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     Low Stock\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'info.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {vendorData.totalOrders || 0}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     Total Orders\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//             </Grid>\n\n//             {/* Add Product Form Dialog */}\n//       <Dialog open={showAddProductForm} onClose={() => setShowAddProductForm(false)} maxWidth=\"md\" fullWidth>\n//         <DialogTitle sx={{ bgcolor: 'primary.main', color: 'white' }}>\n//           <Typography variant=\"h6\" fontWeight=\"bold\">\n//             Add New Product\n//           </Typography>\n//         </DialogTitle>\n//         <DialogContent sx={{ p: 3 }}>\n//           <Grid container spacing={3}>\n//             <Grid item xs={12} md={6}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Product Name *\"\n//                 value={newProduct.name}\n//                 onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//               />\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Price (NPR) *\"\n//                 type=\"number\"\n//                 value={newProduct.price}\n//                 onChange={(e) => setNewProduct({...newProduct, price: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//                 inputProps={{ min: 0, step: 0.01 }}\n//               />\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <FormControl fullWidth sx={{ mb: 2 }}>\n//                 <InputLabel>Category *</InputLabel>\n//                 <Select\n//                   value={newProduct.category}\n//                   onChange={(e) => setNewProduct({...newProduct, category: e.target.value})}\n//                   label=\"Category\"\n//                 >\n//                   <MenuItem value=\"Clothing\">Clothing</MenuItem>\n//                   <MenuItem value=\"Electronic\">Electronic</MenuItem>\n//                   <MenuItem value=\"Foods\">Foods</MenuItem>\n//                   <MenuItem value=\"Books\">Books</MenuItem>\n//                 </Select>\n//               </FormControl>\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Image URL (optional)\"\n//                 value={newProduct.image}\n//                 onChange={(e) => setNewProduct({...newProduct, image: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//                 placeholder=\"https://example.com/image.jpg\"\n//               />\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n//                 OR Upload Photo\n//               </Typography>\n//               <input\n//                 type=\"file\"\n//                 accept=\"image/*\"\n//                 onChange={handlePhotoChange}\n//                 style={{ \n//                   width: '100%', \n//                   padding: '10px', \n//                   border: '2px dashed #ccc', \n//                   borderRadius: '4px',\n//                   backgroundColor: '#f9f9f'\n//                 }}\n//               />\n//             </Grid>\n//             <Grid item xs={12}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Description *\"\n//                 multiline\n//                 rows={4}\n//                 value={newProduct.description}\n//                 onChange={(e) => setNewProduct({...newProduct, description: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//               />\n//             </Grid>\n//             <Grid item xs={12}>\n//               <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n//                 <Typography variant=\"body2\" color=\"text.secondary\">\n//                   Product Image Preview:\n//                 </Typography>\n//                 {newProduct.photoFile && (\n//                   <Box\n//                     component=\"img\"\n//                     src={newProduct.image}\n//                     alt=\"Product preview\"\n//                     sx={{ width: 80, height: 80, objectFit: 'cover', borderRadius: 1, border: '1px solid #ddd' }}\n//                   />\n//                 )}\n//                 {!newProduct.photoFile && newProduct.name && (\n//                   <Box\n//                     component=\"img\"\n//                     src={`https://via.placeholder.com/300x200/FF6B6B/FFFFFF?text=${encodeURIComponent(newProduct.name)}`}\n//                     alt=\"Product preview\"\n//                     sx={{ width: 80, height: 80, objectFit: 'cover', borderRadius: 1, border: '1px solid #ddd' }}\n//                   />\n//                 )}\n//                 {!newProduct.photoFile && !newProduct.name && (\n//                   <Box sx={{ width: 80, height: 80, border: '2px dashed #ccc', borderRadius: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n//                     <Typography variant=\"body2\" color=\"text.secondary\">\n//                       No Image\n//                     </Typography>\n//                   </Box>\n//                 )}\n//               </Box>\n//             </Grid>\n//           </Grid>\n//         </DialogContent>\n//         <DialogActions sx={{ p: 3, bgcolor: 'grey.50' }}>\n//           <Button onClick={() => setShowAddProductForm(false)} color=\"secondary\">\n//             Cancel\n//           </Button>\n//           <Button onClick={handleSaveProduct} variant=\"contained\" color=\"primary\">\n//             Save Product\n//           </Button>\n//         </DialogActions>\n//       </Dialog>\n\n//       {/* Quick Actions */}\n//       <Grid container spacing={3} sx={{ mb: 4 }}>\n//         <Grid item xs={12} md={6}>\n//           <Paper sx={{ p: 3 }}>\n//             <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//               Quick Actions\n//             </Typography>\n//             <List>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1, mb: 1 }}\n//                       onClick={handleAddProduct}\n//                     >\n//                       <ListItemIcon>\n//                         <Restaurant color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"Create Product\" \n//                         secondary=\"Add new products to your inventory\" \n//                       />\n//                     </ListItem>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1, mb: 1 }}\n//                       onClick={handleProductManagement}\n//                     >\n//                       <ListItemIcon>\n//                         <Assessment color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"Manage Products\" \n//                         secondary={`Update, delete, or toggle status for ${products.length} products`} \n//                       />\n//                     </ListItem>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1, mb: 1 }}\n//                       onClick={() => setCurrentView('orders')}\n//                     >\n//                       <ListItemIcon>\n//                         <ShoppingCart color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"View Orders\" \n//                         secondary=\"Manage customer orders and fulfillment\" \n//                       />\n//                     </ListItem>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1 }}\n//                       onClick={() => setCurrentView('analytics')}\n//                     >\n//                       <ListItemIcon>\n//                         <TrendingUp color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"View Analytics\" \n//                         secondary=\"Track sales performance and revenue\" \n//                       />\n//                     </ListItem>\n//                   </List>\n//                 </Paper>\n//               </Grid>\n\n//               <Grid item xs={12} md={6}>\n//                 <Paper sx={{ p: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                     Recent Orders\n//                   </Typography>\n//                   <List>\n//                     {orders.slice(0, 4).map((order) => (\n//                       <ListItem key={order.id} sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                         <ListItemText \n//                           primary={`Order #${order.id}`}\n//                           secondary={`${order.customer} ‚Ä¢ ${order.items} ‚Ä¢ NPR ${order.total}`}\n//                         />\n//                       </ListItem>\n//                     ))}\n//                   </List>\n//                   <Button variant=\"outlined\" fullWidth sx={{ mt: 2 }} onClick={() => setCurrentView('orders')}>\n//                     View All Orders\n//                   </Button>\n//                 </Paper>\n//               </Grid>\n//             </Grid>\n\n//             {/* Category Filter */}\n//             <Paper sx={{ p: 3, mb: 4 }}>\n//               <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n//                 Filter by Category\n//               </Typography>\n//               <FormControl fullWidth>\n//                 <InputLabel>Category</InputLabel>\n//                 <Select\n//                   value={selectedCategory}\n//                   onChange={(e) => setSelectedCategory(e.target.value)}\n//                   label=\"Category\"\n//                 >\n//                   <MenuItem value=\"All\">All Categories</MenuItem>\n//                   <MenuItem value=\"Clothing\">Clothing</MenuItem>\n//                   <MenuItem value=\"Electronic\">Electronic</MenuItem>\n//                   <MenuItem value=\"Foods\">Foods</MenuItem>\n//                   <MenuItem value=\"Books\">Books</MenuItem>\n//                 </Select>\n//               </FormControl>\n//             </Paper>\n\n//             {/* Top Products and Customer Insights */}\n//             <Grid container spacing={3}>\n//               <Grid item xs={12} md={6}>\n//                 <Paper sx={{ p: 3, mb: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                     Top Products\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n//                     Debug: Found {products.length} products for vendor {vendorData?.id || 'N/A'}\n//                   </Typography>\n//                   <List>\n//                     {products\n//                       .filter(product => selectedCategory === 'All' || product.category === selectedCategory)\n//                       .slice(0, 5)\n//                       .map((product) => (\n//                         <ListItem key={product.id} sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                           <ListItemText \n//                             primary={product.name}\n//                             secondary={`${product.category} ‚Ä¢ NPR ${product.price.toFixed(2)} ‚Ä¢ Stock: ${product.stock || 0} ‚Ä¢ Orders: ${product.orders || 0}`}\n//                           />\n//                           <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n//                             <Typography variant=\"body2\" color=\"success.main\">\n//                               ‚≠ê {product.rating || '0.0'}\n//                             </Typography>\n//                             <Button \n//                               variant=\"outlined\" \n//                               size=\"small\"\n//                               onClick={() => handleAddStock(product.id)}\n//                               sx={{ minWidth: 'auto', px: 1 }}\n//                             >\n//                               üì¶+\n//                             </Button>\n//                             <Button \n//                               variant=\"contained\" \n//                               size=\"small\"\n//                               onClick={() => handleSimulateSale(product.id)}\n//                               sx={{ minWidth: 'auto', px: 1 }}\n//                             >\n//                               üí∞\n//                             </Button>\n//                           </Box>\n//                         </ListItem>\n//                       ))}\n//                   </List>\n//                   {products.filter(product => selectedCategory === 'All' || product.category === selectedCategory).length === 0 && (\n//                     <Box sx={{ textAlign: 'center', py: 4 }}>\n//                       <Typography variant=\"body1\" color=\"text.secondary\">\n//                         No products available{selectedCategory !== 'All' ? ` in ${selectedCategory}` : ''}.\n//                       </Typography>\n//                       <Button variant=\"contained\" sx={{ mt: 2 }} onClick={() => {\n//                         console.log('Vendor Dashboard - Manual refresh - checking products...');\n//                         console.log('Vendor Dashboard - Manual refresh products:', products);\n//                         // Products are already loaded in state\n//                       }}>\n//                         Refresh Products\n//                       </Button>\n//                     </Box>\n//                   )}\n//                   <Button \n//                     variant=\"outlined\" \n//                     fullWidth \n//                     sx={{ mt: 2 }}\n//                     onClick={handleViewProducts}\n//                   >\n//                     View All Products ({products.filter(product => selectedCategory === 'All' || product.category === selectedCategory).length})\n//                   </Button>\n//                   <Button \n//                     variant=\"contained\" \n//                     color=\"error\"\n//                     fullWidth \n//                     sx={{ mt: 1 }}\n//                     onClick={handleClearAllProducts}\n//                   >\n//                     Clear All Products\n//                   </Button>\n//                 </Paper>\n//               </Grid>\n\n//               <Grid item xs={12} md={6}>\n//                 <Paper sx={{ p: 3, mb: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n//                     Vendor Profile\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n//                     {vendorData.name} ({vendorData.email}) - {products.length} products\n//                   </Typography>\n//                   <Box sx={{ mt: 2, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n//                     <Chip label={`Rating: ${vendorData.rating || 0.0} ‚≠ê`} size=\"small\" color=\"primary\" />\n//                     <Chip label={`Orders: ${vendorData.totalOrders || 0}`} size=\"small\" color=\"success\" />\n//                     <Chip label={`Revenue: NPR ${(vendorData.revenue || 0).toFixed(2)}`} size=\"small\" color=\"warning\" />\n//                   </Box>\n//                 </Paper>\n\n//                 <Paper sx={{ p: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                     Stock Insights\n//                   </Typography>\n//                   <List>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Stock Health\"\n//                         secondary=\"Overall inventory status\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"success.main\">\n//                         75% Good\n//                       </Typography>\n//                     </ListItem>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Stock Alerts\"\n//                         secondary=\"Items needing attention\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"warning.main\">\n//                         6 Items\n//                       </Typography>\n//                     </ListItem>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Prediction Accuracy\"\n//                         secondary=\"AI forecast precision\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"info.main\">\n//                         92% ‚≠ê\n//                       </Typography>\n//                     </ListItem>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Restock Needed\"\n//                         secondary=\"Items to reorder soon\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"error.main\">\n//                         3 Items\n//                       </Typography>\n//                     </ListItem>\n//                   </List>\n//                   <Button \n//                     variant=\"contained\" \n//                     fullWidth \n//                     sx={{ mt: 2 }}\n//                     onClick={handleViewAnalytics}\n//                   >\n//                     View Stock Analytics\n//                   </Button>\n//                 </Paper>\n//               </Grid>\n//             </Grid>\n\n//             {/* Performance Progress */}\n//             <Paper sx={{ p: 3, mt: 4 }}>\n//               <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n//                 Monthly Performance\n//               </Typography>\n//               <Box sx={{ mb: 2 }}>\n//                 <Typography variant=\"body2\" color=\"text.secondary\">\n//                   Revenue Goal: NPR 12,450 / NPR 15,000\n//                 </Typography>\n//                 <LinearProgress \n//                   variant=\"determinate\" \n//                   value={83} \n//                   sx={{ height: 8, borderRadius: 4 }}\n//                 />\n//               </Box>\n//               <Typography variant=\"body2\" color=\"primary.main\">\n//                 üéØ You're NPR 2,550 away from your monthly revenue goal!\n//               </Typography>\n//             </Paper>\n\n//             {/* Account Info */}\n//             <Paper sx={{ p: 3 }}>\n//               <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                 Account Information\n//               </Typography>\n//               <Grid container spacing={3}>\n//                 <Grid item xs={12} md={6}>\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Business Name\n//                   </Typography>\n//                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\n//                     {vendorData?.name || 'Vendor Business'}\n//                   </Typography>\n\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Email\n//                   </Typography>\n//                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\n//                     {vendorData?.email || 'vendor@example.com'}\n//                   </Typography>\n//                 </Grid>\n\n//                 <Grid item xs={12} md={6}>\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Role\n//                   </Typography>\n//                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\n//                     {vendorData?.role || 'VENDOR'}\n//                   </Typography>\n\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     User ID\n//                   </Typography>\n//                   <Typography variant=\"body1\">\n//                     {vendorData?.id || 'N/A'}\n//                   </Typography>\n//                 </Grid>\n//               </Grid>\n//             </Paper>\n\n//             {/* Product Management Dialog */}\n//             <Dialog open={productDialogOpen} onClose={() => setProductDialogOpen(false)} maxWidth=\"md\" fullWidth>\n//               <DialogTitle>Manage Products</DialogTitle>\n//               <DialogContent>\n//                 <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)} sx={{ mb: 2 }}>\n//                   <Tab label=\"Add Product\" />\n//                   <Tab label=\"Existing Products\" />\n//                 </Tabs>\n\n//                 {activeTab === 0 && (\n//                   <Box sx={{ p: 2 }}>\n//                     <TextField\n//                       fullWidth\n//                       label=\"Product Name\"\n//                       value={newProduct.name}\n//                       onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <TextField\n//                       fullWidth\n//                       label=\"Price\"\n//                       type=\"number\"\n//                       value={newProduct.price}\n//                       onChange={(e) => setNewProduct({...newProduct, price: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <TextField\n//                       fullWidth\n//                       label=\"Category\"\n//                       value={newProduct.category}\n//                       onChange={(e) => setNewProduct({...newProduct, category: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <TextField\n//                       fullWidth\n//                       label=\"Description\"\n//                       multiline\n//                       rows={3}\n//                       value={newProduct.description}\n//                       onChange={(e) => setNewProduct({...newProduct, description: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <Button variant=\"contained\" onClick={handleAddProduct} startIcon={<Add />}>\n//                       Add Product\n//                     </Button>\n//                   </Box>\n//                 )}\n\n//                 {activeTab === 1 && (\n//                   <TableContainer>\n//                     <Table>\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell>Product</TableCell>\n//                           <TableCell>Price</TableCell>\n//                           <TableCell>Category</TableCell>\n//                           <TableCell>Status</TableCell>\n//                           <TableCell>Orders</TableCell>\n//                           <TableCell>Actions</TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         {products.map((product) => (\n//                           <TableRow key={product.id}>\n//                             <TableCell>{product.name}</TableCell>\n//                             <TableCell>${product.price}</TableCell>\n//                             <TableCell>{product.category}</TableCell>\n//                             <TableCell>\n//                               <Chip \n//                                 label={product.status} \n//                                 color={product.status === 'Available' ? 'success' : 'error'}\n//                                 size=\"small\"\n//                               />\n//                             </TableCell>\n//                             <TableCell>{product.orders}</TableCell>\n//                             <TableCell>\n//                               <Button \n//                                 size=\"small\" \n//                                 onClick={() => handleToggleProductStatus(product.id)}\n//                               >\n//                                 {product.status === 'Available' ? 'Disable' : 'Enable'}\n//                               </Button>\n//                               <Button \n//                                 size=\"small\" \n//                                 color=\"error\"\n//                                 onClick={() => handleDeleteProduct(product.id)}\n//                               >\n//                                 <Delete />\n//                               </Button>\n//                             </TableCell>\n//                           </TableRow>\n//                         ))}\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n//                 )}\n//               </DialogContent>\n//               <DialogActions>\n//                 <Button onClick={() => setProductDialogOpen(false)}>Close</Button>\n//               </DialogActions>\n//             </Dialog>\n\n//             {/* Order Management Dialog */}\n//             <Dialog open={orderDialogOpen} onClose={() => setOrderDialogOpen(false)} maxWidth=\"lg\" fullWidth>\n//               <DialogTitle>All Orders</DialogTitle>\n//               <DialogContent>\n//                 <TableContainer>\n//                   <Table>\n//                     <TableHead>\n//                       <TableRow>\n//                         <TableCell>Order ID</TableCell>\n//                         <TableCell>Customer</TableCell>\n//                         <TableCell>Items</TableCell>\n//                         <TableCell>Total</TableCell>\n//                         <TableCell>Status</TableCell>\n//                         <TableCell>Time</TableCell>\n//                         <TableCell>Actions</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody>\n//                       {orders.map((order) => (\n//                         <TableRow key={order.id}>\n//                           <TableCell>#{order.id}</TableCell>\n//                           <TableCell>{order.customer}</TableCell>\n//                           <TableCell>{order.items}</TableCell>\n//                           <TableCell>${order.total}</TableCell>\n//                           <TableCell>\n//                             <Chip \n//                               label={order.status} \n//                               color={\n//                                 order.status === 'Delivered' ? 'success' :\n//                                 order.status === 'Ready' ? 'info' :\n//                                 order.status === 'Preparing' ? 'warning' : 'default'\n//                               }\n//                               size=\"small\"\n//                             />\n//                           </TableCell>\n//                           <TableCell>{order.time}</TableCell>\n//                           <TableCell>\n//                             <Box sx={{ display: 'flex', gap: 1 }}>\n//                               <Button \n//                                 size=\"small\" \n//                                 variant=\"outlined\"\n//                                 onClick={() => handleViewOrderDetails(order)}\n//                               >\n//                                 <Visibility fontSize=\"small\" />\n//                               </Button>\n//                               {order.status === 'Pending' && (\n//                                 <Button \n//                                   size=\"small\" \n//                                   variant=\"contained\"\n//                                   color=\"success\"\n//                                   onClick={() => handleUpdateOrderStatus(order.id, 'Preparing')}\n//                                 >\n//                                   Accept\n//                                 </Button>\n//                               )}\n//                               {order.status === 'Preparing' && (\n//                                 <Button \n//                                   size=\"small\" \n//                                   variant=\"contained\"\n//                                   color=\"info\"\n//                                   onClick={() => handleUpdateOrderStatus(order.id, 'Ready')}\n//                                 >\n//                                   Ready\n//                                 </Button>\n//                               )}\n//                               {order.status === 'Ready' && (\n//                                 <Button \n//                                   size=\"small\" \n//                                   variant=\"contained\"\n//                                   color=\"success\"\n//                                   onClick={() => handleUpdateOrderStatus(order.id, 'Delivered')}\n//                                 >\n//                                   Deliver\n//                                 </Button>\n//                               )}\n//                             </Box>\n//                           </TableCell>\n//                         </TableRow>\n//                       ))}\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </DialogContent>\n//               <DialogActions>\n//                 <Button onClick={() => setOrderDialogOpen(false)}>Close</Button>\n//               </DialogActions>\n//             </Dialog>\n\n//             {/* Promotion Dialog */}\n//             <Dialog open={promotionDialogOpen} onClose={() => setPromotionDialogOpen(false)} maxWidth=\"sm\" fullWidth>\n//               <DialogTitle>Create Promotion</DialogTitle>\n//               <DialogContent>\n//                 <TextField\n//                   fullWidth\n//                   label=\"Promotion Name\"\n//                   defaultValue=\"Weekend Special\"\n//                   sx={{ mb: 2 }}\n//                 />\n//                 <TextField\n//                   fullWidth\n//                   label=\"Discount Percentage\"\n//                   type=\"number\"\n//                   defaultValue=\"20\"\n//                   sx={{ mb: 2 }}\n//                 />\n//                 <TextField\n//                   fullWidth\n//                   label=\"Promotion Code\"\n//                   defaultValue=\"WEEKEND20\"\n//                   sx={{ mb: 2 }}\n//                 />\n//                 <TextField\n//                   fullWidth\n//                   label=\"Duration (days)\"\n//                   type=\"number\"\n//                   defaultValue=\"7\"\n//                   sx={{ mb: 2 }}\n//                 />\n//               </DialogContent>\n//               <DialogActions>\n//                 <Button onClick={() => setPromotionDialogOpen(false)}>Cancel</Button>\n//                 <Button variant=\"contained\" onClick={handleCreatePromotion}>Create Promotion</Button>\n//               </DialogActions>\n//             </Dialog>\n//           </>\n//         )}\n//       </Container>\n//     </Box>\n//   );\n// };\n\n// export default SimpleVendorDashboard;","map":{"version":3,"names":[],"sources":["/home/arbinlama/6semProject/Mealbasket/react-frontend/src/pages/SimpleVendorDashboard.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import vendorService from '../services/vendorService';\n// import {\n//   Container,\n//   Paper,\n//   Typography,\n//   Box,\n//   Grid,\n//   Card,\n//   CardContent,\n//   Button,\n//   Avatar,\n//   List,\n//   ListItem,\n//   ListItemText,\n//   ListItemIcon,\n//   Divider,\n//   Alert,\n//   CircularProgress,\n//   Dialog,\n//   DialogTitle,\n//   DialogContent,\n//   DialogActions,\n//   TextField,\n//   FormControl,\n//   InputLabel,\n//   Select,\n//   Tabs,\n//   Tab,\n//   Table,\n//   TableBody,\n//   TableCell,\n//   TableContainer,\n//   TableHead,\n//   TableRow,\n//   Chip,\n//   AppBar,\n//   Toolbar,\n//   IconButton,\n//   Menu,\n//   MenuItem,\n//   LinearProgress,\n// } from '@mui/material';\n// import {\n//   Person,\n//   ShoppingCart,\n//   Restaurant,\n//   Assessment,\n//   Favorite,\n//   History,\n//   LocalOffer,\n//   TrendingUp,\n//   AttachMoney,\n//   Logout,\n//   Add,\n//   Edit,\n//   Delete,\n//   Visibility,\n//   CheckCircle,\n//   Pending,\n//   Cancel,\n//   ArrowBack,\n//   Home,\n//   AccountCircle,\n//   Store,\n// } from '@mui/icons-material';\n\n// const SimpleVendorDashboard = () => {\n//   const [vendorData, setVendorData] = useState({\n//     id: 1,\n//     name: 'Vendor One',\n//     email: 'vendor1@test.com',\n//     rating: 0.0,\n//     totalRatings: 0,\n//     totalOrders: 0,\n//     revenue: 0.0\n//   });\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState('');\n//   const [currentView, setCurrentView] = useState('dashboard'); // dashboard, products, orders, analytics, promotions\n//   const [anchorEl, setAnchorEl] = useState(null);\n  \n//   // Start with empty products - each vendor starts fresh\n//   const [products, setProducts] = useState([]);\n//   const [vendorId] = useState(vendorData.id); // This vendor's ID\n//   const [selectedCategory, setSelectedCategory] = useState('All'); // Category filter state\n  \n//   // Dialog states\n//   const [productDialogOpen, setProductDialogOpen] = useState(false);\n//   const [orderDialogOpen, setOrderDialogOpen] = useState(false);\n//   const [analyticsDialogOpen, setAnalyticsDialogOpen] = useState(false);\n//   const [promotionDialogOpen, setPromotionDialogOpen] = useState(false);\n//   const [activeTab, setActiveTab] = useState(0);\n\n//   // Initialize products from service and subscribe to updates\n//   useEffect(() => {\n//     const loadVendorData = async () => {\n//       try {\n//         console.log('Loading vendor data...');\n        \n//         // Get current vendor from localStorage (logged-in user)\n//         const user = localStorage.getItem('user');\n//         if (user) {\n//           try {\n//             const parsedUser = JSON.parse(user);\n//             console.log('Logged in user:', parsedUser);\n            \n//             // Check if user is a vendor\n//             if (parsedUser.role !== 'VENDOR') {\n//               setError('Access denied. Vendor account required.');\n//               setLoading(false);\n//               setTimeout(() => {\n//                 window.location.href = '/login';\n//               }, 2000);\n//               return;\n//             }\n            \n//             // Set the current vendor for the service\n//             vendorService.setCurrentVendor(parsedUser.id);\n            \n//             // Load vendor data from database only\n//             try {\n//               // Load vendor's products from database\n//               const vendorProducts = await vendorService.getVendorProducts();\n//               setProducts(vendorProducts);\n              \n//               // Load vendor profile from database\n//               const vendorProfile = await vendorService.getVendorProfile();\n              \n//               // Use the vendor profile data\n//               setVendorData(vendorProfile);\n              \n//               console.log('Vendor data loaded from database:', { vendorProfile, products: vendorProducts });\n//             } catch (backendError) {\n//               console.error('Vendor not found in database, creating vendor account:', backendError);\n              \n//               // Create vendor in database from localStorage user data\n//               try {\n//                 const createVendorResponse = await fetch('http://localhost:8081/api/auth/register/vendor', {\n//                   method: 'POST',\n//                   headers: {\n//                     'Content-Type': 'application/json',\n//                     'Authorization': `Bearer ${localStorage.getItem('token')}`\n//                   },\n//                   body: JSON.stringify({\n//                     name: parsedUser.name,\n//                     email: parsedUser.email,\n//                     password: 'vendor123', // Default password\n//                     shopName: parsedUser.shopName || parsedUser.name + \"'s Shop\",\n//                     businessType: parsedUser.businessType || 'General',\n//                     phone: parsedUser.phone || 'Not provided',\n//                     address: parsedUser.address || 'Not provided'\n//                   })\n//                 });\n                \n//                 if (createVendorResponse.ok) {\n//                   console.log('Vendor created in database successfully');\n                  \n//                   // Now try to load the vendor data again\n//                   try {\n//                     const vendorProducts = await vendorService.getVendorProducts();\n//                     setProducts(vendorProducts);\n                    \n//                     const vendorProfile = await vendorService.getVendorProfile();\n//                     setVendorData(vendorProfile);\n                    \n//                     console.log('Vendor data loaded after creation:', { vendorProfile, products: vendorProducts });\n//                   } catch (retryError) {\n//                     console.error('Still failed to load vendor after creation:', retryError);\n//                     setError('Failed to setup vendor account. Please try logging out and back in.');\n//                     setLoading(false);\n//                     return;\n//                   }\n//                 } else {\n//                   const errorData = await createVendorResponse.json().catch(() => ({}));\n//                   console.error('Failed to create vendor:', errorData);\n//                   setError('Failed to create vendor account. Please register again.');\n//                   setLoading(false);\n//                   setTimeout(() => {\n//                     window.location.href = '/login';\n//                   }, 3000);\n//                   return;\n//                 }\n//               } catch (createError) {\n//                 console.error('Error creating vendor:', createError);\n//                 setError('Failed to create vendor account. Please try again.');\n//                 setLoading(false);\n//                 return;\n//               }\n//             }\n            \n//             setLoading(false);\n            \n//           } catch (err) {\n//             console.error('Error parsing user data:', err);\n//             setError('Invalid user data. Please login again.');\n//             setLoading(false);\n//             setTimeout(() => {\n//               window.location.href = '/login';\n//             }, 2000);\n//           }\n//         } else {\n//           setError('No user found. Please login again.');\n//           setLoading(false);\n//           // Redirect to login after 2 seconds\n//           setTimeout(() => {\n//             window.location.href = '/login';\n//           }, 2000);\n//         }\n        \n//       } catch (error) {\n//         console.error('Error loading vendor data:', error);\n//         setError('Failed to load vendor dashboard. Please refresh the page.');\n//         setLoading(false);\n//       }\n//     };\n\n//     loadVendorData();\n    \n//     // Listen for delete messages from user dashboard (only for this vendor)\n//     const handleMessage = (event) => {\n//       if (event.data && event.data.type === 'PRODUCT_DELETED' && event.data.vendorId === vendorData.id) {\n//         console.log('Vendor Dashboard received delete message:', event.data);\n//         // Update local state - only if it's this vendor's product\n//         setProducts(prev => prev.filter(p => p.id !== event.data.product.id));\n        \n//         // Update vendor profile\n//         const updatedVendorData = {\n//           ...vendorData,\n//           totalProducts: Math.max(0, (vendorData.totalProducts || 0) - 1)\n//         };\n//         setVendorData(updatedVendorData);\n//         localStorage.setItem(`vendor_${vendorData.id}_profile`, JSON.stringify(updatedVendorData));\n//       }\n//     };\n    \n//     window.addEventListener('message', handleMessage);\n    \n//     return () => {\n//       window.removeEventListener('message', handleMessage);\n//     };\n//   }, []);\n  \n//   // Sample data\n//   const [orders, setOrders] = useState([\n//     { id: 1234, customer: 'John Doe', items: 'Product A, Product B', total: 15.99, status: 'Pending', time: '2 mins ago' },\n//     { id: 1233, customer: 'Jane Smith', items: 'Product C, Product D', total: 22.50, status: 'Preparing', time: '5 mins ago' },\n//     { id: 1232, customer: 'Bob Johnson', items: 'Product E, Product F', total: 8.75, status: 'Ready', time: '8 mins ago' },\n//     { id: 1231, customer: 'Alice Brown', items: 'Product G, Product H', total: 18.25, status: 'Delivered', time: '12 mins ago' },\n//   ]);\n\n//   const [newProduct, setNewProduct] = useState({\n//     name: '',\n//     price: '',\n//     category: 'Clothing',\n//     description: '',\n//     image: '',\n//     photoFile: null,\n//     stock: 0,\n//     inStock: false\n//   });\n//   const [showAddProductForm, setShowAddProductForm] = useState(false);\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     localStorage.removeItem('user');\n//     window.location.href = '/login';\n//   };\n\n//   // Navigation Functions\n//   const handleBackToDashboard = () => {\n//     setCurrentView('dashboard');\n//   };\n\n//   const handleMenuOpen = (event) => {\n//     setAnchorEl(event.currentTarget);\n//   };\n\n//   const handleMenuClose = () => {\n//     setAnchorEl(null);\n//   };\n\n//   const getViewTitle = () => {\n//     switch(currentView) {\n//       case 'dashboard': return 'Vendor Dashboard';\n//       case 'products': return 'Product Management';\n//       case 'orders': return 'Order Management';\n//       case 'analytics': return 'Analytics';\n//       case 'promotions': return 'Promotions';\n//       default: return 'Vendor Dashboard';\n//     }\n//   };\n\n//   // Product Management Functions using vendor service with strict isolation (NPR currency)\n//   const handleAddProduct = () => {\n//     setShowAddProductForm(true);\n//   };\n\n//   const handleSaveProduct = async () => {\n//     if (!newProduct.name || !newProduct.price || !newProduct.category || !newProduct.description) {\n//       alert('Please fill in all required fields');\n//       return;\n//     }\n    \n//     try {\n//       console.log('=== Starting Product Save ===');\n//       console.log('Form data:', newProduct);\n      \n//       // Check if user is logged in\n//       const userStr = localStorage.getItem('user');\n//       const token = localStorage.getItem('token');\n      \n//       console.log('User in localStorage:', userStr);\n//       console.log('Token in localStorage:', token);\n      \n//       if (!userStr) {\n//         alert('No user found. Please login again.');\n//         window.location.href = '/login';\n//         return;\n//       }\n      \n//       const user = JSON.parse(userStr);\n//       console.log('Parsed user:', user);\n      \n//       if (user.role !== 'VENDOR') {\n//         alert('Access denied. Vendor account required.');\n//         return;\n//       }\n      \n//       const vendorId = user.id;\n//       console.log('Vendor ID:', vendorId);\n      \n//       if (!vendorId) {\n//         alert('Invalid vendor ID. Please login again.');\n//         return;\n//       }\n      \n//       let productImage = newProduct.image;\n      \n//       // If vendor uploaded a photo, use it\n//       if (newProduct.photoFile) {\n//         console.log('Uploading photo...');\n//         productImage = await handlePhotoUpload(newProduct.photoFile);\n//         console.log('Photo uploaded:', productImage);\n//       }\n      \n//       const productData = {\n//         name: newProduct.name,\n//         price: parseFloat(newProduct.price),\n//         description: newProduct.description,\n//         category: newProduct.category,\n//         image: productImage\n//       };\n      \n//       console.log('Product data to save:', productData);\n      \n//       // Save to database\n//       console.log('Calling vendorService.addProduct...');\n//       const savedProduct = await vendorService.addProduct(productData);\n//       console.log('Product saved successfully:', savedProduct);\n      \n//       // Update local state\n//       setProducts([...products, savedProduct]);\n      \n//       // Update vendor profile - increment product count\n//       const updatedVendorData = {\n//         ...vendorData,\n//         totalProducts: (vendorData.totalProducts || 0) + 1\n//       };\n//       setVendorData(updatedVendorData);\n      \n//       // Reset form\n//       setNewProduct({\n//         name: '',\n//         price: '',\n//         category: 'Clothing',\n//         description: '',\n//         image: '',\n//         photoFile: null,\n//         stock: 0,\n//         inStock: false\n//       });\n//       setShowAddProductForm(false);\n      \n//       alert(`Product \"${savedProduct.name}\" added successfully! Price: NPR ${savedProduct.price}`);\n      \n//     } catch (error) {\n//       console.error('=== Product Save Error ===');\n//       console.error('Error:', error);\n//       console.error('Error message:', error.message);\n//       console.error('Error stack:', error.stack);\n      \n//       // Provide specific error messages\n//       if (error.message.includes('401') || error.message.includes('UNAUTHORIZED')) {\n//         alert('Authentication error. Please login again.');\n//         setTimeout(() => {\n//           window.location.href = '/login';\n//         }, 2000);\n//       } else if (error.message.includes('403') || error.message.includes('FORBIDDEN')) {\n//         alert('You do not have permission to add products. Please login as a vendor.');\n//       } else if (error.message.includes('404') || error.message.includes('NOT_FOUND')) {\n//         alert('Vendor account not found. Please register again.');\n//       } else if (error.message.includes('500') || error.message.includes('INTERNAL_SERVER_ERROR')) {\n//         alert('Server error. Please check if the backend is running and try again.');\n//       } else if (error.message.includes('Failed to fetch')) {\n//         alert('Cannot connect to server. Please check if the backend is running on port 8081.');\n//       } else {\n//         alert(`Failed to add product: ${error.message}`);\n//       }\n//     }\n//   };\n\n//   // Handle photo upload\n//   const handlePhotoUpload = async (file) => {\n//     return new Promise((resolve, reject) => {\n//       if (!file) {\n//         resolve('');\n//         return;\n//       }\n      \n//       const reader = new FileReader();\n//       reader.onload = (e) => {\n//         const dataUrl = e.target.result;\n//         resolve(dataUrl);\n//       };\n//       reader.onerror = () => {\n//         reject(new Error('Failed to read photo'));\n//       };\n//       reader.readAsDataURL(file);\n//     });\n//   };\n\n//   const handlePhotoChange = (event) => {\n//     const file = event.target.files[0];\n//     if (file) {\n//       // Check file type\n//       if (!file.type.startsWith('image/')) {\n//         alert('Please select an image file (JPEG, PNG, etc.)');\n//         return;\n//       }\n      \n//       // Check file size (max 5MB)\n//       if (file.size > 5 * 1024 * 1024) {\n//         alert('Photo size must be less than 5MB');\n//         return;\n//       }\n      \n//       setNewProduct({\n//         ...newProduct,\n//         photoFile: file,\n//         image: URL.createObjectURL(file)  // Preview immediately\n//       });\n//     }\n//   };\n\n//   const handleEditProduct = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n    \n//     const newName = prompt('Update product name:', product.name);\n//     const newPrice = prompt('Update price:', product.price);\n//     const newCategory = prompt('Update category:', product.category);\n//     const newDescription = prompt('Update description:', product.description || '');\n    \n//     if (newName && newPrice && newCategory) {\n//       try {\n//         const productData = {\n//           name: newName,\n//           price: parseFloat(newPrice),\n//           description: newDescription,\n//           category: newCategory\n//         };\n        \n//         // Update product using vendor service (ensures vendor ownership)\n//         const updatedProduct = await vendorService.updateProduct(productId, productData);\n        \n//         // Update local state\n//         setProducts(products.map(p => \n//           p.id === productId ? updatedProduct : p\n//         ));\n        \n//         // Notify user dashboard\n//         window.postMessage({\n//           type: 'PRODUCT_UPDATED',\n//           product: updatedProduct,\n//           vendorId: vendorData.id\n//         }, '*');\n        \n//         alert(`Product \"${newName}\" updated successfully!`);\n        \n//       } catch (error) {\n//         console.error('Error updating product:', error);\n//         alert(`Failed to update product: ${error.message}`);\n//       }\n//     } else {\n//       alert('Please fill in all required fields');\n//     }\n//   };\n\n//   const handleDeleteProduct = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n    \n//     if (confirm(`Are you sure you want to delete \"${product.name}\"?`)) {\n//       try {\n//         // Delete product using vendor service (ensures vendor ownership)\n//         const deletedProduct = await vendorService.deleteProduct(productId);\n        \n//         // Update local state\n//         setProducts(products.filter(p => p.id !== productId));\n        \n//         // Update vendor profile\n//         const updatedVendorData = {\n//           ...vendorData,\n//           totalProducts: Math.max(0, (vendorData.totalProducts || 0) - 1)\n//         };\n//         setVendorData(updatedVendorData);\n//         await vendorService.updateVendorProfile(updatedVendorData);\n        \n//         // Notify user dashboard\n//         window.postMessage({\n//           type: 'PRODUCT_DELETED',\n//           product: deletedProduct,\n//           vendorId: vendorData.id\n//         }, '*');\n        \n//         alert(`Product \"${product.name}\" deleted successfully!`);\n        \n//       } catch (error) {\n//         console.error('Error deleting product:', error);\n//         alert(`Failed to delete product: ${error.message}`);\n//       }\n//     }\n//   };\n\n//   const handleToggleProductStatus = async (productId) => {\n//     try {\n//       const product = products.find(p => p.id === productId);\n//       if (!product) return;\n      \n//       const updatedProduct = {\n//         ...product,\n//         inStock: !product.inStock\n//       };\n      \n//       // Update product using vendor service\n//       const result = await vendorService.updateProduct(productId, { inStock: updatedProduct.inStock });\n      \n//       // Update local state\n//       setProducts(products.map(p => \n//         p.id === productId ? result : p\n//       ));\n      \n//       // Notify user dashboard\n//       window.postMessage({\n//         type: 'PRODUCT_UPDATED',\n//         product: result,\n//         vendorId: vendorData.id\n//       }, '*');\n      \n//       alert(`Product \"${result.name}\" is now ${result.inStock ? 'Available' : 'Unavailable'}!`);\n      \n//     } catch (error) {\n//       console.error('Error toggling product status:', error);\n//       alert(`Failed to update product status: ${error.message}`);\n//     }\n//   };\n\n//   // Simulate product sale to update vendor metrics (NPR currency)\n//   const handleSimulateSale = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n    \n//     const quantity = prompt('Enter quantity sold:', '1');\n//     if (!quantity || isNaN(quantity) || parseInt(quantity) <= 0) {\n//       alert('Please enter a valid quantity');\n//       return;\n//     }\n    \n//     const saleQuantity = parseInt(quantity);\n//     const totalSale = product.price * saleQuantity;\n    \n//     try {\n//       // Update product orders\n//       const updatedProduct = {\n//         ...product,\n//         orders: (product.orders || 0) + saleQuantity,\n//         stock: Math.max(0, (product.stock || 0) - saleQuantity)\n//       };\n      \n//       await vendorService.updateProduct(productId, { \n//         orders: updatedProduct.orders,\n//         stock: updatedProduct.stock\n//       });\n      \n//       // Update vendor profile\n//       const updatedVendorData = {\n//         ...vendorData,\n//         totalOrders: (vendorData.totalOrders || 0) + saleQuantity,\n//         revenue: (vendorData.revenue || 0) + totalSale\n//       };\n      \n//       await vendorService.updateVendorProfile(updatedVendorData);\n      \n//       // Update local state\n//       setProducts(products.map(p => p.id === productId ? updatedProduct : p));\n//       setVendorData(updatedVendorData);\n      \n//       alert(`Sale recorded: ${saleQuantity} x \"${product.name}\" = NPR ${totalSale.toFixed(2)}\\n` +\n//             `Total Orders: ${updatedVendorData.totalOrders}\\n` +\n//             `Total Revenue: NPR ${updatedVendorData.revenue.toFixed(2)}`);\n      \n//     } catch (error) {\n//       console.error('Error recording sale:', error);\n//       alert(`Failed to record sale: ${error.message}`);\n//     }\n//   };\n\n//   // Add stock to product\n//   const handleAddStock = async (productId) => {\n//     const product = products.find(p => p.id === productId);\n//     if (!product) return;\n    \n//     const quantity = prompt('Enter quantity to add:', '10');\n//     if (!quantity || isNaN(quantity) || parseInt(quantity) <= 0) {\n//       alert('Please enter a valid quantity');\n//       return;\n//     }\n    \n//     const addQuantity = parseInt(quantity);\n    \n//     try {\n//       // Update product stock\n//       const updatedProduct = {\n//         ...product,\n//         stock: (product.stock || 0) + addQuantity,\n//         inStock: true  // Product becomes available when stock is added\n//       };\n      \n//       await vendorService.updateProduct(productId, { \n//         stock: updatedProduct.stock,\n//         inStock: updatedProduct.inStock\n//       });\n      \n//       // Update local state\n//       setProducts(products.map(p => p.id === productId ? updatedProduct : p));\n      \n//       alert(`Stock added: ${addQuantity} units to \"${product.name}\"\\n` +\n//             `New stock: ${updatedProduct.stock} units\\n` +\n//             `Status: Available`);\n      \n//     } catch (error) {\n//       console.error('Error adding stock:', error);\n//       alert(`Failed to add stock: ${error.message}`);\n//     }\n//   };\n\n//   const handleClearAllProducts = () => {\n//     if (confirm('Are you sure you want to delete ALL products? This will clear everything!')) {\n//       // Clear local state\n//       setProducts([]);\n      \n//       // Clear vendor-specific localStorage\n//       const allVendorProducts = JSON.parse(localStorage.getItem('allVendorProducts') || '{}');\n//       allVendorProducts[`vendor_${vendorData.id}`] = [];\n//       localStorage.setItem('allVendorProducts', JSON.stringify(allVendorProducts));\n      \n//       // Notify user dashboard\n//       window.postMessage({\n//         type: 'VENDOR_PRODUCTS_DELETED',\n//         vendorId: vendorData.id\n//       }, '*');\n      \n//       alert('All products deleted! User dashboard updated.');\n//     }\n//   };\n\n//   const handleProductManagement = () => {\n//     if (products.length === 0) {\n//       alert('No products available. Add a product first!');\n//       return;\n//     }\n    \n//     const productOptions = products.map((product, index) => \n//       `${index + 1}. ${product.name} - NPR ${product.price} - ${product.inStock ? 'In Stock' : 'Out of Stock'}`\n//     ).join('\\n');\n    \n//     const choice = prompt(`Select a product to manage:\\n\\n${productOptions}\\n\\nEnter product number (1-${products.length}):`);\n    \n//     if (choice) {\n//       const index = parseInt(choice) - 1;\n//       if (index >= 0 && index < products.length) {\n//         const selectedProduct = products[index];\n//         const action = prompt(`Manage \"${selectedProduct.name}\":\\n\\n1. Update Product\\n2. Delete Product\\n3. Toggle Status\\n\\nEnter action number (1-3):`);\n        \n//         switch (action) {\n//           case '1':\n//             handleEditProduct(selectedProduct.id);\n//             break;\n//           case '2':\n//             handleDeleteProduct(selectedProduct.id);\n//             break;\n//           case '3':\n//             handleToggleProductStatus(selectedProduct.id);\n//             break;\n//           default:\n//             alert('Invalid action. Please try again.');\n//         }\n//       } else {\n//         alert('Invalid selection. Please try again.');\n//       }\n//     }\n//   };\n\n//   const handleViewProducts = () => {\n//     setCurrentView('products');\n//   };\n\n//   // Order Management Functions\n//   const handleUpdateOrderStatus = (orderId, newStatus) => {\n//     setOrders(orders.map(o => \n//       o.id === orderId \n//         ? { ...o, status: newStatus }\n//         : o\n//     ));\n//     alert(`Order #${orderId} status updated to ${newStatus}!`);\n//   };\n\n//   const handleViewOrderDetails = (order) => {\n//     alert(`Order Details:\\n\\nOrder ID: #${order.id}\\nCustomer: ${order.customer}\\nItems: ${order.items}\\nTotal: NPR ${order.total}\\nStatus: ${order.status}\\nTime: ${order.time}`);\n//   };\n\n//   const handleViewOrders = () => {\n//     setCurrentView('orders');\n//   };\n\n//   // Analytics Functions\n//   const handleViewAnalytics = () => {\n//     setCurrentView('analytics');\n//   };\n\n//   // Promotion Functions\n//   const handleCreatePromotion = () => {\n//     alert('üéâ Promotion Created!\\n\\nPromotion: 20% OFF on selected items\\nValid: Next 7 days\\nCode: SAVE20\\nStatus: Active');\n//     setPromotionDialogOpen(false);\n//   };\n\n//   const handleViewPromotions = () => {\n//     setCurrentView('promotions');\n//   };\n\n//   if (loading) {\n//     return (\n//       <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//         <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"400px\">\n//           <CircularProgress size={60} />\n//         </Box>\n//       </Container>\n//     );\n//   }\n\n//   if (error) {\n//     return (\n//       <Container maxWidth=\"lg\" sx={{ py: 4 }}>\n//         <Alert severity=\"error\">{error}</Alert>\n//         <Button\n//           variant=\"contained\"\n//           onClick={() => window.location.href = '/login'}\n//           sx={{ mt: 2 }}\n//         >\n//           Go to Login\n//         </Button>\n//       </Container>\n//     );\n//   }\n\n//   return (\n//     <Box sx={{ flexGrow: 1 }}>\n//       {/* <AppBar position=\"static\" sx={{ mb: 3 }}>\n//         <Toolbar>\n//           {currentView !== 'dashboard' && (\n//             <IconButton\n//               edge=\"start\"\n//               color=\"inherit\"\n//               onClick={handleBackToDashboard}\n//               sx={{ mr: 2 }}\n//             >\n//               <ArrowBack />\n//             </IconButton>\n//           )}\n          \n//           <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n//             {getViewTitle()}\n//           </Typography>\n          \n//           <IconButton\n//             edge=\"end\"\n//             color=\"inherit\"\n//             onClick={handleMenuOpen}\n//           >\n//             <AccountCircle />\n//           </IconButton>\n          \n//           <Menu\n//             anchorEl={anchorEl}\n//             open={Boolean(anchorEl)}\n//             onClose={handleMenuClose}\n//           >\n//             <MenuItem onClick={handleMenuClose}>\n//               <ListItemIcon><Store /></ListItemIcon>\n//               <ListItemText>{vendorData?.name || 'Vendor'}</ListItemText>\n//             </MenuItem>\n//             <MenuItem onClick={() => { handleMenuClose(); handleLogout(); }}>\n//               <ListItemIcon><Logout /></ListItemIcon>\n//               <ListItemText>Logout</ListItemText>\n//             </MenuItem>\n//           </Menu>\n//         </Toolbar>\n//       </AppBar> */}\n\n//       <Container maxWidth=\"lg\" sx={{ py: 2, mt:5 }}>\n//         {/* Dashboard View */}\n//         {currentView === 'dashboard' && (\n//           <>\n//             {/* Header */}\n//             <Box sx={{ mb: 4, display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n//               <Box sx={{ display: 'flex', alignItems: 'center' }}>\n//                 <Avatar sx={{ bgcolor: 'primary.main', mr: 2 }}>\n//                   <Store />\n//                 </Avatar>\n//                 <Box>\n//                   <Typography variant=\"h6\" color=\"text.secondary\">\n//                     Welcome, {vendorData?.name || 'Vendor'}!\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Manage your business efficiently\n//                   </Typography>\n//                 </Box>\n//               </Box>\n//             </Box>\n\n//             {/* Vendor Stats Cards */}\n//             <Grid container spacing={3} sx={{ mb: 4 }}>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'primary.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {products.length}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     Total Products\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'success.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {products.filter(p => (p.stock || 0) > 0).length}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     In Stock\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'warning.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {products.filter(p => (p.stock || 0) > 0 && (p.stock || 0) <= 5).length}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     Low Stock\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//               <Grid item xs={12} md={3}>\n//                 <Paper sx={{ p: 3, textAlign: 'center', bgcolor: 'info.main', color: 'white' }}>\n//                   <Typography variant=\"h4\" fontWeight=\"bold\">\n//                     {vendorData.totalOrders || 0}\n//                   </Typography>\n//                   <Typography variant=\"body2\">\n//                     Total Orders\n//                   </Typography>\n//                 </Paper>\n//               </Grid>\n//             </Grid>\n\n//             {/* Add Product Form Dialog */}\n//       <Dialog open={showAddProductForm} onClose={() => setShowAddProductForm(false)} maxWidth=\"md\" fullWidth>\n//         <DialogTitle sx={{ bgcolor: 'primary.main', color: 'white' }}>\n//           <Typography variant=\"h6\" fontWeight=\"bold\">\n//             Add New Product\n//           </Typography>\n//         </DialogTitle>\n//         <DialogContent sx={{ p: 3 }}>\n//           <Grid container spacing={3}>\n//             <Grid item xs={12} md={6}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Product Name *\"\n//                 value={newProduct.name}\n//                 onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//               />\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Price (NPR) *\"\n//                 type=\"number\"\n//                 value={newProduct.price}\n//                 onChange={(e) => setNewProduct({...newProduct, price: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//                 inputProps={{ min: 0, step: 0.01 }}\n//               />\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <FormControl fullWidth sx={{ mb: 2 }}>\n//                 <InputLabel>Category *</InputLabel>\n//                 <Select\n//                   value={newProduct.category}\n//                   onChange={(e) => setNewProduct({...newProduct, category: e.target.value})}\n//                   label=\"Category\"\n//                 >\n//                   <MenuItem value=\"Clothing\">Clothing</MenuItem>\n//                   <MenuItem value=\"Electronic\">Electronic</MenuItem>\n//                   <MenuItem value=\"Foods\">Foods</MenuItem>\n//                   <MenuItem value=\"Books\">Books</MenuItem>\n//                 </Select>\n//               </FormControl>\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Image URL (optional)\"\n//                 value={newProduct.image}\n//                 onChange={(e) => setNewProduct({...newProduct, image: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//                 placeholder=\"https://example.com/image.jpg\"\n//               />\n//             </Grid>\n//             <Grid item xs={12} md={6}>\n//               <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 1 }}>\n//                 OR Upload Photo\n//               </Typography>\n//               <input\n//                 type=\"file\"\n//                 accept=\"image/*\"\n//                 onChange={handlePhotoChange}\n//                 style={{ \n//                   width: '100%', \n//                   padding: '10px', \n//                   border: '2px dashed #ccc', \n//                   borderRadius: '4px',\n//                   backgroundColor: '#f9f9f'\n//                 }}\n//               />\n//             </Grid>\n//             <Grid item xs={12}>\n//               <TextField\n//                 fullWidth\n//                 label=\"Description *\"\n//                 multiline\n//                 rows={4}\n//                 value={newProduct.description}\n//                 onChange={(e) => setNewProduct({...newProduct, description: e.target.value})}\n//                 sx={{ mb: 2 }}\n//                 variant=\"outlined\"\n//               />\n//             </Grid>\n//             <Grid item xs={12}>\n//               <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, mb: 2 }}>\n//                 <Typography variant=\"body2\" color=\"text.secondary\">\n//                   Product Image Preview:\n//                 </Typography>\n//                 {newProduct.photoFile && (\n//                   <Box\n//                     component=\"img\"\n//                     src={newProduct.image}\n//                     alt=\"Product preview\"\n//                     sx={{ width: 80, height: 80, objectFit: 'cover', borderRadius: 1, border: '1px solid #ddd' }}\n//                   />\n//                 )}\n//                 {!newProduct.photoFile && newProduct.name && (\n//                   <Box\n//                     component=\"img\"\n//                     src={`https://via.placeholder.com/300x200/FF6B6B/FFFFFF?text=${encodeURIComponent(newProduct.name)}`}\n//                     alt=\"Product preview\"\n//                     sx={{ width: 80, height: 80, objectFit: 'cover', borderRadius: 1, border: '1px solid #ddd' }}\n//                   />\n//                 )}\n//                 {!newProduct.photoFile && !newProduct.name && (\n//                   <Box sx={{ width: 80, height: 80, border: '2px dashed #ccc', borderRadius: 1, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\n//                     <Typography variant=\"body2\" color=\"text.secondary\">\n//                       No Image\n//                     </Typography>\n//                   </Box>\n//                 )}\n//               </Box>\n//             </Grid>\n//           </Grid>\n//         </DialogContent>\n//         <DialogActions sx={{ p: 3, bgcolor: 'grey.50' }}>\n//           <Button onClick={() => setShowAddProductForm(false)} color=\"secondary\">\n//             Cancel\n//           </Button>\n//           <Button onClick={handleSaveProduct} variant=\"contained\" color=\"primary\">\n//             Save Product\n//           </Button>\n//         </DialogActions>\n//       </Dialog>\n\n//       {/* Quick Actions */}\n//       <Grid container spacing={3} sx={{ mb: 4 }}>\n//         <Grid item xs={12} md={6}>\n//           <Paper sx={{ p: 3 }}>\n//             <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//               Quick Actions\n//             </Typography>\n//             <List>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1, mb: 1 }}\n//                       onClick={handleAddProduct}\n//                     >\n//                       <ListItemIcon>\n//                         <Restaurant color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"Create Product\" \n//                         secondary=\"Add new products to your inventory\" \n//                       />\n//                     </ListItem>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1, mb: 1 }}\n//                       onClick={handleProductManagement}\n//                     >\n//                       <ListItemIcon>\n//                         <Assessment color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"Manage Products\" \n//                         secondary={`Update, delete, or toggle status for ${products.length} products`} \n//                       />\n//                     </ListItem>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1, mb: 1 }}\n//                       onClick={() => setCurrentView('orders')}\n//                     >\n//                       <ListItemIcon>\n//                         <ShoppingCart color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"View Orders\" \n//                         secondary=\"Manage customer orders and fulfillment\" \n//                       />\n//                     </ListItem>\n//                     <ListItem \n//                       button \n//                       sx={{ borderRadius: 1 }}\n//                       onClick={() => setCurrentView('analytics')}\n//                     >\n//                       <ListItemIcon>\n//                         <TrendingUp color=\"primary\" />\n//                       </ListItemIcon>\n//                       <ListItemText \n//                         primary=\"View Analytics\" \n//                         secondary=\"Track sales performance and revenue\" \n//                       />\n//                     </ListItem>\n//                   </List>\n//                 </Paper>\n//               </Grid>\n\n//               <Grid item xs={12} md={6}>\n//                 <Paper sx={{ p: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                     Recent Orders\n//                   </Typography>\n//                   <List>\n//                     {orders.slice(0, 4).map((order) => (\n//                       <ListItem key={order.id} sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                         <ListItemText \n//                           primary={`Order #${order.id}`}\n//                           secondary={`${order.customer} ‚Ä¢ ${order.items} ‚Ä¢ NPR ${order.total}`}\n//                         />\n//                       </ListItem>\n//                     ))}\n//                   </List>\n//                   <Button variant=\"outlined\" fullWidth sx={{ mt: 2 }} onClick={() => setCurrentView('orders')}>\n//                     View All Orders\n//                   </Button>\n//                 </Paper>\n//               </Grid>\n//             </Grid>\n\n//             {/* Category Filter */}\n//             <Paper sx={{ p: 3, mb: 4 }}>\n//               <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n//                 Filter by Category\n//               </Typography>\n//               <FormControl fullWidth>\n//                 <InputLabel>Category</InputLabel>\n//                 <Select\n//                   value={selectedCategory}\n//                   onChange={(e) => setSelectedCategory(e.target.value)}\n//                   label=\"Category\"\n//                 >\n//                   <MenuItem value=\"All\">All Categories</MenuItem>\n//                   <MenuItem value=\"Clothing\">Clothing</MenuItem>\n//                   <MenuItem value=\"Electronic\">Electronic</MenuItem>\n//                   <MenuItem value=\"Foods\">Foods</MenuItem>\n//                   <MenuItem value=\"Books\">Books</MenuItem>\n//                 </Select>\n//               </FormControl>\n//             </Paper>\n\n//             {/* Top Products and Customer Insights */}\n//             <Grid container spacing={3}>\n//               <Grid item xs={12} md={6}>\n//                 <Paper sx={{ p: 3, mb: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                     Top Products\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\n//                     Debug: Found {products.length} products for vendor {vendorData?.id || 'N/A'}\n//                   </Typography>\n//                   <List>\n//                     {products\n//                       .filter(product => selectedCategory === 'All' || product.category === selectedCategory)\n//                       .slice(0, 5)\n//                       .map((product) => (\n//                         <ListItem key={product.id} sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                           <ListItemText \n//                             primary={product.name}\n//                             secondary={`${product.category} ‚Ä¢ NPR ${product.price.toFixed(2)} ‚Ä¢ Stock: ${product.stock || 0} ‚Ä¢ Orders: ${product.orders || 0}`}\n//                           />\n//                           <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n//                             <Typography variant=\"body2\" color=\"success.main\">\n//                               ‚≠ê {product.rating || '0.0'}\n//                             </Typography>\n//                             <Button \n//                               variant=\"outlined\" \n//                               size=\"small\"\n//                               onClick={() => handleAddStock(product.id)}\n//                               sx={{ minWidth: 'auto', px: 1 }}\n//                             >\n//                               üì¶+\n//                             </Button>\n//                             <Button \n//                               variant=\"contained\" \n//                               size=\"small\"\n//                               onClick={() => handleSimulateSale(product.id)}\n//                               sx={{ minWidth: 'auto', px: 1 }}\n//                             >\n//                               üí∞\n//                             </Button>\n//                           </Box>\n//                         </ListItem>\n//                       ))}\n//                   </List>\n//                   {products.filter(product => selectedCategory === 'All' || product.category === selectedCategory).length === 0 && (\n//                     <Box sx={{ textAlign: 'center', py: 4 }}>\n//                       <Typography variant=\"body1\" color=\"text.secondary\">\n//                         No products available{selectedCategory !== 'All' ? ` in ${selectedCategory}` : ''}.\n//                       </Typography>\n//                       <Button variant=\"contained\" sx={{ mt: 2 }} onClick={() => {\n//                         console.log('Vendor Dashboard - Manual refresh - checking products...');\n//                         console.log('Vendor Dashboard - Manual refresh products:', products);\n//                         // Products are already loaded in state\n//                       }}>\n//                         Refresh Products\n//                       </Button>\n//                     </Box>\n//                   )}\n//                   <Button \n//                     variant=\"outlined\" \n//                     fullWidth \n//                     sx={{ mt: 2 }}\n//                     onClick={handleViewProducts}\n//                   >\n//                     View All Products ({products.filter(product => selectedCategory === 'All' || product.category === selectedCategory).length})\n//                   </Button>\n//                   <Button \n//                     variant=\"contained\" \n//                     color=\"error\"\n//                     fullWidth \n//                     sx={{ mt: 1 }}\n//                     onClick={handleClearAllProducts}\n//                   >\n//                     Clear All Products\n//                   </Button>\n//                 </Paper>\n//               </Grid>\n\n//               <Grid item xs={12} md={6}>\n//                 <Paper sx={{ p: 3, mb: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n//                     Vendor Profile\n//                   </Typography>\n//                   <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\n//                     {vendorData.name} ({vendorData.email}) - {products.length} products\n//                   </Typography>\n//                   <Box sx={{ mt: 2, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n//                     <Chip label={`Rating: ${vendorData.rating || 0.0} ‚≠ê`} size=\"small\" color=\"primary\" />\n//                     <Chip label={`Orders: ${vendorData.totalOrders || 0}`} size=\"small\" color=\"success\" />\n//                     <Chip label={`Revenue: NPR ${(vendorData.revenue || 0).toFixed(2)}`} size=\"small\" color=\"warning\" />\n//                   </Box>\n//                 </Paper>\n\n//                 <Paper sx={{ p: 3 }}>\n//                   <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                     Stock Insights\n//                   </Typography>\n//                   <List>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Stock Health\"\n//                         secondary=\"Overall inventory status\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"success.main\">\n//                         75% Good\n//                       </Typography>\n//                     </ListItem>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Stock Alerts\"\n//                         secondary=\"Items needing attention\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"warning.main\">\n//                         6 Items\n//                       </Typography>\n//                     </ListItem>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Prediction Accuracy\"\n//                         secondary=\"AI forecast precision\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"info.main\">\n//                         92% ‚≠ê\n//                       </Typography>\n//                     </ListItem>\n//                     <ListItem sx={{ borderRadius: 1, mb: 1, bgcolor: 'grey.50' }}>\n//                       <ListItemText \n//                         primary=\"Restock Needed\"\n//                         secondary=\"Items to reorder soon\"\n//                       />\n//                       <Typography variant=\"h6\" color=\"error.main\">\n//                         3 Items\n//                       </Typography>\n//                     </ListItem>\n//                   </List>\n//                   <Button \n//                     variant=\"contained\" \n//                     fullWidth \n//                     sx={{ mt: 2 }}\n//                     onClick={handleViewAnalytics}\n//                   >\n//                     View Stock Analytics\n//                   </Button>\n//                 </Paper>\n//               </Grid>\n//             </Grid>\n\n//             {/* Performance Progress */}\n//             <Paper sx={{ p: 3, mt: 4 }}>\n//               <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 2 }}>\n//                 Monthly Performance\n//               </Typography>\n//               <Box sx={{ mb: 2 }}>\n//                 <Typography variant=\"body2\" color=\"text.secondary\">\n//                   Revenue Goal: NPR 12,450 / NPR 15,000\n//                 </Typography>\n//                 <LinearProgress \n//                   variant=\"determinate\" \n//                   value={83} \n//                   sx={{ height: 8, borderRadius: 4 }}\n//                 />\n//               </Box>\n//               <Typography variant=\"body2\" color=\"primary.main\">\n//                 üéØ You're NPR 2,550 away from your monthly revenue goal!\n//               </Typography>\n//             </Paper>\n\n//             {/* Account Info */}\n//             <Paper sx={{ p: 3 }}>\n//               <Typography variant=\"h6\" fontWeight=\"bold\" sx={{ mb: 3 }}>\n//                 Account Information\n//               </Typography>\n//               <Grid container spacing={3}>\n//                 <Grid item xs={12} md={6}>\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Business Name\n//                   </Typography>\n//                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\n//                     {vendorData?.name || 'Vendor Business'}\n//                   </Typography>\n                  \n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Email\n//                   </Typography>\n//                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\n//                     {vendorData?.email || 'vendor@example.com'}\n//                   </Typography>\n//                 </Grid>\n                \n//                 <Grid item xs={12} md={6}>\n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     Role\n//                   </Typography>\n//                   <Typography variant=\"body1\" sx={{ mb: 2 }}>\n//                     {vendorData?.role || 'VENDOR'}\n//                   </Typography>\n                  \n//                   <Typography variant=\"body2\" color=\"text.secondary\">\n//                     User ID\n//                   </Typography>\n//                   <Typography variant=\"body1\">\n//                     {vendorData?.id || 'N/A'}\n//                   </Typography>\n//                 </Grid>\n//               </Grid>\n//             </Paper>\n\n//             {/* Product Management Dialog */}\n//             <Dialog open={productDialogOpen} onClose={() => setProductDialogOpen(false)} maxWidth=\"md\" fullWidth>\n//               <DialogTitle>Manage Products</DialogTitle>\n//               <DialogContent>\n//                 <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)} sx={{ mb: 2 }}>\n//                   <Tab label=\"Add Product\" />\n//                   <Tab label=\"Existing Products\" />\n//                 </Tabs>\n                \n//                 {activeTab === 0 && (\n//                   <Box sx={{ p: 2 }}>\n//                     <TextField\n//                       fullWidth\n//                       label=\"Product Name\"\n//                       value={newProduct.name}\n//                       onChange={(e) => setNewProduct({...newProduct, name: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <TextField\n//                       fullWidth\n//                       label=\"Price\"\n//                       type=\"number\"\n//                       value={newProduct.price}\n//                       onChange={(e) => setNewProduct({...newProduct, price: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <TextField\n//                       fullWidth\n//                       label=\"Category\"\n//                       value={newProduct.category}\n//                       onChange={(e) => setNewProduct({...newProduct, category: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <TextField\n//                       fullWidth\n//                       label=\"Description\"\n//                       multiline\n//                       rows={3}\n//                       value={newProduct.description}\n//                       onChange={(e) => setNewProduct({...newProduct, description: e.target.value})}\n//                       sx={{ mb: 2 }}\n//                     />\n//                     <Button variant=\"contained\" onClick={handleAddProduct} startIcon={<Add />}>\n//                       Add Product\n//                     </Button>\n//                   </Box>\n//                 )}\n                \n//                 {activeTab === 1 && (\n//                   <TableContainer>\n//                     <Table>\n//                       <TableHead>\n//                         <TableRow>\n//                           <TableCell>Product</TableCell>\n//                           <TableCell>Price</TableCell>\n//                           <TableCell>Category</TableCell>\n//                           <TableCell>Status</TableCell>\n//                           <TableCell>Orders</TableCell>\n//                           <TableCell>Actions</TableCell>\n//                         </TableRow>\n//                       </TableHead>\n//                       <TableBody>\n//                         {products.map((product) => (\n//                           <TableRow key={product.id}>\n//                             <TableCell>{product.name}</TableCell>\n//                             <TableCell>${product.price}</TableCell>\n//                             <TableCell>{product.category}</TableCell>\n//                             <TableCell>\n//                               <Chip \n//                                 label={product.status} \n//                                 color={product.status === 'Available' ? 'success' : 'error'}\n//                                 size=\"small\"\n//                               />\n//                             </TableCell>\n//                             <TableCell>{product.orders}</TableCell>\n//                             <TableCell>\n//                               <Button \n//                                 size=\"small\" \n//                                 onClick={() => handleToggleProductStatus(product.id)}\n//                               >\n//                                 {product.status === 'Available' ? 'Disable' : 'Enable'}\n//                               </Button>\n//                               <Button \n//                                 size=\"small\" \n//                                 color=\"error\"\n//                                 onClick={() => handleDeleteProduct(product.id)}\n//                               >\n//                                 <Delete />\n//                               </Button>\n//                             </TableCell>\n//                           </TableRow>\n//                         ))}\n//                       </TableBody>\n//                     </Table>\n//                   </TableContainer>\n//                 )}\n//               </DialogContent>\n//               <DialogActions>\n//                 <Button onClick={() => setProductDialogOpen(false)}>Close</Button>\n//               </DialogActions>\n//             </Dialog>\n\n//             {/* Order Management Dialog */}\n//             <Dialog open={orderDialogOpen} onClose={() => setOrderDialogOpen(false)} maxWidth=\"lg\" fullWidth>\n//               <DialogTitle>All Orders</DialogTitle>\n//               <DialogContent>\n//                 <TableContainer>\n//                   <Table>\n//                     <TableHead>\n//                       <TableRow>\n//                         <TableCell>Order ID</TableCell>\n//                         <TableCell>Customer</TableCell>\n//                         <TableCell>Items</TableCell>\n//                         <TableCell>Total</TableCell>\n//                         <TableCell>Status</TableCell>\n//                         <TableCell>Time</TableCell>\n//                         <TableCell>Actions</TableCell>\n//                       </TableRow>\n//                     </TableHead>\n//                     <TableBody>\n//                       {orders.map((order) => (\n//                         <TableRow key={order.id}>\n//                           <TableCell>#{order.id}</TableCell>\n//                           <TableCell>{order.customer}</TableCell>\n//                           <TableCell>{order.items}</TableCell>\n//                           <TableCell>${order.total}</TableCell>\n//                           <TableCell>\n//                             <Chip \n//                               label={order.status} \n//                               color={\n//                                 order.status === 'Delivered' ? 'success' :\n//                                 order.status === 'Ready' ? 'info' :\n//                                 order.status === 'Preparing' ? 'warning' : 'default'\n//                               }\n//                               size=\"small\"\n//                             />\n//                           </TableCell>\n//                           <TableCell>{order.time}</TableCell>\n//                           <TableCell>\n//                             <Box sx={{ display: 'flex', gap: 1 }}>\n//                               <Button \n//                                 size=\"small\" \n//                                 variant=\"outlined\"\n//                                 onClick={() => handleViewOrderDetails(order)}\n//                               >\n//                                 <Visibility fontSize=\"small\" />\n//                               </Button>\n//                               {order.status === 'Pending' && (\n//                                 <Button \n//                                   size=\"small\" \n//                                   variant=\"contained\"\n//                                   color=\"success\"\n//                                   onClick={() => handleUpdateOrderStatus(order.id, 'Preparing')}\n//                                 >\n//                                   Accept\n//                                 </Button>\n//                               )}\n//                               {order.status === 'Preparing' && (\n//                                 <Button \n//                                   size=\"small\" \n//                                   variant=\"contained\"\n//                                   color=\"info\"\n//                                   onClick={() => handleUpdateOrderStatus(order.id, 'Ready')}\n//                                 >\n//                                   Ready\n//                                 </Button>\n//                               )}\n//                               {order.status === 'Ready' && (\n//                                 <Button \n//                                   size=\"small\" \n//                                   variant=\"contained\"\n//                                   color=\"success\"\n//                                   onClick={() => handleUpdateOrderStatus(order.id, 'Delivered')}\n//                                 >\n//                                   Deliver\n//                                 </Button>\n//                               )}\n//                             </Box>\n//                           </TableCell>\n//                         </TableRow>\n//                       ))}\n//                     </TableBody>\n//                   </Table>\n//                 </TableContainer>\n//               </DialogContent>\n//               <DialogActions>\n//                 <Button onClick={() => setOrderDialogOpen(false)}>Close</Button>\n//               </DialogActions>\n//             </Dialog>\n\n//             {/* Promotion Dialog */}\n//             <Dialog open={promotionDialogOpen} onClose={() => setPromotionDialogOpen(false)} maxWidth=\"sm\" fullWidth>\n//               <DialogTitle>Create Promotion</DialogTitle>\n//               <DialogContent>\n//                 <TextField\n//                   fullWidth\n//                   label=\"Promotion Name\"\n//                   defaultValue=\"Weekend Special\"\n//                   sx={{ mb: 2 }}\n//                 />\n//                 <TextField\n//                   fullWidth\n//                   label=\"Discount Percentage\"\n//                   type=\"number\"\n//                   defaultValue=\"20\"\n//                   sx={{ mb: 2 }}\n//                 />\n//                 <TextField\n//                   fullWidth\n//                   label=\"Promotion Code\"\n//                   defaultValue=\"WEEKEND20\"\n//                   sx={{ mb: 2 }}\n//                 />\n//                 <TextField\n//                   fullWidth\n//                   label=\"Duration (days)\"\n//                   type=\"number\"\n//                   defaultValue=\"7\"\n//                   sx={{ mb: 2 }}\n//                 />\n//               </DialogContent>\n//               <DialogActions>\n//                 <Button onClick={() => setPromotionDialogOpen(false)}>Cancel</Button>\n//                 <Button variant=\"contained\" onClick={handleCreatePromotion}>Create Promotion</Button>\n//               </DialogActions>\n//             </Dialog>\n//           </>\n//         )}\n//       </Container>\n//     </Box>\n//   );\n// };\n\n// export default SimpleVendorDashboard;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}