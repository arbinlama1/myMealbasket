{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{Container,Grid,Card,CardContent,CardMedia,Typography,Button,Box,TextField,InputAdornment,Chip,CircularProgress,Alert,Fab,useTheme,AppBar,Toolbar,IconButton}from'@mui/material';import{Search,ShoppingCart,Add,FilterList,Sort,Star,ArrowBack,Home}from'@mui/icons-material';import{productAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const navigate=useNavigate();const theme=useTheme();const handleBackToHome=()=>{window.location.href='/';};const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[filteredProducts,setFilteredProducts]=useState([]);const[sortBy,setSortBy]=useState('name');const[filterCategory,setFilterCategory]=useState('all');useEffect(()=>{fetchProducts();},[]);useEffect(()=>{let filtered=products;// Apply search filter\nif(searchTerm){filtered=filtered.filter(product=>{var _product$description;return product.name.toLowerCase().includes(searchTerm.toLowerCase())||((_product$description=product.description)===null||_product$description===void 0?void 0:_product$description.toLowerCase().includes(searchTerm.toLowerCase()));});}// Apply category filter\nif(filterCategory!=='all'){filtered=filtered.filter(product=>product.category===filterCategory);}// Apply sorting\nfiltered.sort((a,b)=>{switch(sortBy){case'name':return a.name.localeCompare(b.name);case'price-low':return a.price-b.price;case'price-high':return b.price-a.price;case'rating':return(b.rating||0)-(a.rating||0);default:return 0;}});setFilteredProducts(filtered);},[searchTerm,products,sortBy,filterCategory]);const fetchProducts=async()=>{try{setLoading(true);const response=await productAPI.getAll();if(response.data.success){setProducts(response.data.data||[]);}}catch(error){setError('Failed to load products');console.error('Error fetching products:',error);}finally{setLoading(false);}};const handleSearch=async()=>{if(searchTerm.trim()){try{setLoading(true);const response=await productAPI.search(searchTerm);if(response.data.success){setFilteredProducts(response.data.data||[]);}}catch(error){setError('Failed to search products');console.error('Error searching products:',error);}finally{setLoading(false);}}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSearch();}};const categories=['all','breakfast','lunch','dinner','snacks','beverages'];if(loading){return/*#__PURE__*/_jsx(Container,{sx:{display:'flex',justifyContent:'center',mt:4},children:/*#__PURE__*/_jsx(CircularProgress,{size:60})});}return/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",sx:{mb:3},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"start\",color:\"inherit\",onClick:handleBackToHome,sx:{mr:2},children:/*#__PURE__*/_jsx(ArrowBack,{})}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{flexGrow:1},children:\"Products\"}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"inherit\",startIcon:/*#__PURE__*/_jsx(Home,{}),onClick:handleBackToHome,children:\"Return to Home\"})]})}),/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{py:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{mb:4,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h1\",gutterBottom:true,children:\"\\uD83C\\uDF7D\\uFE0F Browse Products\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",children:\"Discover delicious meals and ingredients\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:4,display:'flex',gap:2,flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(TextField,{fullWidth:true,variant:\"outlined\",placeholder:\"Search products...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onKeyPress:handleKeyPress,InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(Search,{})}),endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(Button,{onClick:handleSearch,variant:\"contained\",sx:{ml:1},children:\"Search\"})})},sx:{flexGrow:1,minWidth:300}}),/*#__PURE__*/_jsx(TextField,{select:true,label:\"Category\",value:filterCategory,onChange:e=>setFilterCategory(e.target.value),sx:{minWidth:150},children:categories.map(category=>/*#__PURE__*/_jsx(\"option\",{value:category,children:category.charAt(0).toUpperCase()+category.slice(1)},category))}),/*#__PURE__*/_jsxs(TextField,{select:true,label:\"Sort By\",value:sortBy,onChange:e=>setSortBy(e.target.value),sx:{minWidth:150},children:[/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-low\",children:\"Price: Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price-high\",children:\"Price: High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rating\",children:\"Rating\"})]})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:3},onClose:()=>setError(null),children:error}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:filteredProducts.map(product=>{var _product$rating,_product$price;return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:4,lg:3,children:/*#__PURE__*/_jsxs(Card,{sx:{height:'100%',display:'flex',flexDirection:'column',transition:'transform 0.2s, box-shadow 0.2s','&:hover':{transform:'translateY(-4px)',boxShadow:theme.shadows[8]},cursor:'pointer'},onClick:()=>navigate(\"/products/\".concat(product.id)),children:[/*#__PURE__*/_jsx(CardMedia,{component:\"div\",sx:{height:200,bgcolor:'grey.200',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'3rem'},children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.name,style:{width:\"100%\",height:\"100%\",objectFit:\"cover\"}})}),/*#__PURE__*/_jsxs(CardContent,{sx:{flexGrow:1},children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",component:\"h3\",children:product.name}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",sx:{mb:2,height:40,overflow:'hidden'},children:product.description||'Fresh and delicious meal prepared with quality ingredients.'}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Chip,{label:product.category||'General',size:\"small\",color:\"primary\",variant:\"outlined\"}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',gap:1},children:[/*#__PURE__*/_jsx(Star,{sx:{fontSize:16,color:'warning.main'}}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:((_product$rating=product.rating)===null||_product$rating===void 0?void 0:_product$rating.toFixed(1))||'4.5'})]})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",color:\"primary.main\",children:[\"$\",((_product$price=product.price)===null||_product$price===void 0?void 0:_product$price.toFixed(2))||'0.00']}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",size:\"small\",startIcon:/*#__PURE__*/_jsx(ShoppingCart,{}),onClick:e=>{e.stopPropagation();// Handle add to cart\nconsole.log('Add to cart:',product);},children:\"Add\"})]})]})]})},product.id);})}),filteredProducts.length===0&&!loading&&/*#__PURE__*/_jsxs(Box,{sx:{textAlign:'center',py:8},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",gutterBottom:true,children:searchTerm?'No products found matching your search.':'No products available at the moment.'}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",sx:{mt:2},onClick:()=>{setSearchTerm('');setFilterCategory('all');},children:\"Clear Filters\"})]}),/*#__PURE__*/_jsx(Fab,{color:\"primary\",\"aria-label\":\"add\",sx:{position:'fixed',bottom:16,right:16},onClick:()=>navigate('/admin/products/new'),children:/*#__PURE__*/_jsx(Add,{})})]})]});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","Container","Grid","Card","CardContent","CardMedia","Typography","Button","Box","TextField","InputAdornment","Chip","CircularProgress","Alert","Fab","useTheme","AppBar","Toolbar","IconButton","Search","ShoppingCart","Add","FilterList","Sort","Star","ArrowBack","Home","productAPI","jsx","_jsx","jsxs","_jsxs","Products","navigate","theme","handleBackToHome","window","location","href","products","setProducts","loading","setLoading","error","setError","searchTerm","setSearchTerm","filteredProducts","setFilteredProducts","sortBy","setSortBy","filterCategory","setFilterCategory","fetchProducts","filtered","filter","product","_product$description","name","toLowerCase","includes","description","category","sort","a","b","localeCompare","price","rating","response","getAll","data","success","console","handleSearch","trim","search","handleKeyPress","e","key","categories","sx","display","justifyContent","mt","children","size","flexGrow","position","mb","edge","color","onClick","mr","variant","startIcon","maxWidth","py","textAlign","component","gutterBottom","gap","flexWrap","fullWidth","placeholder","value","onChange","target","onKeyPress","InputProps","startAdornment","endAdornment","ml","minWidth","select","label","map","charAt","toUpperCase","slice","severity","onClose","container","spacing","_product$rating","_product$price","item","xs","sm","md","lg","height","flexDirection","transition","transform","boxShadow","shadows","cursor","concat","id","bgcolor","alignItems","fontSize","src","image","alt","style","width","objectFit","overflow","toFixed","stopPropagation","log","length","bottom","right"],"sources":["/home/arbinlama/6semProject/Mealbasket1/react-frontend/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Container,\n  Grid,\n  Card,\n  CardContent,\n  CardMedia,\n  Typography,\n  Button,\n  Box,\n  TextField,\n  InputAdornment,\n  Chip,\n  CircularProgress,\n  Alert,\n  Fab,\n  useTheme,\n  AppBar,\n  Toolbar,\n  IconButton,\n} from '@mui/material';\nimport {\n  Search,\n  ShoppingCart,\n  Add,\n  FilterList,\n  Sort,\n  Star,\n  ArrowBack,\n  Home,\n} from '@mui/icons-material';\nimport { productAPI } from '../services/api';\n\nconst Products = () => {\n  const navigate = useNavigate();\n  const theme = useTheme();\n  \n  const handleBackToHome = () => {\n    window.location.href = '/';\n  };\n  \n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [sortBy, setSortBy] = useState('name');\n  const [filterCategory, setFilterCategory] = useState('all');\n\n  useEffect(() => {\n    fetchProducts();\n  }, []);\n\n  useEffect(() => {\n    let filtered = products;\n\n    // Apply search filter\n    if (searchTerm) {\n      filtered = filtered.filter(product =>\n        product.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        product.description?.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    // Apply category filter\n    if (filterCategory !== 'all') {\n      filtered = filtered.filter(product => \n        product.category === filterCategory\n      );\n    }\n\n    // Apply sorting\n    filtered.sort((a, b) => {\n      switch (sortBy) {\n        case 'name':\n          return a.name.localeCompare(b.name);\n        case 'price-low':\n          return a.price - b.price;\n        case 'price-high':\n          return b.price - a.price;\n        case 'rating':\n          return (b.rating || 0) - (a.rating || 0);\n        default:\n          return 0;\n      }\n    });\n\n    setFilteredProducts(filtered);\n  }, [searchTerm, products, sortBy, filterCategory]);\n\n  const fetchProducts = async () => {\n    try {\n      setLoading(true);\n      const response = await productAPI.getAll();\n      if (response.data.success) {\n        setProducts(response.data.data || []);\n      }\n    } catch (error) {\n      setError('Failed to load products');\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = async () => {\n    if (searchTerm.trim()) {\n      try {\n        setLoading(true);\n        const response = await productAPI.search(searchTerm);\n        if (response.data.success) {\n          setFilteredProducts(response.data.data || []);\n        }\n      } catch (error) {\n        setError('Failed to search products');\n        console.error('Error searching products:', error);\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  const categories = ['all', 'breakfast', 'lunch', 'dinner', 'snacks', 'beverages'];\n\n  if (loading) {\n    return (\n      <Container sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\n        <CircularProgress size={60} />\n      </Container>\n    );\n  }\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      {/* Navbar */}\n      <AppBar position=\"static\" sx={{ mb: 3 }}>\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            onClick={handleBackToHome}\n            sx={{ mr: 2 }}\n          >\n            <ArrowBack />\n          </IconButton>\n          \n          <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n            Products\n          </Typography>\n          \n          <Button\n            variant=\"outlined\"\n            color=\"inherit\"\n            startIcon={<Home />}\n            onClick={handleBackToHome}\n          >\n            Return to Home\n          </Button>\n        </Toolbar>\n      </AppBar>\n\n      <Container maxWidth=\"lg\" sx={{ py: 2 }}>\n        {/* Header */}\n        <Box sx={{ mb: 4, textAlign: 'center' }}>\n          <Typography variant=\"h3\" component=\"h1\" gutterBottom>\n            üçΩÔ∏è Browse Products\n          </Typography>\n          <Typography variant=\"h6\" color=\"text.secondary\">\n            Discover delicious meals and ingredients\n          </Typography>\n        </Box>\n\n      {/* Search and Filters */}\n      <Box sx={{ mb: 4, display: 'flex', gap: 2, flexWrap: 'wrap' }}>\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Search products...\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n          onKeyPress={handleKeyPress}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <Search />\n              </InputAdornment>\n            ),\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button onClick={handleSearch} variant=\"contained\" sx={{ ml: 1 }}>\n                  Search\n                </Button>\n              </InputAdornment>\n            ),\n          }}\n          sx={{ flexGrow: 1, minWidth: 300 }}\n        />\n\n        <TextField\n          select\n          label=\"Category\"\n          value={filterCategory}\n          onChange={(e) => setFilterCategory(e.target.value)}\n          sx={{ minWidth: 150 }}\n        >\n          {categories.map((category) => (\n            <option key={category} value={category}>\n              {category.charAt(0).toUpperCase() + category.slice(1)}\n            </option>\n          ))}\n        </TextField>\n\n        <TextField\n          select\n          label=\"Sort By\"\n          value={sortBy}\n          onChange={(e) => setSortBy(e.target.value)}\n          sx={{ minWidth: 150 }}\n        >\n          <option value=\"name\">Name</option>\n          <option value=\"price-low\">Price: Low to High</option>\n          <option value=\"price-high\">Price: High to Low</option>\n          <option value=\"rating\">Rating</option>\n        </TextField>\n      </Box>\n\n      {/* Error Alert */}\n      {error && (\n        <Alert severity=\"error\" sx={{ mb: 3 }} onClose={() => setError(null)}>\n          {error}\n        </Alert>\n      )}\n\n      {/* Products Grid */}\n      <Grid container spacing={3}>\n        {filteredProducts.map((product) => (\n          <Grid item xs={12} sm={6} md={4} lg={3} key={product.id}>\n            <Card\n              sx={{\n                height: '100%',\n                display: 'flex',\n                flexDirection: 'column',\n                transition: 'transform 0.2s, box-shadow 0.2s',\n                '&:hover': {\n                  transform: 'translateY(-4px)',\n                  boxShadow: theme.shadows[8],\n                },\n                cursor: 'pointer',\n              }}\n              onClick={() => navigate(`/products/${product.id}`)}\n            >\n              <CardMedia\n                component=\"div\"\n                sx={{\n                  height: 200,\n                  bgcolor: 'grey.200',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  fontSize: '3rem',\n                }}\n              >\n                 <img\n                          src={product.image}\n                          alt={product.name}\n                          style={{ width: \"100%\", height: \"100%\", objectFit: \"cover\" }}\n                          />\n              </CardMedia>\n              <CardContent sx={{ flexGrow: 1 }}>\n                <Typography gutterBottom variant=\"h6\" component=\"h3\">\n                  {product.name}\n                </Typography>\n                <Typography\n                  variant=\"body2\"\n                  color=\"text.secondary\"\n                  sx={{ mb: 2, height: 40, overflow: 'hidden' }}\n                >\n                  {product.description || 'Fresh and delicious meal prepared with quality ingredients.'}\n                </Typography>\n                \n                {/* Category and Rating */}\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n                  <Chip\n                    label={product.category || 'General'}\n                    size=\"small\"\n                    color=\"primary\"\n                    variant=\"outlined\"\n                  />\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                    <Star sx={{ fontSize: 16, color: 'warning.main' }} />\n                    <Typography variant=\"body2\">\n                      {product.rating?.toFixed(1) || '4.5'}\n                    </Typography>\n                  </Box>\n                </Box>\n\n                {/* Price and Actions */}\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                  <Typography variant=\"h6\" color=\"primary.main\">\n                    ${product.price?.toFixed(2) || '0.00'}\n                  </Typography>\n                  <Button\n                    variant=\"contained\"\n                    size=\"small\"\n                    startIcon={<ShoppingCart />}\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      // Handle add to cart\n                      console.log('Add to cart:', product);\n                    }}\n                  >\n                    Add\n                  </Button>\n                </Box>\n              </CardContent>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n\n      {filteredProducts.length === 0 && !loading && (\n        <Box sx={{ textAlign: 'center', py: 8 }}>\n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n            {searchTerm ? 'No products found matching your search.' : 'No products available at the moment.'}\n          </Typography>\n          <Button\n            variant=\"contained\"\n            sx={{ mt: 2 }}\n            onClick={() => {\n              setSearchTerm('');\n              setFilterCategory('all');\n            }}\n          >\n            Clear Filters\n          </Button>\n        </Box>\n      )}\n\n      {/* Floating Action Button for Admin/Vendor */}\n      <Fab\n        color=\"primary\"\n        aria-label=\"add\"\n        sx={{\n          position: 'fixed',\n          bottom: 16,\n          right: 16,\n        }}\n        onClick={() => navigate('/admin/products/new')}\n      >\n        <Add />\n      </Fab>\n      </Container>\n    </Box>\n  );\n};\n\nexport default Products;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}